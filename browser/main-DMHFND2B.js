var yA=Object.defineProperty,vA=Object.defineProperties;var _A=Object.getOwnPropertyDescriptors;var tI=Object.getOwnPropertySymbols,IA=Object.getPrototypeOf,wA=Object.prototype.hasOwnProperty,EA=Object.prototype.propertyIsEnumerable,DA=Reflect.get;var nI=(t,e,n)=>e in t?yA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})wA.call(e,n)&&nI(t,n,e[n]);if(tI)for(var n of tI(e))EA.call(e,n)&&nI(t,n,e[n]);return t},ae=(t,e)=>vA(t,_A(e));var Gn=(t,e,n)=>DA(IA(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(l){i(l)}},o=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});function rI(t,e){return Object.is(t,e)}var Ve=null,Dc=!1,bc=1,_n=Symbol("SIGNAL");function fe(t){let e=Ve;return Ve=t,e}function iI(){return Ve}var Eo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gh(t){if(Dc)throw new Error("");if(Ve===null)return;Ve.consumerOnSignalRead(t);let e=Ve.nextProducerIndex++;if(Ac(Ve),e<Ve.producerNode.length&&Ve.producerNode[e]!==t&&wo(Ve)){let n=Ve.producerNode[e];Sc(n,Ve.producerIndexOfThis[e])}Ve.producerNode[e]!==t&&(Ve.producerNode[e]=t,Ve.producerIndexOfThis[e]=wo(Ve)?cI(t,Ve,e):0),Ve.producerLastReadVersion[e]=t.version}function bA(){bc++}function sI(t){if(!(wo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===bc)){if(!t.producerMustRecompute(t)&&!yh(t)){t.dirty=!1,t.lastCleanEpoch=bc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=bc}}function oI(t){if(t.liveConsumerNode===void 0)return;let e=Dc;Dc=!0;try{for(let n of t.liveConsumerNode)n.dirty||CA(n)}finally{Dc=e}}function aI(){return Ve?.consumerAllowSignalWrites!==!1}function CA(t){t.dirty=!0,oI(t),t.consumerMarkedDirty?.(t)}function Tc(t){return t&&(t.nextProducerIndex=0),fe(t)}function mh(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(wo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Sc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function yh(t){Ac(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(sI(n),r!==n.version))return!0}return!1}function vh(t){if(Ac(t),wo(t))for(let e=0;e<t.producerNode.length;e++)Sc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function cI(t,e,n){if(uI(t),t.liveConsumerNode.length===0&&lI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=cI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Sc(t,e){if(uI(t),t.liveConsumerNode.length===1&&lI(t))for(let r=0;r<t.producerNode.length;r++)Sc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ac(i),i.producerIndexOfThis[r]=e}}function wo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ac(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function uI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function lI(t){return t.producerNode!==void 0}function dI(t){let e=Object.create(TA);e.computation=t;let n=()=>{if(sI(e),gh(e),e.value===Cc)throw e.error;return e.value};return n[_n]=e,n}var fh=Symbol("UNSET"),ph=Symbol("COMPUTING"),Cc=Symbol("ERRORED"),TA=ae(O({},Eo),{value:fh,dirty:!0,error:null,equal:rI,producerMustRecompute(t){return t.value===fh||t.value===ph},producerRecomputeValue(t){if(t.value===ph)throw new Error("Detected cycle in computations.");let e=t.value;t.value=ph;let n=Tc(t),r;try{r=t.computation()}catch(i){r=Cc,t.error=i}finally{mh(t,n)}if(e!==fh&&e!==Cc&&r!==Cc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function SA(){throw new Error}var hI=SA;function fI(){hI()}function pI(t){hI=t}var AA=null;function gI(t){let e=Object.create(yI);e.value=t;let n=()=>(gh(e),e.value);return n[_n]=e,n}function _h(t,e){aI()||fI(),t.equal(t.value,e)||(t.value=e,RA(t))}function mI(t,e){aI()||fI(),_h(t,e(t.value))}var yI=ae(O({},Eo),{equal:rI,value:void 0});function RA(t){t.version++,bA(),oI(t),AA?.()}function U(t){return typeof t=="function"}function Ti(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Rc=Ti(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Tr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(U(r))try{r()}catch(s){e=s instanceof Rc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{vI(s)}catch(o){e=e??[],o instanceof Rc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Rc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)vI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Tr(n,e)}remove(e){let{_finalizers:n}=this;n&&Tr(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var Ih=Ne.EMPTY;function Mc(t){return t instanceof Ne||t&&"closed"in t&&U(t.remove)&&U(t.add)&&U(t.unsubscribe)}function vI(t){U(t)?t():t.unsubscribe()}var Vt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Si={setTimeout(t,e,...n){let{delegate:r}=Si;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Si;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Nc(t){Si.setTimeout(()=>{let{onUnhandledError:e}=Vt;if(e)e(t);else throw t})}function In(){}var _I=wh("C",void 0,void 0);function II(t){return wh("E",void 0,t)}function wI(t){return wh("N",t,void 0)}function wh(t,e,n){return{kind:t,value:e,error:n}}var Sr=null;function Ai(t){if(Vt.useDeprecatedSynchronousErrorHandling){let e=!Sr;if(e&&(Sr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Sr;if(Sr=null,n)throw r}}else t()}function EI(t){Vt.useDeprecatedSynchronousErrorHandling&&Sr&&(Sr.errorThrown=!0,Sr.error=t)}var Ar=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mc(e)&&e.add(this)):this.destination=xA}static create(e,n,r){return new Ri(e,n,r)}next(e){this.isStopped?Dh(wI(e),this):this._next(e)}error(e){this.isStopped?Dh(II(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dh(_I,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},MA=Function.prototype.bind;function Eh(t,e){return MA.call(t,e)}var bh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){xc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){xc(r)}else xc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){xc(n)}}},Ri=class extends Ar{constructor(e,n,r){super();let i;if(U(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Vt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Eh(e.next,s),error:e.error&&Eh(e.error,s),complete:e.complete&&Eh(e.complete,s)}):i=e}this.destination=new bh(i)}};function xc(t){Vt.useDeprecatedSynchronousErrorHandling?EI(t):Nc(t)}function NA(t){throw t}function Dh(t,e){let{onStoppedNotification:n}=Vt;n&&Si.setTimeout(()=>n(t,e))}var xA={closed:!0,next:In,error:NA,complete:In};var Mi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yt(t){return t}function Ch(...t){return Th(t)}function Th(t){return t.length===0?yt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var X=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=OA(n)?n:new Ri(n,r,i);return Ai(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=DI(r),new r((i,s)=>{let o=new Ri({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Mi](){return this}pipe(...n){return Th(n)(this)}toPromise(n){return n=DI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function DI(t){var e;return(e=t??Vt.Promise)!==null&&e!==void 0?e:Promise}function PA(t){return t&&U(t.next)&&U(t.error)&&U(t.complete)}function OA(t){return t&&t instanceof Ar||PA(t)&&Mc(t)}function Sh(t){return U(t?.lift)}function ie(t){return e=>{if(Sh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,r,i){return new Ah(t,e,n,r,i)}var Ah=class extends Ar{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ni(){return ie((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Wn=class extends X{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Sh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return Ni()(this)}};var bI=Ti(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=(()=>{class t extends X{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Pc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new bI}next(n){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Ih:(this.currentObservers=null,s.push(n),new Ne(()=>{this.currentObservers=null,Tr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new X;return n.source=this,n}}return t.create=(e,n)=>new Pc(e,n),t})(),Pc=class extends Te{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ih}};var Ge=class extends Te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Rh={now(){return(Rh.delegate||Date).now()},delegate:void 0};var Oc=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var Do={setInterval(t,e,...n){let{delegate:r}=Do;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Do;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var xi=class extends Oc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Do.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Do.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Tr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Pi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Pi.now=Rh.now;var Oi=class extends Pi{constructor(e,n=Pi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ki=new Oi(xi),Mh=ki;var kc=class extends xi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Fc=class extends Oi{};var Nh=new Fc(kc);var ct=new X(t=>t.complete());function Lc(t){return t&&U(t.schedule)}function xh(t){return t[t.length-1]}function Vc(t){return U(xh(t))?t.pop():void 0}function Kt(t){return Lc(xh(t))?t.pop():void 0}function CI(t,e){return typeof xh(t)=="number"?t.pop():e}function Ph(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function SI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function TI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rr(t){return this instanceof Rr?(this.v=t,this):new Rr(t)}function AI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(S){return Promise.resolve(S).then(I,p)}}function c(I,S){r[I]&&(i[I]=function(M){return new Promise(function(R,F){s.push([I,M,R,F])>1||u(I,M)})},S&&(i[I]=S(i[I])))}function u(I,S){try{l(r[I](S))}catch(M){y(s[0][3],M)}}function l(I){I.value instanceof Rr?Promise.resolve(I.value.v).then(h,p):y(s[0][2],I)}function h(I){u("next",I)}function p(I){u("throw",I)}function y(I,S){I(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function RI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof TI=="function"?TI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var Fi=t=>t&&typeof t.length=="number"&&typeof t!="function";function Uc(t){return U(t?.then)}function jc(t){return U(t[Mi])}function Bc(t){return Symbol.asyncIterator&&U(t?.[Symbol.asyncIterator])}function $c(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hc=kA();function qc(t){return U(t?.[Hc])}function zc(t){return AI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Rr(n.read());if(i)return yield Rr(void 0);yield yield Rr(r)}}finally{n.releaseLock()}})}function Gc(t){return U(t?.getReader)}function _e(t){if(t instanceof X)return t;if(t!=null){if(jc(t))return FA(t);if(Fi(t))return LA(t);if(Uc(t))return VA(t);if(Bc(t))return MI(t);if(qc(t))return UA(t);if(Gc(t))return jA(t)}throw $c(t)}function FA(t){return new X(e=>{let n=t[Mi]();if(U(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function LA(t){return new X(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function VA(t){return new X(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Nc)})}function UA(t){return new X(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function MI(t){return new X(e=>{BA(t,e).catch(n=>e.error(n))})}function jA(t){return MI(zc(t))}function BA(t,e){var n,r,i,s;return SI(this,void 0,void 0,function*(){try{for(n=RI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function ft(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Kn(t,e=0){return ie((n,r)=>{n.subscribe(se(r,i=>ft(r,t,()=>r.next(i),e),()=>ft(r,t,()=>r.complete(),e),i=>ft(r,t,()=>r.error(i),e)))})}function Qn(t,e=0){return ie((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function NI(t,e){return _e(t).pipe(Qn(e),Kn(e))}function xI(t,e){return _e(t).pipe(Qn(e),Kn(e))}function PI(t,e){return new X(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function OI(t,e){return new X(n=>{let r;return ft(n,e,()=>{r=t[Hc](),ft(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>U(r?.return)&&r.return()})}function Wc(t,e){if(!t)throw new Error("Iterable cannot be null");return new X(n=>{ft(n,e,()=>{let r=t[Symbol.asyncIterator]();ft(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function kI(t,e){return Wc(zc(t),e)}function FI(t,e){if(t!=null){if(jc(t))return NI(t,e);if(Fi(t))return PI(t,e);if(Uc(t))return xI(t,e);if(Bc(t))return Wc(t,e);if(qc(t))return OI(t,e);if(Gc(t))return kI(t,e)}throw $c(t)}function De(t,e){return e?FI(t,e):_e(t)}function W(...t){let e=Kt(t);return De(t,e)}function Yn(t,e){let n=U(t)?t:()=>t,r=i=>i.error(n());return new X(e?i=>e.schedule(r,0,i):r)}function Oh(t){return!!t&&(t instanceof X||U(t.lift)&&U(t.subscribe))}var wn=Ti(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function LI(t){return t instanceof Date&&!isNaN(t)}function Y(t,e){return ie((n,r)=>{let i=0;n.subscribe(se(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:$A}=Array;function HA(t,e){return $A(e)?t(...e):t(e)}function Li(t){return Y(e=>HA(t,e))}var{isArray:qA}=Array,{getPrototypeOf:zA,prototype:GA,keys:WA}=Object;function Kc(t){if(t.length===1){let e=t[0];if(qA(e))return{args:e,keys:null};if(KA(e)){let n=WA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function KA(t){return t&&typeof t=="object"&&zA(t)===GA}function Qc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Yc(...t){let e=Kt(t),n=Vc(t),{args:r,keys:i}=Kc(t);if(r.length===0)return De([],e);let s=new X(QA(r,e,i?o=>Qc(i,o):yt));return n?s.pipe(Li(n)):s}function QA(t,e,n=yt){return r=>{VI(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)VI(e,()=>{let l=De(t[u],e),h=!1;l.subscribe(se(r,p=>{s[u]=p,h||(h=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function VI(t,e,n){t?ft(n,t,e):e()}function UI(t,e,n,r,i,s,o,c){let u=[],l=0,h=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},I=M=>l<r?S(M):u.push(M),S=M=>{s&&e.next(M),l++;let R=!1;_e(n(M,h++)).subscribe(se(e,F=>{i?.(F),s?I(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?ft(e,o,()=>S(F)):S(F)}y()}catch(F){e.error(F)}}))};return t.subscribe(se(e,I,()=>{p=!0,y()})),()=>{c?.()}}function Se(t,e,n=1/0){return U(e)?Se((r,i)=>Y((s,o)=>e(r,s,i,o))(_e(t(r,i))),n):(typeof e=="number"&&(n=e),ie((r,i)=>UI(r,i,t,n)))}function bo(t=1/0){return Se(yt,t)}function jI(){return bo(1)}function Qt(...t){return jI()(De(t,Kt(t)))}function Mr(t){return new X(e=>{_e(t()).subscribe(e)})}function kh(...t){let e=Vc(t),{args:n,keys:r}=Kc(t),i=new X(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;_e(n[h]).subscribe(se(s,y=>{p||(p=!0,l--),c[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Qc(r,c):c),s.complete())}))}});return e?i.pipe(Li(e)):i}var YA=["addListener","removeListener"],ZA=["addEventListener","removeEventListener"],JA=["on","off"];function Vi(t,e,n,r){if(U(n)&&(r=n,n=void 0),r)return Vi(t,e,n).pipe(Li(r));let[i,s]=tR(t)?ZA.map(o=>c=>t[o](e,c,n)):XA(t)?YA.map(BI(t,e)):eR(t)?JA.map(BI(t,e)):[];if(!i&&Fi(t))return Se(o=>Vi(o,e,n))(_e(t));if(!i)throw new TypeError("Invalid event target");return new X(o=>{let c=(...u)=>o.next(1<u.length?u:u[0]);return i(c),()=>s(c)})}function BI(t,e){return n=>r=>t[n](e,r)}function XA(t){return U(t.addListener)&&U(t.removeListener)}function eR(t){return U(t.on)&&U(t.off)}function tR(t){return U(t.addEventListener)&&U(t.removeEventListener)}function $I(t=0,e,n=Mh){let r=-1;return e!=null&&(Lc(e)?n=e:r=e),new X(i=>{let s=LI(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function Zc(...t){let e=Kt(t),n=CI(t,1/0),r=t;return r.length?r.length===1?_e(r[0]):bo(n)(De(r,e)):ct}var Nr=new X(In);function Xe(t,e){return ie((n,r)=>{let i=0;n.subscribe(se(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Zn(t){return ie((e,n)=>{let r=null,i=!1,s;r=e.subscribe(se(n,void 0,void 0,o=>{s=_e(t(o,Zn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function HI(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(se(o,h=>{let p=l++;u=c?t(u,h,p):(c=!0,h),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Ui(t,e){return U(e)?Se(t,e,1):Se(t,1)}function qI(t){return new X(e=>t.subscribe(e))}var nR={connector:()=>new Te};function Jc(t,e=nR){let{connector:n}=e;return ie((r,i)=>{let s=n();_e(t(qI(s))).subscribe(i),i.add(r.subscribe(s))})}function Jn(t){return ie((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ue(t){return t<=0?()=>ct:ie((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function zI(){return ie((t,e)=>{t.subscribe(se(e,In))})}function Co(t){return Y(()=>t)}function Fh(t,e){return e?n=>Qt(e.pipe(Ue(1),zI()),n.pipe(Fh(t))):Se((n,r)=>_e(t(n,r)).pipe(Ue(1),Co(n)))}function Lh(t,e=ki){let n=$I(t,e);return Fh(()=>n)}function Xc(t=rR){return ie((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function rR(){return new wn}function To(t){return ie((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Yt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xe((i,s)=>t(i,s,r)):yt,Ue(1),n?Jn(e):Xc(()=>new wn))}function ji(t){return t<=0?()=>ct:ie((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Vh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xe((i,s)=>t(i,s,r)):yt,ji(1),n?Jn(e):Xc(()=>new wn))}function GI(t,e){let n=U(t)?t:()=>t;return U(e)?Jc(e,{connector:n}):r=>new Wn(r,n)}function Uh(t){return t?e=>Jc(t)(e):e=>GI(new Te)(e)}function jh(t,e){return ie(HI(t,e,arguments.length>=2,!0))}function Bh(...t){let e=Kt(t);return ie((n,r)=>{(e?Qt(t,n,e):Qt(t,n)).subscribe(r)})}function et(t,e){return ie((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(se(r,u=>{i?.unsubscribe();let l=0,h=s++;_e(t(u,h)).subscribe(i=se(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function $h(t){return ie((e,n)=>{_e(t).subscribe(se(n,()=>n.complete(),In)),!n.closed&&e.subscribe(n)})}function Oe(t,e,n){let r=U(t)||e||n?{next:t,error:e,complete:n}:t;return r?ie((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(se(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):yt}var iR="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(Gf(e,n)),this.code=e}};function Gf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Lo(t){return{toString:t}.toString()}var eu="__parameters__";function sR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function xw(t,e,n){return Lo(()=>{let r=sR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,h){let p=u.hasOwnProperty(eu)?u[eu]:Object.defineProperty(u,eu,{value:[]})[eu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function oR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function lt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(lt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function WI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var aR=we({__forward_ref__:we});function Vo(t){return t.__forward_ref__=Vo,t.toString=function(){return lt(this())},t}function ut(t){return Pw(t)?t():t}function Pw(t){return typeof t=="function"&&t.hasOwnProperty(aR)&&t.__forward_ref__===Vo}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Br(t){return{providers:t.providers||[],imports:t.imports||[]}}function xu(t){return KI(t,kw)||KI(t,Fw)}function Ow(t){return xu(t)!==null}function KI(t,e){return t.hasOwnProperty(e)?t[e]:null}function cR(t){let e=t&&(t[kw]||t[Fw]);return e||null}function QI(t){return t&&(t.hasOwnProperty(YI)||t.hasOwnProperty(uR))?t[YI]:null}var kw=we({\u0275prov:we}),YI=we({\u0275inj:we}),Fw=we({ngInjectableDef:we}),uR=we({ngInjectorDef:we}),j=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Lw(t){return t&&!!t.\u0275providers}var lR=we({\u0275cmp:we}),dR=we({\u0275dir:we}),hR=we({\u0275pipe:we}),fR=we({\u0275mod:we}),uu=we({\u0275fac:we}),Ro=we({__NG_ELEMENT_ID__:we}),ZI=we({__NG_ENV_ID__:we});function Vw(t){return typeof t=="string"?t:t==null?"":String(t)}function pR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Vw(t)}function gR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function Wf(t,e){throw new $(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),nf;function Uw(){return nf}function bt(t){let e=nf;return nf=t,e}function jw(t,e,n){let r=xu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&re.Optional)return null;if(e!==void 0)return e;Wf(t,"Injector")}var mR={},Mo=mR,rf="__NG_DI_FLAG__",lu="ngTempTokenPath",yR="ngTokenPath",vR=/\n/gm,_R="\u0275",JI="__source",qi;function IR(){return qi}function Xn(t){let e=qi;return qi=t,e}function wR(t,e=re.Default){if(qi===void 0)throw new $(-203,!1);return qi===null?jw(t,void 0,e):qi.get(t,e&re.Optional?null:void 0,e)}function ne(t,e=re.Default){return(Uw()||wR)(ut(t),e)}function k(t,e=re.Default){return ne(t,Pu(e))}function Pu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function sf(t){let e=[];for(let n=0;n<t.length;n++){let r=ut(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=re.Default;for(let o=0;o<r.length;o++){let c=r[o],u=ER(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(ne(i,s))}else e.push(ne(r))}return e}function Bw(t,e){return t[rf]=e,t.prototype[rf]=e,t}function ER(t){return t[rf]}function DR(t,e,n,r){let i=t[lu];throw e[JI]&&i.unshift(e[JI]),t.message=bR(`
`+t.message,i,n,r),t[yR]=i,t[lu]=null,t}function bR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==_R?t.slice(2):t;let i=lt(e);if(Array.isArray(e))i=e.map(lt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):lt(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vR,`
  `)}`}var ht=Bw(xw("Optional"),8);var $w=Bw(xw("SkipSelf"),4);function Gi(t,e){let n=t.hasOwnProperty(uu);return n?t[uu]:null}function Kf(t,e){t.forEach(n=>Array.isArray(n)?Kf(n,e):e(n))}function Hw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function du(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function CR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function TR(t,e,n){let r=Uo(t,e);return r>=0?t[r|1]=n:(r=~r,CR(t,r,e,n)),r}function Hh(t,e){let n=Uo(t,e);if(n>=0)return t[n|1]}function Uo(t,e){return SR(t,e,1)}function SR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Wi={},Ct=[],Ki=new j(""),qw=new j("",-1),zw=new j(""),hu=class{get(e,n=Mo){if(n===Mo){let r=new Error(`NullInjectorError: No provider for ${lt(e)}!`);throw r.name="NullInjectorError",r}return n}},Gw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gw||{}),Xt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Xt||{}),nr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(nr||{});function AR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function of(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];MR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function RR(t){return t===3||t===4||t===6}function MR(t){return t.charCodeAt(0)===64}function No(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?XI(t,n,i,null,e[++r]):XI(t,n,i,null,null))}}return t}function XI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Ww="ng-template";function NR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&AR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Qf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Qf(t){return t.type===4&&t.value!==Ww}function xR(t,e,n){let r=t.type===4&&!n?Ww:t.value;return e===r}function PR(t,e,n){let r=4,i=t.attrs,s=i!==null?FR(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Ut(r)&&!Ut(u))return!1;if(o&&Ut(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!xR(t,u,n)||u===""&&e.length===1){if(Ut(r))return!1;o=!0}}else if(r&8){if(i===null||!NR(t,i,u,n)){if(Ut(r))return!1;o=!0}}else{let l=e[++c],h=OR(u,i,Qf(t),n);if(h===-1){if(Ut(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Ut(r))return!1;o=!0}}}}return Ut(r)||o}function Ut(t){return(t&1)===0}function OR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return LR(e,t)}function kR(t,e,n=!1){for(let r=0;r<e.length;r++)if(PR(t,e[r],n))return!0;return!1}function FR(t){for(let e=0;e<t.length;e++){let n=t[e];if(RR(n))return e}return t.length}function LR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ew(t,e){return t?":not("+e.trim()+")":e}function VR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Ut(o)&&(e+=ew(s,i),i=""),r=o,s=s||!Ut(r);n++}return i!==""&&(e+=ew(s,i)),e}function UR(t){return t.map(VR).join(",")}function jR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Ut(i))break;i=s}r++}return{attrs:e,classes:n}}function Ou(t){return Lo(()=>{let e=Jw(t),n=ae(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Xt.Emulated,styles:t.styles||Ct,_:null,schemas:t.schemas||null,tView:null,id:""});Xw(n);let r=t.dependencies;return n.directiveDefs=nw(r,!1),n.pipeDefs=nw(r,!0),n.id=HR(n),n})}function BR(t){return Pr(t)||Kw(t)}function $R(t){return t!==null}function $r(t){return Lo(()=>({type:t.type,bootstrap:t.bootstrap||Ct,declarations:t.declarations||Ct,imports:t.imports||Ct,exports:t.exports||Ct,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function tw(t,e){if(t==null)return Wi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=nr.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==nr.None?[r,c]:r,e[s]=o):n[s]=r}return n}function $t(t){return Lo(()=>{let e=Jw(t);return Xw(e),e})}function Pr(t){return t[lR]||null}function Kw(t){return t[dR]||null}function Qw(t){return t[hR]||null}function Yw(t){let e=Pr(t)||Kw(t)||Qw(t);return e!==null?e.standalone:!1}function Zw(t,e){let n=t[fR]||null;if(!n&&e===!0)throw new Error(`Type ${lt(t)} does not have '\u0275mod' property.`);return n}function Jw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Wi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ct,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tw(t.inputs,e),outputs:tw(t.outputs),debugInfo:null}}function Xw(t){t.features?.forEach(e=>e(t))}function nw(t,e){if(!t)return null;let n=e?Qw:BR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter($R)}function HR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Rt(t){return{\u0275providers:t}}function qR(...t){return{\u0275providers:eE(!0,t),\u0275fromNgModule:!0}}function eE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Kf(e,o=>{let c=o;af(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&tE(i,s),n}function tE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Yf(i,s=>{e(s,r)})}}function af(t,e,n,r){if(t=ut(t),!t)return!1;let i=null,s=QI(t),o=!s&&Pr(t);if(!s&&!o){let u=t.ngModule;if(s=QI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)af(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{Kf(s.imports,h=>{af(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&tE(l,e)}if(!c){let l=Gi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ct},i),e({provide:zw,useValue:i,multi:!0},i),e({provide:Ki,useValue:()=>ne(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;Yf(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Yf(t,e){for(let n of t)Lw(n)&&(n=n.\u0275providers),Array.isArray(n)?Yf(n,e):e(n)}var zR=we({provide:String,useValue:we});function nE(t){return t!==null&&typeof t=="object"&&zR in t}function GR(t){return!!(t&&t.useExisting)}function WR(t){return!!(t&&t.useFactory)}function Qi(t){return typeof t=="function"}function KR(t){return!!t.useClass}var ku=new j(""),iu={},QR={},qh;function Zf(){return qh===void 0&&(qh=new hu),qh}var At=class{},xo=class extends At{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uf(e,o=>this.processProvider(o)),this.records.set(qw,Bi(void 0,this)),i.has("environment")&&this.records.set(At,Bi(void 0,this));let s=this.records.get(ku);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(zw,Ct,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Xn(this),r=bt(void 0),i;try{return e()}finally{Xn(n),bt(r)}}get(e,n=Mo,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ZI))return e[ZI](this);r=Pu(r);let i,s=Xn(this),o=bt(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=eM(e)&&xu(e);l&&this.injectableDefInScope(l)?u=Bi(cf(e),iu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&re.Self?Zf():this.parent;return n=r&re.Optional&&n===Mo?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[lu]=c[lu]||[]).unshift(lt(e)),s)throw c;return DR(c,e,"R3InjectorError",this.source)}else throw c}finally{bt(o),Xn(s)}}resolveInjectorInitializers(){let e=fe(null),n=Xn(this),r=bt(void 0),i;try{let s=this.get(Ki,Ct,re.Self);for(let o of s)o()}finally{Xn(n),bt(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(lt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=ut(e);let n=Qi(e)?e:ut(e&&e.provide),r=ZR(e);if(!Qi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Bi(void 0,iu,!0),i.factory=()=>sf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=fe(null);try{return n.value===iu&&(n.value=QR,n.value=n.factory()),typeof n.value=="object"&&n.value&&XR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ut(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function cf(t){let e=xu(t),n=e!==null?e.factory:Gi(t);if(n!==null)return n;if(t instanceof j)throw new $(204,!1);if(t instanceof Function)return YR(t);throw new $(204,!1)}function YR(t){if(t.length>0)throw new $(204,!1);let n=cR(t);return n!==null?()=>n.factory(t):()=>new t}function ZR(t){if(nE(t))return Bi(void 0,t.useValue);{let e=rE(t);return Bi(e,iu)}}function rE(t,e,n){let r;if(Qi(t)){let i=ut(t);return Gi(i)||cf(i)}else if(nE(t))r=()=>ut(t.useValue);else if(WR(t))r=()=>t.useFactory(...sf(t.deps||[]));else if(GR(t))r=()=>ne(ut(t.useExisting));else{let i=ut(t&&(t.useClass||t.provide));if(JR(t))r=()=>new i(...sf(t.deps));else return Gi(i)||cf(i)}return r}function Bi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function JR(t){return!!t.deps}function XR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function eM(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function uf(t,e){for(let n of t)Array.isArray(n)?uf(n,e):n&&Lw(n)?uf(n.\u0275providers,e):e(n)}function Tn(t,e){t instanceof xo&&t.assertNotDestroyed();let n,r=Xn(t),i=bt(void 0);try{return e()}finally{Xn(r),bt(i)}}function tM(){return Uw()!==void 0||IR()!=null}function nM(t){return typeof t=="function"}var Sn=0,ce=1,K=2,dt=3,jt=4,Ht=5,fu=6,pu=7,Bt=8,Yi=9,En=10,$e=11,Po=12,rw=13,is=14,en=15,Zi=16,$i=17,Ji=18,Fu=19,iE=20,er=21,zh=22,Tt=23,rr=25,sE=1;var Or=7,gu=8,mu=9,St=10,yu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(yu||{});function tr(t){return Array.isArray(t)&&typeof t[sE]=="object"}function An(t){return Array.isArray(t)&&t[sE]===!0}function oE(t){return(t.flags&4)!==0}function Lu(t){return t.componentOffset>-1}function Jf(t){return(t.flags&1)===1}function ir(t){return!!t.template}function lf(t){return(t[K]&512)!==0}var df=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function aE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ss(){return cE}function cE(t){return t.type.prototype.ngOnChanges&&(t.setInput=iM),rM}ss.ngInherit=!0;function rM(){let t=lE(this),e=t?.current;if(e){let n=t.previous;if(n===Wi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function iM(t,e,n,r,i){let s=this.declaredInputs[r],o=lE(t)||sM(t,{previous:Wi,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new df(l&&l.currentValue,n,u===Wi),aE(t,e,i,n)}var uE="__ngSimpleChanges__";function lE(t){return t[uE]||null}function sM(t,e){return t[uE]=e}var iw=null;var Zt=function(t,e,n){iw?.(t,e,n)},oM="svg",aM="math";function tn(t){for(;Array.isArray(t);)t=t[Sn];return t}function dE(t,e){return tn(e[t])}function qt(t,e){return tn(e[t.index])}function hE(t,e){return t.data[e]}function or(t,e){let n=e[t];return tr(n)?n:n[Sn]}function Xf(t){return(t[K]&128)===128}function cM(t){return An(t[dt])}function vu(t,e){return e==null?null:t[e]}function fE(t){t[$i]=0}function pE(t){t[K]&1024||(t[K]|=1024,Xf(t)&&Uu(t))}function uM(t,e){for(;t>0;)e=e[is],t--;return e}function Vu(t){return!!(t[K]&9216||t[Tt]?.dirty)}function hf(t){t[En].changeDetectionScheduler?.notify(8),t[K]&64&&(t[K]|=1024),Vu(t)&&Uu(t)}function Uu(t){t[En].changeDetectionScheduler?.notify(0);let e=kr(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!Xf(e)));)e=kr(e)}function gE(t,e){if((t[K]&256)===256)throw new $(911,!1);t[er]===null&&(t[er]=[]),t[er].push(e)}function lM(t,e){if(t[er]===null)return;let n=t[er].indexOf(e);n!==-1&&t[er].splice(n,1)}function kr(t){let e=t[dt];return An(e)?e[dt]:e}var ue={lFrame:bE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var mE=!1;function dM(){return ue.lFrame.elementDepthCount}function hM(){ue.lFrame.elementDepthCount++}function fM(){ue.lFrame.elementDepthCount--}function yE(){return ue.bindingsEnabled}function pM(){return ue.skipHydrationRootTNode!==null}function gM(t){return ue.skipHydrationRootTNode===t}function mM(){ue.skipHydrationRootTNode=null}function Ae(){return ue.lFrame.lView}function Mt(){return ue.lFrame.tView}function jo(t){return ue.lFrame.contextLView=t,t[Bt]}function Bo(t){return ue.lFrame.contextLView=null,t}function pt(){let t=vE();for(;t!==null&&t.type===64;)t=t.parent;return t}function vE(){return ue.lFrame.currentTNode}function yM(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $o(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function _E(){return ue.lFrame.isParent}function vM(){ue.lFrame.isParent=!1}function IE(){return mE}function sw(t){mE=t}function _M(t){return ue.lFrame.bindingIndex=t}function ep(){return ue.lFrame.bindingIndex++}function IM(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function wM(){return ue.lFrame.inI18n}function EM(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,ff(e)}function DM(){return ue.lFrame.currentDirectiveIndex}function ff(t){ue.lFrame.currentDirectiveIndex=t}function bM(t){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function wE(t){ue.lFrame.currentQueryIndex=t}function CM(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[Ht]:null}function EE(t,e,n){if(n&re.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=CM(s),i===null||(s=s[is],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ue.lFrame=DE();return r.currentTNode=e,r.lView=t,!0}function tp(t){let e=DE(),n=t[ce];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function DE(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?bE(t):e}function bE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function CE(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var TE=CE;function np(){let t=CE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function TM(t){return(ue.lFrame.contextLView=uM(t,ue.lFrame.contextLView))[Bt]}function os(){return ue.lFrame.selectedIndex}function Fr(t){ue.lFrame.selectedIndex=t}function SE(){let t=ue.lFrame;return hE(t.tView,t.selectedIndex)}function SM(){return ue.lFrame.currentNamespace}var AE=!0;function rp(){return AE}function ip(t){AE=t}function AM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=cE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function sp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function su(t,e,n){RE(t,e,3,n)}function ou(t,e,n,r){(t[K]&3)===n&&RE(t,e,n,r)}function Gh(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function RE(t,e,n,r){let i=r!==void 0?t[$i]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[$i]+=65536),(c<s||s==-1)&&(RM(t,n,e,u),t[$i]=(t[$i]&4294901760)+u+2),u++}function ow(t,e){Zt(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),Zt(5,t,e)}}function RM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[K]>>14<t[$i]>>16&&(t[K]&3)===e&&(t[K]+=16384,ow(c,s)):ow(c,s)}var zi=-1,Lr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function MM(t){return t instanceof Lr}function NM(t){return(t.flags&8)!==0}function xM(t){return(t.flags&16)!==0}var Wh={},pf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Pu(r);let i=this.injector.get(e,Wh,r);return i!==Wh||n===Wh?i:this.parentInjector.get(e,n,r)}};function ME(t){return t!==zi}function _u(t){return t&32767}function PM(t){return t>>16}function Iu(t,e){let n=PM(t),r=e;for(;n>0;)r=r[is],n--;return r}var gf=!0;function aw(t){let e=gf;return gf=t,e}var OM=256,NE=OM-1,xE=5,kM=0,Jt={};function FM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ro)&&(r=n[Ro]),r==null&&(r=n[Ro]=kM++);let i=r&NE,s=1<<i;e.data[t+(i>>xE)]|=s}function wu(t,e){let n=PE(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,Kh(r.data,t),Kh(e,null),Kh(r.blueprint,null));let i=op(t,e),s=t.injectorIndex;if(ME(i)){let o=_u(i),c=Iu(i,e),u=c[ce].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function Kh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function PE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function op(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=VE(i),r===null)return zi;if(n++,i=i[is],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return zi}function mf(t,e,n){FM(t,e,n)}function OE(t,e,n){if(n&re.Optional||t!==void 0)return t;Wf(e,"NodeInjector")}function kE(t,e,n,r){if(n&re.Optional&&r===void 0&&(r=null),!(n&(re.Self|re.Host))){let i=t[Yi],s=bt(void 0);try{return i?i.get(e,r,n&re.Optional):jw(e,r,n&re.Optional)}finally{bt(s)}}return OE(r,e,n)}function FE(t,e,n,r=re.Default,i){if(t!==null){if(e[K]&2048&&!(r&re.Self)){let o=BM(t,e,n,r,Jt);if(o!==Jt)return o}let s=LE(t,e,n,r,Jt);if(s!==Jt)return s}return kE(e,n,r,i)}function LE(t,e,n,r,i){let s=UM(n);if(typeof s=="function"){if(!EE(e,t,r))return r&re.Host?OE(i,n,r):kE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&re.Optional))Wf(n);else return o}finally{TE()}}else if(typeof s=="number"){let o=null,c=PE(t,e),u=zi,l=r&re.Host?e[en][Ht]:null;for((c===-1||r&re.SkipSelf)&&(u=c===-1?op(t,e):e[c+8],u===zi||!uw(r,!1)?c=-1:(o=e[ce],c=_u(u),e=Iu(u,e)));c!==-1;){let h=e[ce];if(cw(s,c,h.data)){let p=LM(c,e,n,o,r,l);if(p!==Jt)return p}u=e[c+8],u!==zi&&uw(r,e[ce].data[c+8]===l)&&cw(s,c,e)?(o=h,c=_u(u),e=Iu(u,e)):c=-1}}return i}function LM(t,e,n,r,i,s){let o=e[ce],c=o.data[t+8],u=r==null?Lu(c)&&gf:r!=o&&(c.type&3)!==0,l=i&re.Host&&s===c,h=VM(c,o,n,u,l);return h!==null?Xi(e,o,h,c):Jt}function VM(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?c:c+h,y=i?c+h:l;for(let I=p;I<y;I++){let S=o[I];if(I<u&&n===S||I>=u&&S.type===n)return I}if(i){let I=o[u];if(I&&ir(I)&&I.type===n)return u}return null}function Xi(t,e,n,r){let i=t[n],s=e.data;if(MM(i)){let o=i;o.resolving&&gR(pR(s[n]));let c=aw(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?bt(o.injectImpl):null,h=EE(t,r,re.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&AM(n,s[n],e)}finally{l!==null&&bt(l),aw(c),o.resolving=!1,TE()}}return i}function UM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ro)?t[Ro]:void 0;return typeof e=="number"?e>=0?e&NE:jM:e}function cw(t,e,n){let r=1<<t;return!!(n[e+(t>>xE)]&r)}function uw(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var xr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return FE(this._tNode,this._lView,e,Pu(r),n)}};function jM(){return new xr(pt(),Ae())}function Ho(t){return Lo(()=>{let e=t.prototype.constructor,n=e[uu]||yf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[uu]||yf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function yf(t){return Pw(t)?()=>{let e=yf(ut(t));return e&&e()}:Gi(t)}function BM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[K]&2048&&!(o[K]&512);){let c=LE(s,o,n,r|re.Self,Jt);if(c!==Jt)return c;let u=s.parent;if(!u){let l=o[iE];if(l){let h=l.get(n,Jt,r);if(h!==Jt)return h}u=VE(o),o=o[is]}s=u}return i}function VE(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[Ht]:null}function lw(t,e=null,n=null,r){let i=UE(t,e,n,r);return i.resolveInjectorInitializers(),i}function UE(t,e=null,n=null,r,i=new Set){let s=[n||Ct,qR(t)];return r=r||(typeof t=="object"?void 0:lt(t)),new xo(s,e||Zf(),r||null,i)}var tt=class t{static{this.THROW_IF_NOT_FOUND=Mo}static{this.NULL=new hu}static create(e,n){if(Array.isArray(e))return lw({name:""},n,e,"");{let r=e.name??"";return lw({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=H({token:t,providedIn:"any",factory:()=>ne(qw)})}static{this.__NG_ELEMENT_ID__=-1}};var $M=new j("");$M.__NG_ELEMENT_ID__=t=>{let e=pt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&re.Optional)return null;throw new $(204,!1)};var HM="ngOriginalError";function Qh(t){return t[HM]}var jE=!0,BE=(()=>{class t{static{this.__NG_ELEMENT_ID__=qM}static{this.__NG_ENV_ID__=n=>n}}return t})(),vf=class extends BE{constructor(e){super(),this._lView=e}onDestroy(e){return gE(this._lView,e),()=>lM(this._lView,e)}};function qM(){return new vf(Ae())}var as=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ge(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}}return t})();var _f=class extends Te{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,tM()&&(this.destroyRef=k(BE,{optional:!0})??void 0,this.pendingTasks=k(as,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ne&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},je=_f;function Eu(...t){}function $E(t){let e,n;function r(){t=Eu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function dw(t){return queueMicrotask(()=>t()),()=>{t=Eu}}var ap="isAngularZone",Du=ap+"_ID",zM=0,me=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new je(!1),this.onMicrotaskEmpty=new je(!1),this.onStable=new je(!1),this.onError=new je(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=jE}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,KM(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ap)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,GM,Eu,Eu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},GM={};function cp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function WM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){$E(()=>{t.callbackScheduled=!1,If(t),t.isCheckStableRunning=!0,cp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),If(t)}function KM(t){let e=()=>{WM(t)},n=zM++;t._inner=t._inner.fork({name:"angular",properties:{[ap]:!0,[Du]:n,[Du+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(QM(u))return r.invokeTask(s,o,c,u);try{return hw(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),fw(t)}},onInvoke:(r,i,s,o,c,u,l)=>{try{return hw(t),r.invoke(s,o,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!YM(u)&&e(),fw(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,If(t),cp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function If(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function hw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function fw(t){t._nesting--,cp(t)}var wf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new je,this.onMicrotaskEmpty=new je,this.onStable=new je,this.onError=new je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function QM(t){return HE(t,"__ignore_ng_zone__")}function YM(t){return HE(t,"__scheduler_tick__")}function HE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Dn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Qh(e);for(;n&&Qh(n);)n=Qh(n);return n||null}},ZM=new j("",{providedIn:"root",factory:()=>{let t=k(me),e=k(Dn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function JM(){return ju(pt(),Ae())}function ju(t,e){return new Hr(qt(t,e))}var Hr=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=JM}}return t})();function qE(t){return(t.flags&128)===128}var zE=new Map,XM=0;function eN(){return XM++}function tN(t){zE.set(t[Fu],t)}function Ef(t){zE.delete(t[Fu])}var pw="__ngContext__";function Vr(t,e){tr(e)?(t[pw]=e[Fu],tN(e)):t[pw]=e}function GE(t){return KE(t[Po])}function WE(t){return KE(t[jt])}function KE(t){for(;t!==null&&!An(t);)t=t[jt];return t}var Df;function QE(t){Df=t}function nN(){if(Df!==void 0)return Df;if(typeof document<"u")return document;throw new $(210,!1)}var up=new j("",{providedIn:"root",factory:()=>rN}),rN="ng",lp=new j(""),zt=new j("",{providedIn:"platform",factory:()=>"unknown"});var dp=new j("",{providedIn:"root",factory:()=>nN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var iN="h",sN="b";var oN=()=>null;function hp(t,e,n=!1){return oN(t,e,n)}var YE=!1,aN=new j("",{providedIn:"root",factory:()=>YE});var bf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iR})`}};function fp(t){return t instanceof bf?t.changingThisBreaksApplicationSecurity:t}function ZE(t){return t instanceof Function?t():t}var bn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bn||{}),cN;function pp(t,e){return cN(t,e)}function Hi(t,e,n,r,i){if(r!=null){let s,o=!1;An(r)?s=r:tr(r)&&(o=!0,r=r[Sn]);let c=tn(r);t===0&&n!==null?i==null?nD(e,n,c):bu(e,n,c,i||null,!0):t===1&&n!==null?bu(e,n,c,i||null,!0):t===2?DN(e,c,o):t===3&&e.destroyNode(c),s!=null&&CN(e,t,s,n,i)}}function uN(t,e){return t.createText(e)}function lN(t,e,n){t.setValue(e,n)}function JE(t,e,n){return t.createElement(e,n)}function dN(t,e){XE(t,e),e[Sn]=null,e[Ht]=null}function hN(t,e,n,r,i,s){r[Sn]=i,r[Ht]=e,Bu(t,r,n,1,i,s)}function XE(t,e){e[En].changeDetectionScheduler?.notify(9),Bu(t,e,e[$e],2,null,null)}function fN(t){let e=t[Po];if(!e)return Yh(t[ce],t);for(;e;){let n=null;if(tr(e))n=e[Po];else{let r=e[St];r&&(n=r)}if(!n){for(;e&&!e[jt]&&e!==t;)tr(e)&&Yh(e[ce],e),e=e[dt];e===null&&(e=t),tr(e)&&Yh(e[ce],e),n=e&&e[jt]}e=n}}function pN(t,e,n,r){let i=St+r,s=n.length;r>0&&(n[i-1][jt]=e),r<s-St?(e[jt]=n[i],Hw(n,St+r,e)):(n.push(e),e[jt]=null),e[dt]=n;let o=e[Zi];o!==null&&n!==o&&eD(o,e);let c=e[Ji];c!==null&&c.insertView(t),hf(e),e[K]|=128}function eD(t,e){let n=t[mu],r=e[dt];if(tr(r))t[K]|=yu.HasTransplantedViews;else{let i=r[dt][en];e[en]!==i&&(t[K]|=yu.HasTransplantedViews)}n===null?t[mu]=[e]:n.push(e)}function gp(t,e){let n=t[mu],r=n.indexOf(e);n.splice(r,1)}function Cf(t,e){if(t.length<=St)return;let n=St+e,r=t[n];if(r){let i=r[Zi];i!==null&&i!==t&&gp(i,r),e>0&&(t[n-1][jt]=r[jt]);let s=du(t,St+e);dN(r[ce],r);let o=s[Ji];o!==null&&o.detachView(s[ce]),r[dt]=null,r[jt]=null,r[K]&=-129}return r}function tD(t,e){if(!(e[K]&256)){let n=e[$e];n.destroyNode&&Bu(t,e,n,3,null,null),fN(e)}}function Yh(t,e){if(e[K]&256)return;let n=fe(null);try{e[K]&=-129,e[K]|=256,e[Tt]&&vh(e[Tt]),mN(t,e),gN(t,e),e[ce].type===1&&e[$e].destroy();let r=e[Zi];if(r!==null&&An(e[dt])){r!==e[dt]&&gp(r,e);let i=e[Ji];i!==null&&i.detachView(t)}Ef(e)}finally{fe(n)}}function gN(t,e){let n=t.cleanup,r=e[pu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[pu]=null);let i=e[er];if(i!==null){e[er]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function mN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Lr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Zt(4,c,u);try{u.call(c)}finally{Zt(5,c,u)}}else{Zt(4,i,s);try{s.call(i)}finally{Zt(5,i,s)}}}}}function yN(t,e,n){return vN(t,e.parent,n)}function vN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Sn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Xt.None||s===Xt.Emulated)return null}return qt(r,n)}}function bu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function nD(t,e,n){t.appendChild(e,n)}function gw(t,e,n,r,i){r!==null?bu(t,e,n,r,i):nD(t,e,n)}function rD(t,e){return t.parentNode(e)}function _N(t,e){return t.nextSibling(e)}function IN(t,e,n){return EN(t,e,n)}function wN(t,e,n){return t.type&40?qt(t,n):null}var EN=wN,mw;function mp(t,e,n,r){let i=yN(t,r,e),s=e[$e],o=r.parent||e[Ht],c=IN(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)gw(s,i,n[u],c,!1);else gw(s,i,n,c,!1);mw!==void 0&&mw(s,r,e,n,i)}function So(t,e){if(e!==null){let n=e.type;if(n&3)return qt(e,t);if(n&4)return Tf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return So(t,r);{let i=t[e.index];return An(i)?Tf(-1,i):tn(i)}}else{if(n&128)return So(t,e.next);if(n&32)return pp(e,t)()||tn(t[e.index]);{let r=iD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=kr(t[en]);return So(i,r)}else return So(t,e.next)}}}return null}function iD(t,e){if(e!==null){let r=t[en][Ht],i=e.projection;return r.projection[i]}return null}function Tf(t,e){let n=St+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return So(r,i)}return e[Or]}function DN(t,e,n){t.removeChild(null,e,n)}function yp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&Vr(tn(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)yp(t,e,n.child,r,i,s,!1),Hi(e,t,i,c,s);else if(u&32){let l=pp(n,r),h;for(;h=l();)Hi(e,t,i,h,s);Hi(e,t,i,c,s)}else u&16?bN(t,e,r,n,i,s):Hi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Bu(t,e,n,r,i,s){yp(n,r,t.firstChild,e,i,s,!1)}function bN(t,e,n,r,i,s){let o=n[en],u=o[Ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Hi(e,t,i,h,s)}else{let l=u,h=o[dt];qE(r)&&(l.flags|=128),yp(t,e,l,h,i,s,!0)}}function CN(t,e,n,r,i){let s=n[Or],o=tn(n);s!==o&&Hi(e,t,r,s,i);for(let c=St;c<n.length;c++){let u=n[c];Bu(u[ce],u,t,e,r,s)}}function TN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:bn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=bn.Important),t.setStyle(n,r,i,s))}}function SN(t,e,n){t.setAttribute(e,"style",n)}function sD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function oD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&of(t,e,r),i!==null&&sD(t,e,i),s!==null&&SN(t,e,s)}var cs={};function ar(t=1){aD(Mt(),Ae(),os()+t,!1)}function aD(t,e,n,r){if(!r)if((e[K]&3)===3){let s=t.preOrderCheckHooks;s!==null&&su(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ou(e,s,0,n)}Fr(n)}function be(t,e=re.Default){let n=Ae();if(n===null)return ne(t,e);let r=pt();return FE(r,n,ut(t),e)}function cD(t,e,n,r,i,s){let o=fe(null);try{let c=null;i&nr.SignalBased&&(c=e[r][_n]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&nr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):aE(e,c,r,s)}finally{fe(o)}}function AN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Fr(~i);else{let s=i,o=n[++r],c=n[++r];EM(o,s);let u=e[s];c(2,u)}}}finally{Fr(-1)}}function $u(t,e,n,r,i,s,o,c,u,l,h){let p=e.blueprint.slice();return p[Sn]=i,p[K]=r|4|128|8|64,(l!==null||t&&t[K]&2048)&&(p[K]|=2048),fE(p),p[dt]=p[is]=t,p[Bt]=n,p[En]=o||t&&t[En],p[$e]=c||t&&t[$e],p[Yi]=u||t&&t[Yi]||null,p[Ht]=s,p[Fu]=eN(),p[fu]=h,p[iE]=l,p[en]=e.type==2?t[en]:p,p}function Hu(t,e,n,r,i){let s=t.data[e];if(s===null)s=RN(t,e,n,r,i),wM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=yM();s.injectorIndex=o===null?-1:o.injectorIndex}return $o(s,!0),s}function RN(t,e,n,r,i){let s=vE(),o=_E(),c=o?s:s&&s.parent,u=t.data[e]=ON(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function uD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function lD(t,e,n,r,i){let s=os(),o=r&2;try{Fr(-1),o&&e.length>rr&&aD(t,e,rr,!1),Zt(o?2:0,i),n(r,i)}finally{Fr(s),Zt(o?3:1,i)}}function dD(t,e,n){if(oE(e)){let r=fe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{fe(r)}}}function hD(t,e,n){yE()&&(jN(t,e,n,qt(n,e)),(n.flags&64)===64&&vD(t,e,n))}function fD(t,e,n=qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function pD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=vp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function vp(t,e,n,r,i,s,o,c,u,l,h){let p=rr+r,y=p+i,I=MN(p,y),S=typeof l=="function"?l():l;return I[ce]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function MN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:cs);return n}function NN(t,e,n,r){let s=r.get(aN,YE)||n===Xt.ShadowDom,o=t.selectRootElement(e,s);return xN(o),o}function xN(t){PN(t)}var PN=()=>null;function ON(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return pM()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function yw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=nr.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?vw(r,n,l,c,u):vw(r,n,l,c)}return r}function vw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function kN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],y=n?n.get(p):null,I=y?y.inputs:null,S=y?y.outputs:null;u=yw(0,p.inputs,h,u,I),l=yw(1,p.outputs,h,l,S);let M=u!==null&&o!==null&&!Qf(e)?QN(u,h,o):null;c.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function FN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function gD(t,e,n,r,i,s,o,c){let u=qt(e,n),l=e.inputs,h;!c&&l!=null&&(h=l[r])?(_p(t,n,h,r,i),Lu(e)&&LN(n,e.index)):e.type&3?(r=FN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function LN(t,e){let n=or(e,t);n[K]&16||(n[K]|=64)}function mD(t,e,n,r){if(yE()){let i=r===null?null:{"":-1},s=$N(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&yD(t,e,n,o,i,c),i&&HN(n,r,i)}n.mergedAttrs=No(n.mergedAttrs,n.attrs)}function yD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)mf(wu(n,e),t,r[l].type);zN(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,c=!1,u=uD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=No(n.mergedAttrs,h.hostAttrs),GN(t,n,e,u,h),qN(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}kN(t,n,s)}function VN(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;UN(o)!=c&&o.push(c),o.push(n,r,s)}}function UN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function jN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Lu(n)&&WN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||wu(n,e),Vr(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=Xi(e,t,c,n);if(Vr(l,e),o!==null&&KN(e,c-i,l,u,n,o),ir(u)){let h=or(n.index,e);h[Bt]=Xi(e,t,c,n)}}}function vD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=DM();try{Fr(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];ff(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&BN(u,l)}}finally{Fr(-1),ff(o)}}function BN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function $N(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(kR(e,o.selectors,!1))if(r||(r=[]),ir(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Sf(t,e,u)}else r.unshift(o),Sf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Sf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function HN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function qN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ir(e)&&(n[""]=t)}}function zN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function GN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Gi(i.type,!0)),o=new Lr(s,ir(i),be);t.blueprint[r]=o,n[r]=o,VN(t,e,r,uD(t,n,i.hostVars,cs),i)}function WN(t,e,n){let r=qt(e,t),i=pD(n),s=t[En].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=qu(t,$u(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function KN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],h=o[c++],p=o[c++];cD(r,n,u,l,h,p)}}function QN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function _D(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ID(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];wE(s),c.contentQueries(2,e[o],o)}}}finally{fe(r)}}}function qu(t,e){return t[Po]?t[rw][jt]=e:t[Po]=e,t[rw]=e,e}function Af(t,e,n){wE(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function YN(t){return t[pu]??=[]}function ZN(t){return t.cleanup??=[]}function wD(t,e){let n=t[Yi],r=n?n.get(Dn,null):null;r&&r.handleError(e)}function _p(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],h=t.data[o];cD(h,l,r,c,u,i)}}function JN(t,e,n){let r=dE(e,t);lN(t[$e],r,n)}function XN(t,e){let n=or(e,t),r=n[ce];ex(r,n);let i=n[Sn];i!==null&&n[fu]===null&&(n[fu]=hp(i,n[Yi])),Ip(r,n,n[Bt])}function ex(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ip(t,e,n){tp(e);try{let r=t.viewQuery;r!==null&&Af(1,r,n);let i=t.template;i!==null&&lD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ji]?.finishViewCreation(t),t.staticContentQueries&&ID(t,e),t.staticViewQueries&&Af(2,t.viewQuery,n);let s=t.components;s!==null&&tx(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,np()}}function tx(t,e){for(let n=0;n<e.length;n++)XN(t,e[n])}function nx(t,e,n,r){let i=fe(null);try{let s=e.tView,c=t[K]&4096?4096:16,u=$u(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Zi]=l;let h=t[Ji];return h!==null&&(u[Ji]=h.createEmbeddedView(s)),Ip(s,u,n),u}finally{fe(i)}}function _w(t,e){return!e||e.firstChild===null||qE(t)}function rx(t,e,n,r=!0){let i=e[ce];if(pN(i,e,t,n),r){let o=Tf(n,t),c=e[$e],u=rD(c,t[Or]);u!==null&&hN(i,t[Ht],c,e,u,o)}let s=e[fu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Cu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(tn(s)),An(s)&&ix(s,r);let o=n.type;if(o&8)Cu(t,e,n.child,r);else if(o&32){let c=pp(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=iD(e,n);if(Array.isArray(c))r.push(...c);else{let u=kr(e[en]);Cu(u[ce],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function ix(t,e){for(let n=St;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&Cu(r[ce],r,i,e)}t[Or]!==t[Sn]&&e.push(t[Or])}var ED=[];function sx(t){return t[Tt]??ox(t)}function ox(t){let e=ED.pop()??Object.create(cx);return e.lView=t,e}function ax(t){t.lView[Tt]!==t&&(t.lView=null,ED.push(t))}var cx=ae(O({},Eo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Uu(t.lView)},consumerOnSignalRead(){this.lView[Tt]=this}});function ux(t){let e=t[Tt]??Object.create(lx);return e.lView=t,e}var lx=ae(O({},Eo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=kr(t.lView);for(;e&&!DD(e[ce]);)e=kr(e);e&&pE(e)},consumerOnSignalRead(){this.lView[Tt]=this}});function DD(t){return t.type!==2}var dx=100;function bD(t,e=!0,n=0){let r=t[En],i=r.rendererFactory,s=!1;s||i.begin?.();try{hx(t,n)}catch(o){throw e&&wD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function hx(t,e){let n=IE();try{sw(!0),Rf(t,e);let r=0;for(;Vu(t);){if(r===dx)throw new $(103,!1);r++,Rf(t,1)}}finally{sw(n)}}function fx(t,e,n,r){let i=e[K];if((i&256)===256)return;let s=!1,o=!1;!s&&e[En].inlineEffectRunner?.flush(),tp(e);let c=!0,u=null,l=null;s||(DD(t)?(l=sx(e),u=Tc(l)):iI()===null?(c=!1,l=ux(e),u=Tc(l)):e[Tt]&&(vh(e[Tt]),e[Tt]=null));try{fE(e),_M(t.bindingStartIndex),n!==null&&lD(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let I=t.preOrderCheckHooks;I!==null&&su(e,I,null)}else{let I=t.preOrderHooks;I!==null&&ou(e,I,0,null),Gh(e,0)}if(o||px(e),CD(e,0),t.contentQueries!==null&&ID(t,e),!s)if(h){let I=t.contentCheckHooks;I!==null&&su(e,I)}else{let I=t.contentHooks;I!==null&&ou(e,I,1),Gh(e,1)}AN(t,e);let p=t.components;p!==null&&SD(e,p,0);let y=t.viewQuery;if(y!==null&&Af(2,y,r),!s)if(h){let I=t.viewCheckHooks;I!==null&&su(e,I)}else{let I=t.viewHooks;I!==null&&ou(e,I,2),Gh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[zh]){for(let I of e[zh])I();e[zh]=null}s||(e[K]&=-73)}catch(h){throw s||Uu(e),h}finally{l!==null&&(mh(l,u),c&&ax(l)),np()}}function CD(t,e){for(let n=GE(t);n!==null;n=WE(n))for(let r=St;r<n.length;r++){let i=n[r];TD(i,e)}}function px(t){for(let e=GE(t);e!==null;e=WE(e)){if(!(e[K]&yu.HasTransplantedViews))continue;let n=e[mu];for(let r=0;r<n.length;r++){let i=n[r];pE(i)}}}function gx(t,e,n){let r=or(e,t);TD(r,n)}function TD(t,e){Xf(t)&&Rf(t,e)}function Rf(t,e){let r=t[ce],i=t[K],s=t[Tt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&yh(s)),o||=!1,s&&(s.dirty=!1),t[K]&=-9217,o)fx(r,t,r.template,t[Bt]);else if(i&8192){CD(t,1);let c=r.components;c!==null&&SD(t,c,1)}}function SD(t,e,n){for(let r=0;r<e.length;r++)gx(t,e[r],n)}function wp(t,e){let n=IE()?64:1088;for(t[En].changeDetectionScheduler?.notify(e);t;){t[K]|=n;let r=kr(t);if(lf(t)&&!r)return t;t=r}return null}var Ur=class{get rootNodes(){let e=this._lView,n=e[ce];return Cu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bt]}set context(e){this._lView[Bt]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[dt];if(An(e)){let n=e[gu],r=n?n.indexOf(this):-1;r>-1&&(Cf(e,r),du(n,r))}this._attachedToViewContainer=!1}tD(this._lView[ce],this._lView)}onDestroy(e){gE(this._lView,e)}markForCheck(){wp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){hf(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,bD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=lf(this._lView),n=this._lView[Zi];n!==null&&!e&&gp(n,this._lView),XE(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=lf(this._lView),r=this._lView[Zi];r!==null&&!n&&eD(r,this._lView),hf(this._lView)}},zu=(()=>{class t{static{this.__NG_ELEMENT_ID__=vx}}return t})(),mx=zu,yx=class extends mx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=nx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ur(i)}};function vx(){return _x(pt(),Ae())}function _x(t,e){return t.type&4?new yx(e,t,ju(t,e)):null}var wW=new RegExp(`^(\\d+)*(${sN}|${iN})*(.*)`);var Ix=()=>null;function Iw(t,e){return Ix(t,e)}var es=class{},Gu=new j("",{providedIn:"root",factory:()=>!1});var AD=new j(""),RD=new j(""),Mf=class{},Tu=class{};function wx(t){let e=Error(`No component factory found for ${lt(t)}.`);return e[Ex]=t,e}var Ex="ngComponent";var Nf=class{resolveComponentFactory(e){throw wx(e)}},ts=class{static{this.NULL=new Nf}},ns=class{},us=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Dx()}}return t})();function Dx(){let t=Ae(),e=pt(),n=or(e.index,t);return(tr(n)?n:t)[$e]}var bx=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>null})}}return t})();function xf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=WI(i,c);else if(s==2){let u=c,l=e[++o];r=WI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Su=class extends ts{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Pr(e);return new Oo(n,this.ngModule)}};function ww(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:nr.None;e?n.push({propName:o,templateName:r,isSignal:(c&nr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function Cx(t){let e=t.toLowerCase();return e==="svg"?oM:e==="math"?aM:null}var Oo=class extends Tu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=ww(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return ww(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=UR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=fe(null);try{i=i||this.ngModule;let o=i instanceof At?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new pf(e,o):e,u=c.get(ns,null);if(u===null)throw new $(407,!1);let l=c.get(bx,null),h=c.get(es,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},y=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",S=r?NN(y,r,this.componentDef.encapsulation,c):JE(y,I,Cx(I)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;S!==null&&(R=hp(S,c,!0));let F=vp(0,null,null,1,0,null,null,null,null,null,null),B=$u(null,F,null,M,null,null,p,y,c,null,R);tp(B);let z,oe,Re=null;try{let J=this.componentDef,D,m=null;J.findHostDirectiveDefs?(D=[],m=new Map,J.findHostDirectiveDefs(J,D,m),D.push(J)):D=[J];let v=Tx(B,S);Re=Sx(v,S,J,D,B,p,y),oe=hE(F,rr),S&&Mx(y,J,S,r),n!==void 0&&Nx(oe,this.ngContentSelectors,n),z=Rx(Re,J,D,m,B,[xx]),Ip(F,B,null)}catch(J){throw Re!==null&&Ef(Re),Ef(B),J}finally{np()}return new Pf(this.componentType,z,ju(oe,B),B,oe)}finally{fe(s)}}},Pf=class extends Mf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ur(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;_p(s[ce],s,i,e,n),this.previousInputValues.set(e,n);let o=or(this._tNode.index,s);wp(o,1)}}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Tx(t,e){let n=t[ce],r=rr;return t[r]=e,Hu(n,r,2,"#host",null)}function Sx(t,e,n,r,i,s,o){let c=i[ce];Ax(r,t,e,o);let u=null;e!==null&&(u=hp(e,i[Yi]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=$u(i,pD(n),null,h,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&Sf(c,t,r.length-1),qu(i,p),i[t.index]=p}function Ax(t,e,n,r){for(let i of t)e.mergedAttrs=No(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(xf(e,e.mergedAttrs,!0),n!==null&&oD(r,n,e))}function Rx(t,e,n,r,i,s){let o=pt(),c=i[ce],u=qt(o,i);yD(c,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,y=Xi(i,c,p,o);Vr(y,i)}vD(c,i,o),u&&Vr(u,i);let l=Xi(i,c,o.directiveStart+o.componentOffset,o);if(t[Bt]=i[Bt]=l,s!==null)for(let h of s)h(l,e);return dD(c,o,i),l}function Mx(t,e,n,r){if(r)of(t,n,["ng-version","18.2.13"]);else{let{attrs:i,classes:s}=jR(e.selectors[0]);i&&of(t,n,i),s&&s.length>0&&sD(t,n,s.join(" "))}}function Nx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function xx(){let t=pt();sp(Ae()[ce],t)}var ls=(()=>{class t{static{this.__NG_ELEMENT_ID__=Px}}return t})();function Px(){let t=pt();return kx(t,Ae())}var Ox=ls,MD=class extends Ox{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ju(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){let e=op(this._hostTNode,this._hostLView);if(ME(e)){let n=Iu(e,this._hostLView),r=_u(e),i=n[ce].data[r+8];return new xr(i,n)}else return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ew(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-St}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Iw(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,_w(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!nM(e),c;if(o)c=n;else{let S=n||{};c=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new Oo(Pr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(At,null);M&&(s=M)}let h=Pr(u.componentType??{}),p=Iw(this._lContainer,h?.id??null),y=p?.firstChild??null,I=u.create(l,i,y,s);return this.insertImpl(I.hostView,c,_w(this._hostTNode,p)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(cM(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[dt],l=new MD(u,u[Ht],u[dt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return rx(o,i,s,r),e.attachToViewContainerRef(),Hw(Zh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ew(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Cf(this._lContainer,n);r&&(du(Zh(this._lContainer),n),tD(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=Cf(this._lContainer,n);return r&&du(Zh(this._lContainer),n)!=null?new Ur(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ew(t){return t[gu]}function Zh(t){return t[gu]||(t[gu]=[])}function kx(t,e){let n,r=e[t.index];return An(r)?n=r:(n=_D(r,e,null,t),e[t.index]=n,qu(e,n)),Lx(n,e,t,r),new MD(n,t,e)}function Fx(t,e){let n=t[$e],r=n.createComment(""),i=qt(e,t),s=rD(n,i);return bu(n,s,r,_N(n,i),!1),r}var Lx=jx,Vx=()=>!1;function Ux(t,e,n){return Vx(t,e,n)}function jx(t,e,n,r){if(t[Or])return;let i;n.type&8?i=tn(r):i=Fx(e,n),t[Or]=i}var Dw=new Set;function qo(t){Dw.has(t)||(Dw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Bx(t){return typeof t=="function"&&t[_n]!==void 0}function Wu(t,e){qo("NgSignals");let n=gI(t),r=n[_n];return e?.equal&&(r.equal=e.equal),n.set=i=>_h(r,i),n.update=i=>mI(r,i),n.asReadonly=$x.bind(n),n}function $x(){let t=this[_n];if(t.readonlyFn===void 0){let e=()=>this();e[_n]=t,t.readonlyFn=e}return t.readonlyFn}function ND(t){return Bx(t)&&typeof t.set=="function"}function Hx(t){return Object.getPrototypeOf(t.prototype).constructor}function ds(t){let e=Hx(t.type),n=!0,r=[t];for(;e;){let i;if(ir(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=tu(t.inputs),o.inputTransforms=tu(t.inputTransforms),o.declaredInputs=tu(t.declaredInputs),o.outputs=tu(t.outputs);let c=i.hostBindings;c&&Kx(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&Gx(t,u),l&&Wx(t,l),qx(t,i),oR(t.outputs,i.outputs),ir(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===ds&&(n=!1)}}e=Object.getPrototypeOf(e)}zx(r)}function qx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function zx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=No(i.hostAttrs,n=No(n,i.hostAttrs))}}function tu(t){return t===Wi?{}:t===Ct?[]:t}function Gx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Wx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Kx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var sr=class{},ko=class{};var Of=class extends sr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Su(this);let s=Zw(e);this._bootstrapComponents=ZE(s.bootstrap),this._r3Injector=UE(e,n,[{provide:sr,useValue:this},{provide:ts,useValue:this.componentFactoryResolver},...r],lt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},kf=class extends ko{constructor(e){super(),this.moduleType=e}create(e){return new Of(this.moduleType,e,[])}};var Au=class extends sr{constructor(e){super(),this.componentFactoryResolver=new Su(this),this.instance=null;let n=new xo([...e.providers,{provide:sr,useValue:this},{provide:ts,useValue:this.componentFactoryResolver}],e.parent||Zf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ep(t,e,n=null){return new Au({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function xD(t){return Yx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Qx(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Yx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ku(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Zx(t){return(t.flags&32)===32}function Jx(t,e,n,r,i,s,o,c,u){let l=e.consts,h=Hu(e,t,4,o||null,c||null);mD(e,n,h,vu(l,u)),sp(e,h);let p=h.tView=vp(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Xx(t,e,n,r,i,s,o,c,u,l){let h=n+rr,p=e.firstCreatePass?Jx(h,e,t,r,i,s,o,c,u):e.data[h];$o(p,!1);let y=eP(e,t,p,n);rp()&&mp(e,t,y,p),Vr(y,t);let I=_D(y,t,y,p);return t[h]=I,qu(t,I),Ux(I,p,t),Jf(p)&&hD(e,t,p),u!=null&&fD(t,p,l),p}function Dp(t,e,n,r,i,s,o,c){let u=Ae(),l=Mt(),h=vu(l.consts,s);return Xx(u,l,t,e,n,r,i,h,o,c),Dp}var eP=tP;function tP(t,e,n,r){return ip(!0),e[$e].createComment("")}var Ao=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ao||{}),nP=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}}return t})(),bw=class t{constructor(){this.ngZone=k(me),this.scheduler=k(es),this.errorHandler=k(Dn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ao.EarlyRead,Ao.Write,Ao.MixedReadWrite,Ao.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}};function rP(t,e,n,r){return Ku(t,ep(),n)?e+Vw(n)+r:cs}function nu(t,e){return t<<17|e<<2}function jr(t){return t>>17&32767}function iP(t){return(t&2)==2}function sP(t,e){return t&131071|e<<17}function Ff(t){return t|2}function rs(t){return(t&131068)>>2}function Jh(t,e){return t&-131069|e<<2}function oP(t){return(t&1)===1}function Lf(t){return t|1}function aP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=jr(o),u=rs(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Uo(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let y=jr(t[c+1]);t[r+1]=nu(y,c),y!==0&&(t[y+1]=Jh(t[y+1],r)),t[c+1]=sP(t[c+1],r)}else t[r+1]=nu(c,0),c!==0&&(t[c+1]=Jh(t[c+1],r)),c=r;else t[r+1]=nu(u,0),c===0?c=r:t[u+1]=Jh(t[u+1],r),u=r;l&&(t[r+1]=Ff(t[r+1])),Cw(t,h,r,!0),Cw(t,h,r,!1),cP(e,h,t,r,s),o=nu(c,u),s?e.classBindings=o:e.styleBindings=o}function cP(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Uo(s,e)>=0&&(n[r+1]=Lf(n[r+1]))}function Cw(t,e,n,r){let i=t[n+1],s=e===null,o=r?jr(i):rs(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];uP(u,e)&&(c=!0,t[o+1]=r?Lf(l):Ff(l)),o=r?jr(l):rs(l)}c&&(t[n+1]=r?Ff(i):Lf(i))}function uP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Uo(t,e)>=0:!1}function qr(t,e,n){let r=Ae(),i=ep();if(Ku(r,i,e)){let s=Mt(),o=SE();gD(s,o,r,t,e,r[$e],n,!1)}return qr}function Tw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";_p(t,n,s[o],o,r)}function zo(t,e){return lP(t,e,null,!0),zo}function lP(t,e,n,r){let i=Ae(),s=Mt(),o=IM(2);if(s.firstUpdatePass&&hP(s,t,o,r),e!==cs&&Ku(i,o,e)){let c=s.data[os()];yP(s,c,i,i[$e],t,i[o+1]=vP(e,n),r,o)}}function dP(t,e){return e>=t.expandoStartIndex}function hP(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[os()],o=dP(t,n);_P(s,r)&&e===null&&!o&&(e=!1),e=fP(i,s,e,r),aP(i,s,e,n,o,r)}}function fP(t,e,n,r){let i=bM(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Xh(null,t,e,n,r),n=Fo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Xh(i,t,e,n,r),s===null){let u=pP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Xh(null,t,e,u[1],r),u=Fo(u,e.attrs,r),gP(t,e,r,u))}else s=mP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function pP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(rs(r)!==0)return t[jr(r)]}function gP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[jr(i)]=r}function mP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Fo(r,o,n)}return Fo(r,e.attrs,n)}function Xh(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=Fo(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Fo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),TR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function yP(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],h=oP(l)?Sw(u,e,n,i,rs(l),o):void 0;if(!Ru(h)){Ru(s)||iP(l)&&(s=Sw(u,null,n,i,c,o));let p=dE(os(),n);TN(r,o,p,i,s)}}function Sw(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,y=n[i+1];y===cs&&(y=p?Ct:void 0);let I=p?Hh(y,r):h===r?y:void 0;if(l&&!Ru(I)&&(I=Hh(u,r)),Ru(I)&&(c=I,o))return c;let S=t[i+1];i=o?jr(S):rs(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Hh(u,r))}return c}function Ru(t){return t!==void 0}function vP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=lt(fp(t)))),t}function _P(t,e){return(t.flags&(e?8:16))!==0}function IP(t,e,n,r,i,s){let o=e.consts,c=vu(o,i),u=Hu(e,t,2,r,c);return mD(e,n,u,vu(o,s)),u.attrs!==null&&xf(u,u.attrs,!1),u.mergedAttrs!==null&&xf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function gt(t,e,n,r){let i=Ae(),s=Mt(),o=rr+t,c=i[$e],u=s.firstCreatePass?IP(o,s,i,e,n,r):s.data[o],l=wP(s,i,u,c,e,t);i[o]=l;let h=Jf(u);return $o(u,!0),oD(c,l,u),!Zx(u)&&rp()&&mp(s,i,l,u),dM()===0&&Vr(l,i),hM(),h&&(hD(s,i,u),dD(s,u,i)),r!==null&&fD(i,u),gt}function vt(){let t=pt();_E()?vM():(t=t.parent,$o(t,!1));let e=t;gM(e)&&mM(),fM();let n=Mt();return n.firstCreatePass&&(sp(n,t),oE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&NM(e)&&Tw(n,e,Ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xM(e)&&Tw(n,e,Ae(),e.stylesWithoutHost,!1),vt}function hs(t,e,n,r){return gt(t,e,n,r),vt(),hs}var wP=(t,e,n,r,i,s)=>(ip(!0),JE(r,i,SM()));function PD(){return Ae()}var Mu="en-US";var EP=Mu;function DP(t){typeof t=="string"&&(EP=t.toLowerCase().replace(/_/g,"-"))}var bP=(t,e,n)=>{};function nn(t,e,n,r){let i=Ae(),s=Mt(),o=pt();return OD(s,i,i[$e],o,t,e,r),nn}function CP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[pu],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function OD(t,e,n,r,i,s,o){let c=Jf(r),l=t.firstCreatePass&&ZN(t),h=e[Bt],p=YN(e),y=!0;if(r.type&3||o){let M=qt(r,e),R=o?o(M):M,F=p.length,B=o?oe=>o(tn(oe[r.index])):r.index,z=null;if(!o&&c&&(z=CP(t,e,i,r.index)),z!==null){let oe=z.__ngLastListenerFn__||z;oe.__ngNextListenerFn__=s,z.__ngLastListenerFn__=s,y=!1}else{s=Rw(r,e,h,s),bP(M,i,s);let oe=n.listen(R,i,s);p.push(s,oe),l&&l.push(i,B,F,F+1)}}else s=Rw(r,e,h,s);let I=r.outputs,S;if(y&&I!==null&&(S=I[i])){let M=S.length;if(M)for(let R=0;R<M;R+=2){let F=S[R],B=S[R+1],Re=e[F][B].subscribe(s),J=p.length;p.push(s,Re),l&&l.push(i,r.index,J,-(J+1))}}}function Aw(t,e,n,r){let i=fe(null);try{return Zt(6,e,n),n(r)!==!1}catch(s){return wD(t,s),!1}finally{Zt(7,e,n),fe(i)}}function Rw(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?or(t.index,e):e;wp(o,5);let c=Aw(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=Aw(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function Qu(t=1){return TM(t)}function zr(t,e=""){let n=Ae(),r=Mt(),i=t+rr,s=r.firstCreatePass?Hu(r,i,1,e,null):r.data[i],o=TP(r,n,s,e,t);n[i]=o,rp()&&mp(r,n,o,s),$o(s,!1)}var TP=(t,e,n,r,i)=>(ip(!0),uN(e[$e],r));function bp(t){return kD("",t,""),bp}function kD(t,e,n){let r=Ae(),i=rP(r,t,e,n);return i!==cs&&JN(r,os(),i),kD}function Cp(t,e,n){ND(e)&&(e=e());let r=Ae(),i=ep();if(Ku(r,i,e)){let s=Mt(),o=SE();gD(s,o,r,t,e,r[$e],n,!1)}return Cp}function FD(t,e){let n=ND(t);return n&&t.set(e),n}function Tp(t,e){let n=Ae(),r=Mt(),i=pt();return OD(r,n,n[$e],i,t,e),Tp}function SP(t,e,n){let r=Mt();if(r.firstCreatePass){let i=ir(t);Vf(n,r.data,r.blueprint,i,!0),Vf(e,r.data,r.blueprint,i,!1)}}function Vf(t,e,n,r,i){if(t=ut(t),Array.isArray(t))for(let s=0;s<t.length;s++)Vf(t[s],e,n,r,i);else{let s=Mt(),o=Ae(),c=pt(),u=Qi(t)?t:ut(t.provide),l=rE(t),h=c.providerIndexes&1048575,p=c.directiveStart,y=c.providerIndexes>>20;if(Qi(t)||!t.multi){let I=new Lr(l,i,be),S=tf(u,e,i?h:h+y,p);S===-1?(mf(wu(c,o),s,u),ef(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)):(n[S]=I,o[S]=I)}else{let I=tf(u,e,h+y,p),S=tf(u,e,h,h+y),M=I>=0&&n[I],R=S>=0&&n[S];if(i&&!R||!i&&!M){mf(wu(c,o),s,u);let F=MP(i?RP:AP,n.length,i,r,l);!i&&R&&(n[S].providerFactory=F),ef(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=LD(n[i?S:I],l,!i&&r);ef(s,t,I>-1?I:S,F)}!i&&r&&R&&n[S].componentProviders++}}}function ef(t,e,n,r){let i=Qi(e),s=KR(e);if(i||s){let u=(s?ut(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function LD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function tf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function AP(t,e,n,r){return Uf(this.multi,[])}function RP(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=Xi(n,n[ce],this.providerFactory.index,r);s=c.slice(0,o),Uf(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],Uf(i,s);return s}function Uf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function MP(t,e,n,r,i){let s=new Lr(t,n,be);return s.multi=[],s.index=e,s.componentProviders=0,LD(s,i,r&&!n),s}function Sp(t,e=[]){return n=>{n.providersResolver=(r,i)=>SP(r,i?i(t):t,e)}}var NP=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=eE(!1,n.type),i=r.length>0?Ep([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:t,providedIn:"environment",factory:()=>new t(ne(At))})}}return t})();function Yu(t){qo("NgStandalone"),t.getStandaloneInjector=e=>e.get(NP).getOrCreateStandaloneInjector(t)}var Cn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},VD=new Cn("18.2.13");var Zu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var UD=new j("");function Gr(t){return!!t&&typeof t.then=="function"}function jD(t){return!!t&&typeof t.subscribe=="function"}var Ju=new j(""),BD=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(Ju,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(Gr(s))n.push(s);else if(jD(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ap=new j("");function xP(){pI(()=>{throw new $(600,!1)})}function PP(t){return t.isBoundToModule}var OP=10;function kP(t,e,n){try{let r=n();return Gr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var rn=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(ZM),this.afterRenderManager=k(nP),this.zonelessEnabled=k(Gu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Te,this.afterTick=new Te,this.componentTypes=[],this.components=[],this.isStable=k(as).hasPendingTasks.pipe(Y(n=>!n)),this._injector=k(At)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Tu;if(!this._injector.get(BD).done){let y=!i&&Yw(n),I=!1;throw new $(405,I)}let o;i?o=n:o=this._injector.get(ts).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=PP(o)?void 0:this._injector.get(sr),u=r||o.selector,l=o.create(tt.NULL,[],u,c),h=l.location.nativeElement,p=l.injector.get(UD,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),au(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let n=fe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,fe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(ns,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<OP;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)FP(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Vu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;au(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Ap,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>au(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function au(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function FP(t,e,n,r){if(!n&&!Vu(t))return;bD(t,e,n&&!r?0:1)}var jf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Rp=(()=>{class t{compileModuleSync(n){return new kf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Zw(n),s=ZE(i.declarations).reduce((o,c)=>{let u=Pr(c);return u&&o.push(new Oo(u)),o},[]);return new jf(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var LP=(()=>{class t{constructor(){this.zone=k(me),this.changeDetectionScheduler=k(es),this.applicationRef=k(rn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),VP=new j("",{factory:()=>!1});function $D({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new me(ae(O({},qD()),{scheduleInRootZone:n})),[{provide:me,useFactory:t},{provide:Ki,multi:!0,useFactory:()=>{let r=k(LP,{optional:!0});return()=>r.initialize()}},{provide:Ki,multi:!0,useFactory:()=>{let r=k(UP);return()=>{r.initialize()}}},e===!0?{provide:AD,useValue:!0}:[],{provide:RD,useValue:n??jE}]}function HD(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=$D({ngZoneFactory:()=>{let i=qD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&qo("NgZone_CoalesceEvent"),new me(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Rt([{provide:VP,useValue:!0},{provide:Gu,useValue:!1},r])}function qD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var UP=(()=>{class t{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=k(me),this.pendingTasks=k(as)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var jP=(()=>{class t{constructor(){this.appRef=k(rn),this.taskService=k(as),this.ngZone=k(me),this.zonelessEnabled=k(Gu),this.disableScheduling=k(AD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Du):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(RD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof wf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?dw:$E;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Du+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,dw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function BP(){return typeof $localize<"u"&&$localize.locale||Mu}var Mp=new j("",{providedIn:"root",factory:()=>k(Mp,re.Optional|re.SkipSelf)||BP()});var Bf=new j("");function ru(t){return!t.moduleRef}function $P(t){let e=ru(t)?t.r3Injector:t.moduleRef.injector,n=e.get(me);return n.run(()=>{ru(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Dn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),ru(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Bf);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Bf);o.add(s),t.moduleRef.onDestroy(()=>{au(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return kP(r,n,()=>{let s=e.get(BD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Mp,Mu);if(DP(o||Mu),ru(t)){let c=e.get(rn);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return HP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function HP(t,e){let n=t.injector.get(rn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var cu=null;function qP(t=[],e){return tt.create({name:e,providers:[{provide:ku,useValue:"platform"},{provide:Bf,useValue:new Set([()=>cu=null])},...t]})}function zP(t=[]){if(cu)return cu;let e=qP(t);return cu=e,xP(),GP(e),e}function GP(t){t.get(lp,null)?.forEach(n=>n())}var Wr=(()=>{class t{static{this.__NG_ELEMENT_ID__=WP}}return t})();function WP(t){return KP(pt(),Ae(),(t&16)===16)}function KP(t,e,n){if(Lu(t)&&!n){let r=or(t.index,e);return new Ur(r,r)}else if(t.type&175){let r=e[en];return new Ur(r,e)}return null}var $f=class{constructor(){}supports(e){return xD(e)}create(e){return new Hf(e)}},QP=(t,e)=>e,Hf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||QP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Mw(r,i,s)?n:r,c=Mw(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=c-i,h=u-i;if(l!=h){for(let y=0;y<l;y++){let I=y<s.length?s[y]:s[y]=0,S=I+y;h<=S&&S<l&&(s[y]=I+1)}let p=o.previousIndex;s[p]=h-l}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!xD(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,c),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,Qx(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new qf(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Nu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Nu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},qf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},zf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Nu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new zf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Mw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Nw(){return new Np([new $f])}var Np=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:Nw})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Nw()),deps:[[t,new $w,new ht]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new $(901,!1)}}return t})();function zD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=zP(r),s=[$D({}),{provide:es,useExisting:jP},...n||[]],o=new Au({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return $P({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Xu(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function el(t,e){qo("NgSignals");let n=dI(t);return e?.equal&&(n[_n].equal=e.equal),n}function cr(t){let e=fe(null);try{return t()}finally{fe(e)}}var YD=null;function Rn(){return YD}function ZD(t){YD??=t}var tl=class{};var Nt=new j(""),JD=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(JP),providedIn:"platform"})}}return t})();var JP=(()=>{class t extends JD{constructor(){super(),this._doc=k(Nt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rn().getBaseHref(this._doc)}onPopState(n){let r=Rn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Rn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function XD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function GD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Qr(t){return t&&t[0]!=="?"?"?"+t:t}var rl=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(eb),providedIn:"root"})}}return t})(),XP=new j(""),eb=(()=>{class t extends rl{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return XD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Qr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Qr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Qr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(ne(JD),ne(XP,8))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Go=(()=>{class t{constructor(n){this._subject=new je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=nO(GD(WD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Qr(r))}normalize(n){return t.stripTrailingSlash(tO(this._basePath,WD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Qr}static{this.joinWithSlash=XD}static{this.stripTrailingSlash=GD}static{this.\u0275fac=function(r){return new(r||t)(ne(rl))}}static{this.\u0275prov=H({token:t,factory:()=>eO(),providedIn:"root"})}}return t})();function eO(){return new Go(ne(rl))}function tO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function WD(t){return t.replace(/\/index.html$/,"")}function nO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function tb(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var xp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},nb=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new xp(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),KD(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);KD(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(be(ls),be(zu),be(Np))}}static{this.\u0275dir=$t({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function KD(t,e){t.context.$implicit=e.item}var rb=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Pp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){QD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){QD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(be(ls),be(zu))}}static{this.\u0275dir=$t({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Pp=class{constructor(){this.$implicit=null,this.ngIf=null}};function QD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${lt(e)}'.`)}var Op="browser",rO="server";function kp(t){return t===Op}function Fp(t){return t===rO}var nl=class{};var Up=class extends tl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},jp=class t extends Up{static makeCurrent(){ZD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=iO();return n==null?null:sO(n)}resetBaseElement(){Wo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return tb(document.cookie,e)}},Wo=null;function iO(){return Wo=Wo||document.querySelector("base"),Wo?Wo.getAttribute("href"):null}function sO(t){return new URL(t,document.baseURI).pathname}var oO=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Bp=new j(""),ab=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(ne(Bp),ne(me))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),il=class{constructor(e){this._doc=e}},Lp="ng-app-id",cb=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Fp(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Lp}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Lp),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Lp,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(ne(Nt),ne(up),ne(dp,8),ne(zt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Vp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Hp=/%COMP%/g,ub="%COMP%",aO=`_nghost-${ub}`,cO=`_ngcontent-${ub}`,uO=!0,lO=new j("",{providedIn:"root",factory:()=>uO});function dO(t){return cO.replace(Hp,t)}function hO(t){return aO.replace(Hp,t)}function lb(t,e){return e.map(n=>n.replace(Hp,t))}var ib=(()=>{class t{constructor(n,r,i,s,o,c,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Fp(c),this.defaultRenderer=new Ko(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Xt.ShadowDom&&(r=ae(O({},r),{encapsulation:Xt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof sl?i.applyToHost(n):i instanceof Qo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Xt.Emulated:s=new sl(u,l,r,this.appId,h,o,c,p);break;case Xt.ShadowDom:return new $p(u,l,n,r,o,c,this.nonce,p);default:s=new Qo(u,l,r,h,o,c,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(ne(ab),ne(cb),ne(up),ne(lO),ne(Nt),ne(zt),ne(me),ne(dp))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Ko=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Vp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(sb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(sb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Vp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Vp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(bn.DashCase|bn.Important)?e.style.setProperty(n,r,i&bn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&bn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Rn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function sb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var $p=class extends Ko{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=lb(i.id,i.styles);for(let h of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qo=class extends Ko{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?lb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},sl=class extends Qo{constructor(e,n,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,c,u,l),this.contentAttr=dO(l),this.hostAttr=hO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},fO=(()=>{class t extends il{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(ne(Nt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),ob=["alt","control","meta","shift"],pO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},mO=(()=>{class t extends il{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rn().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),ob.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=pO[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ob.forEach(o=>{if(o!==i){let c=gO[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(ne(Nt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function db(t,e){return zD(O({rootComponent:t},yO(e)))}function yO(t){return{appProviders:[...EO,...t?.providers??[]],platformProviders:wO}}function vO(){jp.makeCurrent()}function _O(){return new Dn}function IO(){return QE(document),document}var wO=[{provide:zt,useValue:Op},{provide:lp,useValue:vO,multi:!0},{provide:Nt,useFactory:IO,deps:[]}];var EO=[{provide:ku,useValue:"root"},{provide:Dn,useFactory:_O,deps:[]},{provide:Bp,useClass:fO,multi:!0,deps:[Nt,me,zt]},{provide:Bp,useClass:mO,multi:!0,deps:[Nt]},ib,cb,ab,{provide:ns,useExisting:ib},{provide:nl,useClass:oO,deps:[]},[]];var hb=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(ne(Nt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var te="primary",ha=Symbol("RouteTitle"),Kp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vs(t){return new Kp(t)}function CO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function TO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!sn(t[n],e[n]))return!1;return!0}function sn(t,e){let n=t?Qp(t):void 0,r=e?Qp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Ib(t[i],e[i]))return!1;return!0}function Qp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Ib(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function wb(t){return t.length>0?t[t.length-1]:null}function ur(t){return Oh(t)?t:Gr(t)?De(Promise.resolve(t)):W(t)}var SO={exact:Db,subset:bb},Eb={exact:AO,subset:RO,ignored:()=>!0};function fb(t,e,n){return SO[n.paths](t.root,e.root,n.matrixParams)&&Eb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function AO(t,e){return sn(t,e)}function Db(t,e,n){if(!Zr(t.segments,e.segments)||!cl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Db(t.children[r],e.children[r],n))return!1;return!0}function RO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ib(t[n],e[n]))}function bb(t,e,n){return Cb(t,e,e.segments,n)}function Cb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Zr(i,n)||e.hasChildren()||!cl(i,n,r))}else if(t.segments.length===n.length){if(!Zr(t.segments,n)||!cl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!bb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Zr(t.segments,i)||!cl(t.segments,i,r)||!t.children[te]?!1:Cb(t.children[te],e,s,r)}}function cl(t,e,n){return e.every((r,i)=>Eb[n](t[i].parameters,r.parameters))}var Nn=class{constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){return xO.serialize(this)}},ye=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ul(this)}},Yr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=vs(this.parameters),this._parameterMap}toString(){return Sb(this)}};function MO(t,e){return Zr(t,e)&&t.every((n,r)=>sn(n.parameters,e[r].parameters))}function Zr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function NO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===te&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==te&&(n=n.concat(e(i,r)))}),n}var wg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>new na,providedIn:"root"})}}return t})(),na=class{parse(e){let n=new Zp(e);return new Nn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Yo(e.root,!0)}`,r=kO(e.queryParams),i=typeof e.fragment=="string"?`#${PO(e.fragment)}`:"";return`${n}${r}${i}`}},xO=new na;function ul(t){return t.segments.map(e=>Sb(e)).join("/")}function Yo(t,e){if(!t.hasChildren())return ul(t);if(e){let n=t.children[te]?Yo(t.children[te],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==te&&r.push(`${i}:${Yo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=NO(t,(r,i)=>i===te?[Yo(t.children[te],!1)]:[`${i}:${Yo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[te]!=null?`${ul(t)}/${n[0]}`:`${ul(t)}/(${n.join("//")})`}}function Tb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ol(t){return Tb(t).replace(/%3B/gi,";")}function PO(t){return encodeURI(t)}function Yp(t){return Tb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ll(t){return decodeURIComponent(t)}function pb(t){return ll(t.replace(/\+/g,"%20"))}function Sb(t){return`${Yp(t.path)}${OO(t.parameters)}`}function OO(t){return Object.entries(t).map(([e,n])=>`;${Yp(e)}=${Yp(n)}`).join("")}function kO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ol(n)}=${ol(i)}`).join("&"):`${ol(n)}=${ol(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var FO=/^[^\/()?;#]+/;function qp(t){let e=t.match(FO);return e?e[0]:""}var LO=/^[^\/()?;=#]+/;function VO(t){let e=t.match(LO);return e?e[0]:""}var UO=/^[^=?&#]+/;function jO(t){let e=t.match(UO);return e?e[0]:""}var BO=/^[^&#]+/;function $O(t){let e=t.match(BO);return e?e[0]:""}var Zp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new ye(e,n)),r}parseSegment(){let e=qp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Yr(ll(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=VO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=qp(this.remaining);i&&(r=i,this.capture(r))}e[ll(n)]=ll(r)}parseQueryParam(e){let n=jO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=$O(this.remaining);o&&(r=o,this.capture(r))}let i=pb(n),s=pb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=qp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=te);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[te]:new ye([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function Ab(t){return t.segments.length>0?new ye([],{[te]:t}):t}function Rb(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Rb(i);if(r===te&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ye(t.segments,e);return HO(n)}function HO(t){if(t.numberOfChildren===1&&t.children[te]){let e=t.children[te];return new ye(t.segments.concat(e.segments),e.children)}return t}function ra(t){return t instanceof Nn}function qO(t,e,n=null,r=null){let i=Mb(t);return Nb(i,e,n,r)}function Mb(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let c=new ye(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=Ab(r);return e??i}function Nb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return zp(i,i,i,n,r);let s=zO(e);if(s.toRoot())return zp(i,i,new ye([],{}),n,r);let o=GO(s,i,t),c=o.processChildren?Xo(o.segmentGroup,o.index,s.commands):Pb(o.segmentGroup,o.index,s.commands);return zp(i,o.segmentGroup,c,n,r)}function dl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ia(t){return typeof t=="object"&&t!=null&&t.outlets}function zp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=xb(t,e,n);let c=Ab(Rb(o));return new Nn(c,s,i)}function xb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=xb(s,e,n)}),new ye(t.segments,r)}var hl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dl(r[0]))throw new $(4003,!1);let i=r.find(ia);if(i&&i!==wb(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function zO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new hl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new hl(n,e,r)}var gs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function GO(t,e,n){if(t.isAbsolute)return new gs(e,!0,0);if(!n)return new gs(e,!1,NaN);if(n.parent===null)return new gs(n,!0,0);let r=dl(t.commands[0])?0:1,i=n.segments.length-1+r;return WO(n,i,t.numberOfDoubleDots)}function WO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new gs(r,!1,i-s)}function KO(t){return ia(t[0])?t[0].outlets:{[te]:t}}function Pb(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return Xo(t,e,n);let r=QO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ye(t.segments.slice(0,r.pathIndex),{});return s.children[te]=new ye(t.segments.slice(r.pathIndex),t.children),Xo(s,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?Jp(t,e,n):r.match?Xo(t,0,i):Jp(t,e,n)}function Xo(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=KO(n),i={};if(Object.keys(r).some(s=>s!==te)&&t.children[te]&&t.numberOfChildren===1&&t.children[te].segments.length===0){let s=Xo(t.children[te],e,n);return new ye(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Pb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ye(t.segments,i)}}function QO(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(ia(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!mb(u,l,o))return s;r+=2}else{if(!mb(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Jp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ia(s)){let u=YO(s.outlets);return new ye(r,u)}if(i===0&&dl(n[0])){let u=t.segments[e];r.push(new Yr(u.path,gb(n[0]))),i++;continue}let o=ia(s)?s.outlets[te]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&dl(c)?(r.push(new Yr(o,gb(c))),i+=2):(r.push(new Yr(o,{})),i++)}return new ye(r,{})}function YO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Jp(new ye([],{}),0,r))}),e}function gb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function mb(t,e,n){return t==n.path&&sn(e,n.parameters)}var ea="imperative",We=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(We||{}),xt=class{constructor(e,n){this.id=e,this.url=n}},sa=class extends xt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=We.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jr=class extends xt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=We.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},It=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(It||{}),Xp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Xp||{}),Mn=class extends xt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xr=class extends xt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationSkipped}},oa=class extends xt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=We.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fl=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eg=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tg=class extends xt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=We.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ng=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rg=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ig=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sg=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},og=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ag=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cg=class{constructor(e){this.snapshot=e,this.type=We.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ug=class{constructor(e){this.snapshot=e,this.type=We.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var aa=class{},_s=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function ZO(t,e){return t.providers&&!t._injector&&(t._injector=Ep(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Gt(t){return t.outlet||te}function JO(t,e){let n=t.filter(r=>Gt(r)===e);return n.push(...t.filter(r=>Gt(r)!==e)),n}function fa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var lg=class{get injector(){return fa(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Il(this.rootInjector),this.attachRef=null}},Il=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new lg(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(ne(At))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=dg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=dg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=hg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hg(e,this._root).map(n=>n.value)}};function dg(t,e){if(t===e.value)return e;for(let n of e.children){let r=dg(t,n);if(r)return r}return null}function hg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=hg(t,n);if(r.length)return r.unshift(e),r}return[]}var _t=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ps(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gl=class extends pl{constructor(e,n){super(e),this.snapshot=n,Eg(this,e)}toString(){return this.snapshot.toString()}};function Ob(t){let e=XO(t),n=new Ge([new Yr("",{})]),r=new Ge({}),i=new Ge({}),s=new Ge({}),o=new Ge(""),c=new Is(n,r,s,o,i,te,t,e.root);return c.snapshot=e.root,new gl(new _t(c,[]),e)}function XO(t){let e={},n={},r={},i="",s=new ms([],e,r,i,n,te,t,null,{});return new yl("",new _t(s,[]))}var Is=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Y(l=>l[ha]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>vs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>vs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ml(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&Fb(i)&&(r.resolve[ha]=i.title),r}var ms=class{get title(){return this.data?.[ha]}constructor(e,n,r,i,s,o,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},yl=class extends pl{constructor(e,n){super(n),this.url=e,Eg(this,n)}toString(){return kb(this._root)}};function Eg(t,e){e.value._routerState=t,e.children.forEach(n=>Eg(t,n))}function kb(t){let e=t.children.length>0?` { ${t.children.map(kb).join(", ")} } `:"";return`${t.value}${e}`}function Gp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,sn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),sn(e.params,n.params)||t.paramsSubject.next(n.params),TO(e.url,n.url)||t.urlSubject.next(n.url),sn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function fg(t,e){let n=sn(t.params,e.params)&&MO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||fg(t.parent,e.parent))}function Fb(t){return typeof t.title=="string"||t.title===null}var ek=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new je,this.deactivateEvents=new je,this.attachEvents=new je,this.detachEvents=new je,this.parentContexts=k(Il),this.location=k(ls),this.changeDetector=k(Wr),this.inputBinder=k(Dg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new pg(n,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=$t({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ss]})}}return t})(),pg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Is?this.route:e===Il?this.childContexts:this.parent.get(e,n)}},Dg=new j("");function tk(t,e,n){let r=ca(t,e._root,n?n._root:void 0);return new gl(r,e)}function ca(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=nk(t,e,n);return new _t(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>ca(t,c)),o}}let r=rk(e.value),i=e.children.map(s=>ca(t,s));return new _t(r,i)}}function nk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ca(t,r,i);return ca(t,r)})}function rk(t){return new Is(new Ge(t.url),new Ge(t.params),new Ge(t.queryParams),new Ge(t.fragment),new Ge(t.data),t.outlet,t.component,t)}var ua=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Lb="ngNavigationCancelingError";function vl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ra(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Vb(!1,It.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Vb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Lb]=!0,n.cancellationCode=e,n}function ik(t){return Ub(t)&&ra(t.url)}function Ub(t){return!!t&&t[Lb]}var sk=(t,e,n,r)=>Y(i=>(new gg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),gg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Gp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ps(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ps(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ps(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ps(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ug(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ag(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Gp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Gp(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},_l=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ys=class{constructor(e,n){this.component=e,this.route=n}};function ok(t,e,n){let r=t._root,i=e?e._root:null;return Zo(r,i,n,[r.value])}function ak(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Es(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Ow(t)?t:e.get(t):r}function Zo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ps(e);return t.children.forEach(o=>{ck(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>ta(c,n.getContext(o),i)),i}function ck(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=uk(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _l(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Zo(t,e,c?c.children:null,r,i):Zo(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new ys(c.outlet.component,o))}else o&&ta(e,c,i),i.canActivateChecks.push(new _l(r)),s.component?Zo(t,null,c?c.children:null,r,i):Zo(t,null,n,r,i);return i}function uk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Zr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Zr(t.url,e.url)||!sn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fg(t,e)||!sn(t.queryParams,e.queryParams);case"paramsChange":default:return!fg(t,e)}}function ta(t,e,n){let r=ps(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ta(o,e.children.getContext(s),n):ta(o,null,n):ta(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ys(e.outlet.component,i)):n.canDeactivateChecks.push(new ys(null,i)):n.canDeactivateChecks.push(new ys(null,i))}function pa(t){return typeof t=="function"}function lk(t){return typeof t=="boolean"}function dk(t){return t&&pa(t.canLoad)}function hk(t){return t&&pa(t.canActivate)}function fk(t){return t&&pa(t.canActivateChild)}function pk(t){return t&&pa(t.canDeactivate)}function gk(t){return t&&pa(t.canMatch)}function jb(t){return t instanceof wn||t?.name==="EmptyError"}var al=Symbol("INITIAL_VALUE");function ws(){return et(t=>Yc(t.map(e=>e.pipe(Ue(1),Bh(al)))).pipe(Y(e=>{for(let n of e)if(n!==!0){if(n===al)return al;if(n===!1||mk(n))return n}return!0}),Xe(e=>e!==al),Ue(1)))}function mk(t){return ra(t)||t instanceof ua}function yk(t,e){return Se(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?W(ae(O({},n),{guardsResult:!0})):vk(o,r,i,t).pipe(Se(c=>c&&lk(c)?_k(r,s,t,e):W(c)),Y(c=>ae(O({},n),{guardsResult:c})))})}function vk(t,e,n,r){return De(t).pipe(Se(i=>bk(i.component,i.route,n,e,r)),Yt(i=>i!==!0,!0))}function _k(t,e,n,r){return De(e).pipe(Ui(i=>Qt(wk(i.route.parent,r),Ik(i.route,r),Dk(t,i.path,n),Ek(t,i.route,n))),Yt(i=>i!==!0,!0))}function Ik(t,e){return t!==null&&e&&e(new cg(t)),W(!0)}function wk(t,e){return t!==null&&e&&e(new og(t)),W(!0)}function Ek(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(s=>Mr(()=>{let o=fa(e)??n,c=Es(s,o),u=hk(c)?c.canActivate(e,t):Tn(o,()=>c(e,t));return ur(u).pipe(Yt())}));return W(i).pipe(ws())}function Dk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>ak(o)).filter(o=>o!==null).map(o=>Mr(()=>{let c=o.guards.map(u=>{let l=fa(o.node)??n,h=Es(u,l),p=fk(h)?h.canActivateChild(r,t):Tn(l,()=>h(r,t));return ur(p).pipe(Yt())});return W(c).pipe(ws())}));return W(s).pipe(ws())}function bk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return W(!0);let o=s.map(c=>{let u=fa(e)??i,l=Es(c,u),h=pk(l)?l.canDeactivate(t,e,n,r):Tn(u,()=>l(t,e,n,r));return ur(h).pipe(Yt())});return W(o).pipe(ws())}function Ck(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let s=i.map(o=>{let c=Es(o,t),u=dk(c)?c.canLoad(e,n):Tn(t,()=>c(e,n));return ur(u)});return W(s).pipe(ws(),Bb(r))}function Bb(t){return Ch(Oe(e=>{if(typeof e!="boolean")throw vl(t,e)}),Y(e=>e===!0))}function Tk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let s=i.map(o=>{let c=Es(o,t),u=gk(c)?c.canMatch(e,n):Tn(t,()=>c(e,n));return ur(u)});return W(s).pipe(ws(),Bb(r))}var la=class{constructor(e){this.segmentGroup=e||null}},da=class extends Error{constructor(e){super(),this.urlTree=e}};function fs(t){return Yn(new la(t))}function Sk(t){return Yn(new $(4e3,!1))}function Ak(t){return Yn(Vb(!1,It.GuardRejected))}var mg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[te])return Sk(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,params:I,data:S,title:M}=i,R=Tn(s,()=>c({params:I,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,title:M}));if(R instanceof Nn)throw new da(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new da(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Nn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new ye(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},yg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rk(t,e,n,r,i){let s=$b(t,e,n);return s.matched?(r=ZO(e,r),Tk(r,e,n,i).pipe(Y(o=>o===!0?s:O({},yg)))):W(s)}function $b(t,e,n){if(e.path==="**")return Mk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},yg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||CO)(n,t,e);if(!i)return O({},yg);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Mk(t){return{matched:!0,parameters:t.length>0?wb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function yb(t,e,n,r){return n.length>0&&Pk(t,n,r)?{segmentGroup:new ye(e,xk(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&Ok(t,n,r)?{segmentGroup:new ye(t.segments,Nk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function Nk(t,e,n,r){let i={};for(let s of n)if(wl(t,e,s)&&!r[Gt(s)]){let o=new ye([],{});i[Gt(s)]=o}return O(O({},r),i)}function xk(t,e){let n={};n[te]=e;for(let r of t)if(r.path===""&&Gt(r)!==te){let i=new ye([],{});n[Gt(r)]=i}return n}function Pk(t,e,n){return n.some(r=>wl(t,e,r)&&Gt(r)!==te)}function Ok(t,e,n){return n.some(r=>wl(t,e,r))}function wl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function kk(t,e,n){return e.length===0&&!t.children[n]}var vg=class{};function Fk(t,e,n,r,i,s,o="emptyOnly"){return new _g(t,e,n,r,i,o,s).recognize()}var Lk=31,_g=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new mg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=yb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:n,rootSnapshot:r})=>{let i=new _t(r,n),s=new yl("",i),o=qO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new ms([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,n).pipe(Y(r=>({children:r,rootSnapshot:n})),Zn(r=>{if(r instanceof da)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof la?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Y(o=>o instanceof _t?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return De(s).pipe(Ui(o=>{let c=r.children[o],u=JO(n,o);return this.processSegmentGroup(e,u,c,o,i)}),jh((o,c)=>(o.push(...c),o)),Jn(null),Vh(),Se(o=>{if(o===null)return fs(r);let c=Hb(o);return Vk(c),W(c)}))}processSegment(e,n,r,i,s,o,c){return De(n).pipe(Ui(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(Zn(l=>{if(l instanceof la)return W(null);throw l}))),Yt(u=>!!u),Zn(u=>{if(jb(u))return kk(r,i,s)?W(new vg):fs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return Gt(r)!==o&&(o===te||!wl(i,s,r))?fs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):fs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=$b(n,i,s);if(!u)return fs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Lk&&(this.allowRedirects=!1));let I=new ms(s,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,vb(i),Gt(i),i.component??i._loadedComponent??null,i,_b(i)),S=ml(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(S.params),I.data=Object.freeze(S.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,I,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Se(R=>this.processSegment(e,r,n,R.concat(y),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=Rk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(et(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(et(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:I}=u,S=new ms(y,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,vb(r),Gt(r),r.component??r._loadedComponent??null,r,_b(r)),M=ml(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=yb(n,y,I,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(Y(z=>new _t(S,z)));if(l.length===0&&F.length===0)return W(new _t(S,[]));let B=Gt(r)===s;return this.processSegment(h,l,R,F,B?te:s,!0,S).pipe(Y(z=>new _t(S,z instanceof _t?[z]:[])))}))):fs(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):Ck(e,n,r,this.urlSerializer).pipe(Se(i=>i?this.configLoader.loadChildren(e,n).pipe(Oe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Ak(n))):W({routes:[],injector:e})}};function Vk(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}function Uk(t){let e=t.value.routeConfig;return e&&e.path===""}function Hb(t){let e=[],n=new Set;for(let r of t){if(!Uk(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Hb(r.children);e.push(new _t(r.value,i))}return e.filter(r=>!n.has(r))}function vb(t){return t.data||{}}function _b(t){return t.resolve||{}}function jk(t,e,n,r,i,s){return Se(o=>Fk(t,e,n,r,o.extractedUrl,i,s).pipe(Y(({state:c,tree:u})=>ae(O({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function Bk(t,e){return Se(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of qb(u))o.add(l);let c=0;return De(o).pipe(Ui(u=>s.has(u)?$k(u,r,t,e):(u.data=ml(u,u.parent,t).resolve,W(void 0))),Oe(()=>c++),ji(1),Se(u=>c===o.size?W(n):ct))})}function qb(t){let e=t.children.map(n=>qb(n)).flat();return[t,...e]}function $k(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Fb(i)&&(s[ha]=i.title),Hk(s,t,e,r).pipe(Y(o=>(t._resolvedData=o,t.data=ml(t,t.parent,n).resolve,null)))}function Hk(t,e,n,r){let i=Qp(t);if(i.length===0)return W({});let s={};return De(i).pipe(Se(o=>qk(t[o],e,n,r).pipe(Yt(),Oe(c=>{if(c instanceof ua)throw vl(new na,c);s[o]=c}))),ji(1),Co(s),Zn(o=>jb(o)?ct:Yn(o)))}function qk(t,e,n,r){let i=fa(e)??r,s=Es(t,i),o=s.resolve?s.resolve(e,n):Tn(i,()=>s(e,n));return ur(o)}function Wp(t){return et(e=>{let n=t(e);return n?De(n).pipe(Y(()=>e)):W(e)})}var zb=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===te);return r}getResolvedTitleForRoute(n){return n.data[ha]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(zk),providedIn:"root"})}}return t})(),zk=(()=>{class t extends zb{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(ne(hb))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bg=new j("",{providedIn:"root",factory:()=>({})}),Gk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ou({type:t,selectors:[["ng-component"]],standalone:!0,features:[Yu],decls:1,vars:0,template:function(r,i){r&1&&hs(0,"router-outlet")},dependencies:[ek],encapsulation:2})}}return t})();function Cg(t){let e=t.children&&t.children.map(Cg),n=e?ae(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=Gk),n}var Tg=new j(""),Wk=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Rp)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ur(n.loadComponent()).pipe(Y(Gb),Oe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),To(()=>{this.componentLoaders.delete(n)})),i=new Wn(r,()=>new Te).pipe(Ni());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Kk(r,this.compiler,n,this.onLoadEndListener).pipe(To(()=>{this.childrenLoaders.delete(r)})),o=new Wn(s,()=>new Te).pipe(Ni());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Kk(t,e,n,r){return ur(t.loadChildren()).pipe(Y(Gb),Se(i=>i instanceof ko||Array.isArray(i)?W(i):De(e.compileModuleAsync(i))),Y(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(Tg,[],{optional:!0,self:!0}).flat()),{routes:o.map(Cg),injector:s}}))}function Qk(t){return t&&typeof t=="object"&&"default"in t}function Gb(t){return Qk(t)?t.default:t}var Sg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(Yk),providedIn:"root"})}}return t})(),Yk=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zk=new j("");var Jk=new j(""),Xk=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Te,this.transitionAbortSubject=new Te,this.configLoader=k(Wk),this.environmentInjector=k(At),this.urlSerializer=k(wg),this.rootContexts=k(Il),this.location=k(Go),this.inputBindingEnabled=k(Dg,{optional:!0})!==null,this.titleStrategy=k(zb),this.options=k(bg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Sg),this.createViewTransition=k(Zk,{optional:!0}),this.navigationErrorHandler=k(Jk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let n=i=>this.events.next(new ig(i)),r=i=>this.events.next(new sg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ae(O(O({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Ge({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ea,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xe(s=>s.id!==0),Y(s=>ae(O({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),et(s=>{let o=!1,c=!1;return W(s).pipe(et(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",It.SupersededByNewNavigation),ct;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ae(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Xr(u.id,this.urlSerializer.serialize(u.rawUrl),p,Xp.IgnoredSameUrlNavigation)),u.resolve(!1),ct}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return W(u).pipe(et(p=>{let y=this.transitions?.getValue();return this.events.next(new sa(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?ct:Promise.resolve(p)}),jk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Oe(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ae(O({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new fl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:y,source:I,restoredState:S,extras:M}=u,R=new sa(p,this.urlSerializer.serialize(y),I,S);this.events.next(R);let F=Ob(this.rootComponentType).snapshot;return this.currentTransition=s=ae(O({},u),{targetSnapshot:F,urlAfterRedirects:y,extras:ae(O({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,W(s)}else{let p="";return this.events.next(new Xr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Xp.IgnoredByUrlHandlingStrategy)),u.resolve(!1),ct}}),Oe(u=>{let l=new eg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Y(u=>(this.currentTransition=s=ae(O({},u),{guards:ok(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),yk(this.environmentInjector,u=>this.events.next(u)),Oe(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw vl(this.urlSerializer,u.guardsResult);let l=new tg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Xe(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",It.GuardRejected),!1)),Wp(u=>{if(u.guards.canActivateChecks.length)return W(u).pipe(Oe(l=>{let h=new ng(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),et(l=>{let h=!1;return W(l).pipe(Bk(this.paramsInheritanceStrategy,this.environmentInjector),Oe({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",It.NoDataFromResolver)}}))}),Oe(l=>{let h=new rg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Wp(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Oe(y=>{h.component=y}),Y(()=>{})));for(let y of h.children)p.push(...l(y));return p};return Yc(l(u.targetSnapshot.root)).pipe(Jn(null),Ue(1))}),Wp(()=>this.afterPreactivation()),et(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?De(h).pipe(Y(()=>s)):W(s)}),Y(u=>{let l=tk(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=ae(O({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Oe(()=>{this.events.next(new aa)}),sk(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ue(1),Oe({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),$h(this.transitionAbortSubject.pipe(Oe(u=>{throw u}))),To(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",It.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zn(u=>{if(c=!0,Ub(u))this.events.next(new Mn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),ik(u)?this.events.next(new _s(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new oa(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=Tn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof ua){let{message:p,cancellationCode:y}=vl(this.urlSerializer,h);this.events.next(new Mn(s.id,this.urlSerializer.serialize(s.extractedUrl),p,y)),this.events.next(new _s(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return ct}))}))}cancelNavigationTransition(n,r,i){let s=new Mn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function eF(t){return t!==ea}var tF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(nF),providedIn:"root"})}}return t})(),Ig=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},nF=(()=>{class t extends Ig{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ho(t)))(i||t)}})()}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Wb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(rF),providedIn:"root"})}}return t})(),rF=(()=>{class t extends Wb{constructor(){super(...arguments),this.location=k(Go),this.urlSerializer=k(wg),this.options=k(bg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Sg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Nn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ob(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof sa)this.stateMemento=this.createStateMemento();else if(n instanceof Xr)this.rawUrlTree=r.initialUrl;else if(n instanceof fl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof aa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Mn&&(n.code===It.GuardRejected||n.code===It.NoDataFromResolver)?this.restoreHistory(r):n instanceof oa?this.restoreHistory(r,!0):n instanceof Jr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Nn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=O(O({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=O(O({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ho(t)))(i||t)}})()}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Jo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Jo||{});function iF(t,e){t.events.pipe(Xe(n=>n instanceof Jr||n instanceof Mn||n instanceof oa||n instanceof Xr),Y(n=>n instanceof Jr||n instanceof Xr?Jo.COMPLETE:(n instanceof Mn?n.code===It.Redirect||n.code===It.SupersededByNewNavigation:!1)?Jo.REDIRECTING:Jo.FAILED),Xe(n=>n!==Jo.REDIRECTING),Ue(1)).subscribe(()=>{e()})}function sF(t){throw t}var oF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Kb=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(Zu),this.stateManager=k(Wb),this.options=k(bg,{optional:!0})||{},this.pendingTasks=k(as),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Xk),this.urlSerializer=k(wg),this.location=k(Go),this.urlHandlingStrategy=k(Sg),this._events=new Te,this.errorHandler=this.options.errorHandler||sF,this.navigated=!1,this.routeReuseStrategy=k(tF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Tg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Dg,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Mn&&r.code!==It.Redirect&&r.code!==It.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jr)this.navigated=!0;else if(r instanceof _s){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||eF(i.source)},o);this.scheduleNavigation(c,ea,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}uF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ea,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Cg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=O(O({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=Mb(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return Nb(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ra(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ea,null,r)}navigate(n,r={skipLocationChange:!1}){return cF(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=O({},oF):r===!1?i=O({},aF):i=r,ra(n))return fb(this.currentUrlTree,n,i);let s=this.parseUrl(n);return fb(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,l;o?(c=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,y)=>{c=p,u=y});let h=this.pendingTasks.add();return iF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function cF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function uF(t){return!(t instanceof aa)&&!(t instanceof _s)}var lF=new j("");function Qb(t,...e){return Rt([{provide:Tg,multi:!0,useValue:t},[],{provide:Is,useFactory:dF,deps:[Kb]},{provide:Ap,multi:!0,useFactory:hF},e.map(n=>n.\u0275providers)])}function dF(t){return t.routerState.root}function hF(){let t=k(tt);return e=>{let n=t.get(rn);if(e!==n.components[0])return;let r=t.get(Kb),i=t.get(fF);t.get(pF)===1&&r.initialNavigation(),t.get(gF,null,re.Optional)?.setUpPreloading(),t.get(lF,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fF=new j("",{factory:()=>new Te}),pF=new j("",{providedIn:"root",factory:()=>1});var gF=new j("");var Zb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Jb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|c>>4,y=(c&15)<<2|l>>6,I=l&63;u||(I=64,o||(y=64)),r.push(n[h],n[p],n[y],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Zb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new Rg;let y=s<<2|c>>4;if(r.push(y),l!==64){let I=c<<4&240|l>>2;if(r.push(I),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Rg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},yF=function(t){let e=Zb(t);return Jb.encodeByteArray(e,!0)},ga=function(t){return yF(t).replace(/\./g,"")},Ng=function(t){try{return Jb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var _F=()=>vF().__FIREBASE_DEFAULTS__,IF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ng(t[1]);return e&&JSON.parse(e)},Dl=()=>{try{return _F()||IF()||wF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xg=t=>{var e,n;return(n=(e=Dl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Xb=t=>{let e=xg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Pg=()=>{var t;return(t=Dl())===null||t===void 0?void 0:t.config},Og=t=>{var e;return(e=Dl())===null||e===void 0?void 0:e[`_${t}`]};var El=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function eC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ga(JSON.stringify(n)),ga(JSON.stringify(o)),""].join(".")}function He(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function EF(){var t;let e=(t=Dl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sC(){let t=He();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oC(){return!EF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kg(){try{return typeof indexedDB=="object"}catch{return!1}}function aC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var DF="FirebaseError",wt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xn.prototype.create)}},xn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?bF(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new wt(i,c,r)}};function bF(t,e){return t.replace(CF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var CF=/\{\$([^}]+)}/g;function cC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ei(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Yb(s)&&Yb(o)){if(!ei(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Yb(t){return t!==null&&typeof t=="object"}function ma(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uC(t,e){let n=new Mg(t,e);return n.subscribe.bind(n)}var Mg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ag),i.error===void 0&&(i.error=Ag),i.complete===void 0&&(i.complete=Ag);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function TF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ag(){}var e3=4*60*60*1e3;function nt(t){return t&&t._delegate?t._delegate:t}var Pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ti="[DEFAULT]";var Fg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new El;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AF(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function SF(t){return t===ti?void 0:t}function AF(t){return t.instantiationMode==="EAGER"}var bl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Fg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var RF=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),MF={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},NF=le.INFO,xF={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},PF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=xF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},lr=class{constructor(e){this.name=e,this._logLevel=NF,this._logHandler=PF,this._userLogHandler=null,RF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var OF=(t,e)=>e.some(n=>t instanceof n),lC,dC;function kF(){return lC||(lC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FF(){return dC||(dC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var hC=new WeakMap,Vg=new WeakMap,fC=new WeakMap,Lg=new WeakMap,jg=new WeakMap;function LF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(on(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hC.set(n,t)}).catch(()=>{}),jg.set(e,t),e}function VF(t){if(Vg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vg.set(t,e)}var Ug={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return on(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pC(t){Ug=t(Ug)}function UF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Cl(this),e,...n);return fC.set(r,e.sort?e.sort():[e]),on(r)}:FF().includes(t)?function(...e){return t.apply(Cl(this),e),on(hC.get(this))}:function(...e){return on(t.apply(Cl(this),e))}}function jF(t){return typeof t=="function"?UF(t):(t instanceof IDBTransaction&&VF(t),OF(t,kF())?new Proxy(t,Ug):t)}function on(t){if(t instanceof IDBRequest)return LF(t);if(Lg.has(t))return Lg.get(t);let e=jF(t);return e!==t&&(Lg.set(t,e),jg.set(e,t)),e}var Cl=t=>jg.get(t);function mC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=on(o);return r&&o.addEventListener("upgradeneeded",u=>{r(on(o.result),u.oldVersion,u.newVersion,on(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var BF=["get","getKey","getAll","getAllKeys","count"],$F=["put","add","delete","clear"],Bg=new Map;function gC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bg.get(e))return Bg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=$F.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BF.includes(n)))return;let s=function(o,...c){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Bg.set(e,s),s}pC(t=>ae(O({},t),{get:(e,n,r)=>gC(e,n)||t.get(e,n,r),has:(e,n)=>!!gC(e,n)||t.has(e,n)}));var Hg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function HF(t){let e=t.getComponent();return e?.type==="VERSION"}var qg="@firebase/app",yC="0.10.13";var Pn=new lr("@firebase/app"),qF="@firebase/app-compat",zF="@firebase/analytics-compat",GF="@firebase/analytics",WF="@firebase/app-check-compat",KF="@firebase/app-check",QF="@firebase/auth",YF="@firebase/auth-compat",ZF="@firebase/database",JF="@firebase/data-connect",XF="@firebase/database-compat",e1="@firebase/functions",t1="@firebase/functions-compat",n1="@firebase/installations",r1="@firebase/installations-compat",i1="@firebase/messaging",s1="@firebase/messaging-compat",o1="@firebase/performance",a1="@firebase/performance-compat",c1="@firebase/remote-config",u1="@firebase/remote-config-compat",l1="@firebase/storage",d1="@firebase/storage-compat",h1="@firebase/firestore",f1="@firebase/vertexai-preview",p1="@firebase/firestore-compat",g1="firebase",m1="10.14.1";var zg="[DEFAULT]",y1={[qg]:"fire-core",[qF]:"fire-core-compat",[GF]:"fire-analytics",[zF]:"fire-analytics-compat",[KF]:"fire-app-check",[WF]:"fire-app-check-compat",[QF]:"fire-auth",[YF]:"fire-auth-compat",[ZF]:"fire-rtdb",[JF]:"fire-data-connect",[XF]:"fire-rtdb-compat",[e1]:"fire-fn",[t1]:"fire-fn-compat",[n1]:"fire-iid",[r1]:"fire-iid-compat",[i1]:"fire-fcm",[s1]:"fire-fcm-compat",[o1]:"fire-perf",[a1]:"fire-perf-compat",[c1]:"fire-rc",[u1]:"fire-rc-compat",[l1]:"fire-gcs",[d1]:"fire-gcs-compat",[h1]:"fire-fst",[p1]:"fire-fst-compat",[f1]:"fire-vertex","fire-js":"fire-js",[g1]:"fire-js-all"};var ya=new Map,v1=new Map,Gg=new Map;function vC(t,e){try{t.container.addComponent(e)}catch(n){Pn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hr(t){let e=t.name;if(Gg.has(e))return Pn.debug(`There were multiple attempts to register component ${e}.`),!1;Gg.set(e,t);for(let n of ya.values())vC(n,t);for(let n of v1.values())vC(n,t);return!0}function _a(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t.settings!==void 0}var _1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new xn("app","Firebase",_1);var Wg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}};var fr=m1;function Yg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:zg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw dr.create("bad-app-name",{appName:String(i)});if(n||(n=Pg()),!n)throw dr.create("no-options");let s=ya.get(i);if(s){if(ei(n,s.options)&&ei(r,s.config))return s;throw dr.create("duplicate-app",{appName:i})}let o=new bl(i);for(let u of Gg.values())o.addComponent(u);let c=new Wg(n,r,o);return ya.set(i,c),c}function ni(t=zg){let e=ya.get(t);if(!e&&t===zg&&Pg())return Yg();if(!e)throw dr.create("no-app",{appName:t});return e}function Ia(){return Array.from(ya.values())}function ke(t,e,n){var r;let i=(r=y1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pn.warn(c.join(" "));return}hr(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var I1="firebase-heartbeat-database",w1=1,va="firebase-heartbeat-store",$g=null;function EC(){return $g||($g=mC(I1,w1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(va)}catch(n){console.warn(n)}}}}).catch(t=>{throw dr.create("idb-open",{originalErrorMessage:t.message})})),$g}function E1(t){return w(this,null,function*(){try{let n=(yield EC()).transaction(va),r=yield n.objectStore(va).get(DC(t));return yield n.done,r}catch(e){if(e instanceof wt)Pn.warn(e.message);else{let n=dr.create("idb-get",{originalErrorMessage:e?.message});Pn.warn(n.message)}}})}function _C(t,e){return w(this,null,function*(){try{let r=(yield EC()).transaction(va,"readwrite");yield r.objectStore(va).put(e,DC(t)),yield r.done}catch(n){if(n instanceof wt)Pn.warn(n.message);else{let r=dr.create("idb-set",{originalErrorMessage:n?.message});Pn.warn(r.message)}}})}function DC(t){return`${t.name}!${t.options.appId}`}var D1=1024,b1=30*24*60*60*1e3,Kg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Qg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=b1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Pn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=IC(),{heartbeatsToSend:r,unsentEntries:i}=C1(this._heartbeatsCache.heartbeats),s=ga(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Pn.warn(n),""}})}};function IC(){return new Date().toISOString().substring(0,10)}function C1(t,e=D1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),wC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Qg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return kg()?aC().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield E1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _C(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _C(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function wC(t){return ga(JSON.stringify({version:2,heartbeats:t})).length}function T1(t){hr(new Pt("platform-logger",e=>new Hg(e),"PRIVATE")),hr(new Pt("heartbeat",e=>new Kg(e),"PRIVATE")),ke(qg,yC,t),ke(qg,yC,"esm2017"),ke("fire-js","")}T1("");var S1="firebase",A1="10.14.1";ke(S1,A1,"app");var ii=new Cn("ANGULARFIRE2_VERSION");function Sl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var wa=(t,e)=>{let n=e?[e]:Ia(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Al=class{constructor(){return wa(M1)}},M1="app-check";function Ds(){}var bC=class{zone;delegate;constructor(t,e=Nh){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){let r=this.zone,i=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(i,e,n)}},N1=class{zone;task=null;constructor(t){this.zone=t}call(t,e){let n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ds,{},Ds,Ds)),e.pipe(Oe({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},bs=class Tl{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new bC(Zone.current)),this.insideAngular=n.run(()=>new bC(Zone.current,ki)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||Tl)(ne(me))};static \u0275prov=H({token:Tl,factory:Tl.\u0275fac,providedIn:"root"})};function Rl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function x1(t){return Rl().ngZone.runOutsideAngular(()=>t())}function ri(t){return Rl().ngZone.run(()=>t())}function P1(t){return O1(Rl())(t)}function O1(t){return function(n){return n=n.lift(new N1(t.ngZone)),n.pipe(Qn(t.outsideAngular),Kn(t.insideAngular))}}var k1=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ri(()=>t.apply(void 0,r))},Ot=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ri(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ds,{},Ds,Ds))),r[s]=k1(r[s],n));let i=x1(()=>t.apply(this,r));if(!e)if(i instanceof X){let s=Rl();return i.pipe(Qn(s.outsideAngular),Kn(s.insideAngular))}else return ri(()=>i);return i instanceof X?i.pipe(P1):i instanceof Promise?ri(()=>new Promise((s,o)=>i.then(c=>ri(()=>s(c)),c=>ri(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ri(()=>i)};var si=class{constructor(t){return t}},Ea=class{constructor(){return Ia()}};function F1(t){return t&&t.length===1?t[0]:new si(ni())}var Zg=new j("angularfire2._apps"),L1={provide:si,useFactory:F1,deps:[[new ht,Zg]]},V1={provide:Ea,deps:[[new ht,Zg]]};function U1(t){return(e,n)=>{let r=n.get(zt);ke("angularfire",ii.full,"core"),ke("angularfire",ii.full,"app"),ke("angular",VD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new si(i)}}function CC(t,...e){return Rt([L1,V1,{provide:Zg,useFactory:U1(t),multi:!0,deps:[me,tt,bs,...e]}])}var TC=Ot(Yg,!0);function BC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var $C=BC,HC=new xn("auth","Firebase",BC());var kl=new lr("@firebase/auth");function j1(t,...e){kl.logLevel<=le.WARN&&kl.warn(`Auth (${fr}): ${t}`,...e)}function Nl(t,...e){kl.logLevel<=le.ERROR&&kl.error(`Auth (${fr}): ${t}`,...e)}function gr(t,...e){throw ym(t,...e)}function ai(t,...e){return ym(t,...e)}function qC(t,e,n){let r=Object.assign(Object.assign({},$C()),{[e]:n});return new xn("auth","Firebase",r).create(e,{appName:t.name})}function oi(t){return qC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ym(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HC.create(t,...e)}function Q(t,e,...n){if(!t)throw ym(e,...n)}function kn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Nl(e),new Error(e)}function mr(t,e){t||kn(e)}function tm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function B1(){return SC()==="http:"||SC()==="https:"}function SC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function $1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B1()||rC()||"connection"in navigator)?navigator.onLine:!0}function H1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ci=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=tC()||iC()}get(){return $1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function vm(t,e){mr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Fl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var q1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var z1=new ci(3e4,6e4);function _m(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ts(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){return zC(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ma(Object.assign({key:t.config.apiKey},h)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let I=Object.assign({method:e,headers:y},l);return nC()||(I.referrerPolicy="no-referrer"),Fl.fetch()(GC(t,t.config.apiHost,n,p),I)}))})}function zC(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},q1),e);try{let i=new nm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ml(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ml(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ml(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ml(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw qC(t,h,l);gr(t,h)}}catch(i){if(i instanceof wt)throw i;gr(t,"network-request-failed",{message:String(i)})}})}function G1(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Ts(t,e,n,r,i);return"mfaPendingCredential"in l&&gr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function GC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?vm(t.config,i):`${t.config.apiScheme}://${i}`}var nm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ai(this.auth,"network-request-failed")),z1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ml(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ai(t,e,r);return i.customData._tokenResponse=n,i}function W1(t,e){return w(this,null,function*(){return Ts(t,"POST","/v1/accounts:delete",e)})}function WC(t,e){return w(this,null,function*(){return Ts(t,"POST","/v1/accounts:lookup",e)})}function Da(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Im(t,e=!1){return w(this,null,function*(){let n=nt(t),r=yield n.getIdToken(e),i=wm(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Da(Jg(i.auth_time)),issuedAtTime:Da(Jg(i.iat)),expirationTime:Da(Jg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Jg(t){return Number(t)*1e3}function wm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ng(n);return i?JSON.parse(i):(Nl("Failed to decode base64 JWT payload"),null)}catch(i){return Nl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function AC(t){let e=wm(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ca(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof wt&&K1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function K1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var rm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ta=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Da(this.lastLoginAt),this.creationTime=Da(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ll(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ca(t,WC(n,{idToken:r}));Q(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?KC(s.providerUserInfo):[],c=Q1(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ta(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Em(t){return w(this,null,function*(){let e=nt(t);yield Ll(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Q1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KC(t){return t.map(e=>{var{providerId:n}=e,r=Ph(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Y1(t,e){return w(this,null,function*(){let n=yield zC(t,{},()=>w(this,null,function*(){let r=ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=GC(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Fl.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Z1(t,e){return w(this,null,function*(){return Ts(t,"POST","/v2/accounts:revokeToken",_m(t,e))})}var ba=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let n=AC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Y1(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return kn("not implemented")}};function pr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Cs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ph(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ta(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Ca(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Im(this,e)}reload(){return Em(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ll(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(On(this.auth.app))return Promise.reject(oi(this.auth));let e=yield this.getIdToken();return yield Ca(this,W1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,B=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:z,emailVerified:oe,isAnonymous:Re,providerData:J,stsTokenManager:D}=n;Q(z&&D,e,"internal-error");let m=ba.fromJSON(this.name,D);Q(typeof z=="string",e,"internal-error"),pr(p,e.name),pr(y,e.name),Q(typeof oe=="boolean",e,"internal-error"),Q(typeof Re=="boolean",e,"internal-error"),pr(I,e.name),pr(S,e.name),pr(M,e.name),pr(R,e.name),pr(F,e.name),pr(B,e.name);let v=new t({uid:z,auth:e,email:y,emailVerified:oe,displayName:p,isAnonymous:Re,photoURL:S,phoneNumber:I,tenantId:M,stsTokenManager:m,createdAt:F,lastLoginAt:B});return J&&Array.isArray(J)&&(v.providerData=J.map(E=>Object.assign({},E))),R&&(v._redirectEventId=R),v}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new ba;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ll(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];Q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?KC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new ba;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ta(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var RC=new Map;function Fn(t){mr(t instanceof Function,"Expected a class definition");let e=RC.get(t);return e?(mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RC.set(t,e),e)}var J1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),im=J1;function xl(t,e,n){return`firebase:${t}:${e}:${n}`}var Vl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=xl(this.userKey,i.apiKey,s),this.fullPersistenceKey=xl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Cs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Fn(im),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Fn(im),o=xl(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=Cs._fromJSON(e,h);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function MC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eT(e))return"Blackberry";if(tT(e))return"Webos";if(YC(e))return"Safari";if((e.includes("chrome/")||ZC(e))&&!e.includes("edge/"))return"Chrome";if(XC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function QC(t=He()){return/firefox\//i.test(t)}function YC(t=He()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZC(t=He()){return/crios\//i.test(t)}function JC(t=He()){return/iemobile/i.test(t)}function XC(t=He()){return/android/i.test(t)}function eT(t=He()){return/blackberry/i.test(t)}function tT(t=He()){return/webos/i.test(t)}function Dm(t=He()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function X1(t=He()){var e;return Dm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eL(){return sC()&&document.documentMode===10}function nT(t=He()){return Dm(t)||XC(t)||tT(t)||eT(t)||/windows phone/i.test(t)||JC(t)}function rT(t,e=[]){let n;switch(t){case"Browser":n=MC(He());break;case"Worker":n=`${MC(He())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fr}/${r}`}var sm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function tL(n){return w(this,arguments,function*(t,e={}){return Ts(t,"GET","/v2/passwordPolicy",_m(t,e))})}var nL=6,om=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:nL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var am=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ul(this),this.idTokenSubscription=new Ul(this),this.beforeStateQueue=new sm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Vl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield WC(this,{idToken:e}),r=yield Cs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(On(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Ll(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=H1()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(On(this.app))return Promise.reject(oi(this));let n=e?nt(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return On(this.app)?Promise.reject(oi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return On(this.app)?Promise.reject(oi(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Fn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield tL(this),n=new om(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Z1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Fn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield Vl.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&j1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function bm(t){return nt(t)}var Ul=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=uC(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Cm={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rL(t){Cm=t}function iL(t){return Cm.loadJS(t)}function sL(){return Cm.gapiScript}function iT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Tm(t,e){let n=_a(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ei(s,e??{}))return i;gr(i,"already-initialized")}return n.initialize({options:e})}function oL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Sm(t,e,n){let r=bm(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=sT(e),{host:o,port:c}=aL(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||cL()}function sT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aL(t){let e=sT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:NC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:NC(o)}}}function NC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function cL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var jl=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kn("not implemented")}_getIdTokenResponse(e){return kn("not implemented")}_linkToIdToken(e,n){return kn("not implemented")}_getReauthenticationResolver(e){return kn("not implemented")}};function Xg(t,e){return w(this,null,function*(){return G1(t,"POST","/v1/accounts:signInWithIdp",_m(t,e))})}var Bl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var cm=class extends Bl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Sa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Cs._fromIdTokenResponse(e,r,i),o=xC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=xC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function xC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var um=class t extends wt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function oT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?um._fromErrorAndOperation(t,s,e,r):s})}function uL(t,e,n=!1){return w(this,null,function*(){let r=yield Ca(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Sa._forOperation(t,"link",r)})}function lL(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(On(r.app))return Promise.reject(oi(r));let i="reauthenticate";try{let s=yield Ca(t,oT(r,i,e,t),n);Q(s.idToken,r,"internal-error");let o=wm(s.idToken);Q(o,r,"internal-error");let{sub:c}=o;return Q(t.uid===c,r,"user-mismatch"),Sa._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&gr(r,"user-mismatch"),s}})}function dL(t,e,n=!1){return w(this,null,function*(){if(On(t.app))return Promise.reject(oi(t));let r="signIn",i=yield oT(t,r,e),s=yield Sa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Am(t,e,n,r){return nt(t).onIdTokenChanged(e,n,r)}function Rm(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}var $l="__sak";var Hl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($l,"1"),this.storage.removeItem($l),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var hL=1e3,fL=10,pL=(()=>{class t extends Hl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);eL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,fL):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},hL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield Gn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield Gn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield Gn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),aT=pL;var gL=(()=>{class t extends Hl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Mm=gL;function mL(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var yL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield mL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function cT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var lm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=cT("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function an(){return window}function vL(t){an().location.href=t}function uT(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}function _L(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function IL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wL(){return uT()?self:null}var lT="firebaseLocalStorageDb",EL=1,ql="firebaseLocalStorage",dT="fbase_key",ui=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Gl(t,e){return t.transaction([ql],e?"readwrite":"readonly").objectStore(ql)}function DL(){let t=indexedDB.deleteDatabase(lT);return new ui(t).toPromise()}function dm(){let t=indexedDB.open(lT,EL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ql,{keyPath:dT})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ql)?e(r):(r.close(),yield DL(),e(yield dm()))}))})}function PC(t,e,n){return w(this,null,function*(){let r=Gl(t,!0).put({[dT]:e,value:n});return new ui(r).toPromise()})}function bL(t,e){return w(this,null,function*(){let n=Gl(t,!1).get(e),r=yield new ui(n).toPromise();return r===void 0?null:r.value})}function OC(t,e){let n=Gl(t,!0).delete(e);return new ui(n).toPromise()}var CL=800,TL=3,SL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield dm(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>TL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return uT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=yL._getInstance(wL()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield _L(),!this.activeServiceWorker)return;this.sender=new lm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||IL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield dm();return yield PC(n,$l,"1"),yield OC(n,$l),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>PC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>bL(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>OC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=Gl(s,!1).getAll();return new ui(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),CL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),hT=SL;var e6=iT("rcb"),t6=new ci(3e4,6e4);function AL(t,e){return e?Fn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Aa=class extends jl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function RL(t){return dL(t.auth,new Aa(t),t.bypassAuthState)}function ML(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),lL(n,new Aa(t),t.bypassAuthState)}function NL(t){return w(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),uL(n,new Aa(t),t.bypassAuthState)})}var hm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RL;case"linkViaPopup":case"linkViaRedirect":return NL;case"reauthViaPopup":case"reauthViaRedirect":return ML;default:gr(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var n6=new ci(2e3,1e4);var xL="pendingRedirect",Pl=new Map,fm=class t extends hm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Pl.get(this.auth._key());if(!e){try{let r=(yield PL(this.resolver,this.auth))?yield Gn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pl.set(this.auth._key(),e)}return this.bypassAuthState||Pl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Gn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Gn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function PL(t,e){return w(this,null,function*(){let n=FL(e),r=kL(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function OL(t,e){Pl.set(t._key(),e)}function kL(t){return Fn(t._redirectPersistence)}function FL(t){return xl(xL,t.config.apiKey,t.name)}function LL(t,e,n=!1){return w(this,null,function*(){if(On(t.app))return Promise.reject(oi(t));let r=bm(t),i=AL(r,e),o=yield new fm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var VL=10*60*1e3,pm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VL&&this.cachedEventUids.clear(),this.cachedEventUids.has(kC(e))}saveEventToCache(e){this.cachedEventUids.add(kC(e)),this.lastProcessedEventTime=Date.now()}};function kC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function UL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fT(t);default:return!1}}function jL(n){return w(this,arguments,function*(t,e={}){return Ts(t,"GET","/v1/projects",e)})}var BL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$L=/^https?/;function HL(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield jL(t);for(let n of e)try{if(qL(n))return}catch{}gr(t,"unauthorized-domain")})}function qL(t){let e=tm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$L.test(n))return!1;if(BL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var zL=new ci(3e4,6e4);function FC(){let t=an().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GL(t){return new Promise((e,n)=>{var r,i,s;function o(){FC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FC(),n(ai(t,"network-request-failed"))},timeout:zL.get()})}if(!((i=(r=an().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=an().gapi)===null||s===void 0)&&s.load)o();else{let c=iT("iframefcb");return an()[c]=()=>{gapi.load?o():n(ai(t,"network-request-failed"))},iL(`${sL()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Ol=null,e})}var Ol=null;function WL(t){return Ol=Ol||GL(t),Ol}var KL=new ci(5e3,15e3),QL="__/auth/iframe",YL="emulator/auth/iframe",ZL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XL(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?vm(e,YL):`https://${t.config.authDomain}/${QL}`,r={apiKey:e.apiKey,appName:t.name,v:fr},i=JL.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ma(r).slice(1)}`}function eV(t){return w(this,null,function*(){let e=yield WL(t),n=an().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:XL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZL,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ai(t,"network-request-failed"),c=an().setTimeout(()=>{s(o)},KL.get());function u(){an().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var tV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nV=500,rV=600,iV="_blank",sV="http://localhost",zl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function oV(t,e,n,r=nV,i=rV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},tV),{width:r.toString(),height:i.toString(),top:s,left:o}),l=He().toLowerCase();n&&(c=ZC(l)?iV:n),QC(l)&&(e=e||sV,u.scrollbars="yes");let h=Object.entries(u).reduce((y,[I,S])=>`${y}${I}=${S},`,"");if(X1(l)&&c!=="_self")return aV(e||"",c),new zl(null);let p=window.open(e||"",c,h);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new zl(p)}function aV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var cV="__/auth/handler",uV="emulator/auth/handler",lV=encodeURIComponent("fac");function LC(t,e,n,r,i,s){return w(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fr,eventId:i};if(e instanceof Bl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof cm){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=yield t._getAppCheckToken(),l=u?`#${lV}=${encodeURIComponent(u)}`:"";return`${dV(t)}?${ma(c).slice(1)}${l}`})}function dV({config:t}){return t.emulator?vm(t,uV):`https://${t.authDomain}/${cV}`}var em="webStorageSupport",gm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mm,this._completeRedirectFn=LL,this._overrideRedirectResult=OL}_openPopup(e,n,r,i){return w(this,null,function*(){var s;mr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield LC(e,n,r,tm(),i);return oV(e,o,cT())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield LC(e,n,r,tm(),i);return vL(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(mr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield eV(e),r=new pm(e);return n.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(em,{type:em},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[em];o!==void 0&&n(!!o),gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nT()||YC()||Dm()}},pT=gm;var VC="@firebase/auth",UC="1.7.9";var mm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function hV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fV(t){hr(new Pt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rT(t)},l=new am(r,i,s,u);return oL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hr(new Pt("auth-internal",e=>{let n=bm(e.getProvider("auth").getImmediate());return(r=>new mm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ke(VC,UC,hV(t)),ke(VC,UC,"esm2017")}var pV=5*60,gV=Og("authIdTokenMaxAge")||pV,jC=null,mV=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gV)return;let i=n?.token;jC!==i&&(jC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Nm(t=ni()){let e=_a(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Tm(t,{popupRedirectResolver:pT,persistence:[hT,aT,Mm]}),r=Og("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=mV(s.toString());Rm(n,o,()=>o(n.currentUser)),Am(n,c=>o(c))}}let i=xg("auth");return i&&Sm(n,`http://${i}`),n}function yV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ai("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",yV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fV("Browser");var gT="auth",xm=class{constructor(t){return t}},Pm=class{constructor(){return wa(gT)}};var Om=new j("angularfire2.auth-instances");function hU(t,e){let n=Sl(gT,t,e);return n&&new xm(n)}function fU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new xm(r)}}var pU={provide:Pm,deps:[[new ht,Om]]},gU={provide:xm,useFactory:hU,deps:[[new ht,Om],si]};function mT(t,...e){return ke("angularfire",ii.full,"auth"),Rt([gU,pU,{provide:Om,useFactory:fU(t),multi:!0,deps:[me,tt,bs,Ea,[new ht,Al],...e]}])}var yT=Ot(Nm,!0);var vT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_T={};var yr,km;(function(){var t;function e(D,m){function v(){}v.prototype=m.prototype,D.D=m.prototype,D.prototype=new v,D.prototype.constructor=D,D.C=function(E,b,T){for(var _=Array(arguments.length-2),mn=2;mn<arguments.length;mn++)_[mn-2]=arguments[mn];return m.prototype[b].apply(E,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,v){v||(v=0);var E=Array(16);if(typeof m=="string")for(var b=0;16>b;++b)E[b]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(b=0;16>b;++b)E[b]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=D.g[0],v=D.g[1],b=D.g[2];var T=D.g[3],_=m+(T^v&(b^T))+E[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=T+(b^m&(v^b))+E[1]+3905402710&4294967295,T=m+(_<<12&4294967295|_>>>20),_=b+(v^T&(m^v))+E[2]+606105819&4294967295,b=T+(_<<17&4294967295|_>>>15),_=v+(m^b&(T^m))+E[3]+3250441966&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(T^v&(b^T))+E[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(b^m&(v^b))+E[5]+1200080426&4294967295,T=m+(_<<12&4294967295|_>>>20),_=b+(v^T&(m^v))+E[6]+2821735955&4294967295,b=T+(_<<17&4294967295|_>>>15),_=v+(m^b&(T^m))+E[7]+4249261313&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(T^v&(b^T))+E[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(b^m&(v^b))+E[9]+2336552879&4294967295,T=m+(_<<12&4294967295|_>>>20),_=b+(v^T&(m^v))+E[10]+4294925233&4294967295,b=T+(_<<17&4294967295|_>>>15),_=v+(m^b&(T^m))+E[11]+2304563134&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(T^v&(b^T))+E[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(b^m&(v^b))+E[13]+4254626195&4294967295,T=m+(_<<12&4294967295|_>>>20),_=b+(v^T&(m^v))+E[14]+2792965006&4294967295,b=T+(_<<17&4294967295|_>>>15),_=v+(m^b&(T^m))+E[15]+1236535329&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(b^T&(v^b))+E[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^b&(m^v))+E[6]+3225465664&4294967295,T=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(T^m))+E[11]+643717713&4294967295,b=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(b^T))+E[0]+3921069994&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^T&(v^b))+E[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^b&(m^v))+E[10]+38016083&4294967295,T=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(T^m))+E[15]+3634488961&4294967295,b=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(b^T))+E[4]+3889429448&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^T&(v^b))+E[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^b&(m^v))+E[14]+3275163606&4294967295,T=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(T^m))+E[3]+4107603335&4294967295,b=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(b^T))+E[8]+1163531501&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^T&(v^b))+E[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^b&(m^v))+E[2]+4243563512&4294967295,T=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(T^m))+E[7]+1735328473&4294967295,b=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(b^T))+E[12]+2368359562&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(v^b^T)+E[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^b)+E[8]+2272392833&4294967295,T=m+(_<<11&4294967295|_>>>21),_=b+(T^m^v)+E[11]+1839030562&4294967295,b=T+(_<<16&4294967295|_>>>16),_=v+(b^T^m)+E[14]+4259657740&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^T)+E[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^b)+E[4]+1272893353&4294967295,T=m+(_<<11&4294967295|_>>>21),_=b+(T^m^v)+E[7]+4139469664&4294967295,b=T+(_<<16&4294967295|_>>>16),_=v+(b^T^m)+E[10]+3200236656&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^T)+E[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^b)+E[0]+3936430074&4294967295,T=m+(_<<11&4294967295|_>>>21),_=b+(T^m^v)+E[3]+3572445317&4294967295,b=T+(_<<16&4294967295|_>>>16),_=v+(b^T^m)+E[6]+76029189&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^T)+E[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^b)+E[12]+3873151461&4294967295,T=m+(_<<11&4294967295|_>>>21),_=b+(T^m^v)+E[15]+530742520&4294967295,b=T+(_<<16&4294967295|_>>>16),_=v+(b^T^m)+E[2]+3299628645&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(b^(v|~T))+E[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~b))+E[7]+1126891415&4294967295,T=m+(_<<10&4294967295|_>>>22),_=b+(m^(T|~v))+E[14]+2878612391&4294967295,b=T+(_<<15&4294967295|_>>>17),_=v+(T^(b|~m))+E[5]+4237533241&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~T))+E[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~b))+E[3]+2399980690&4294967295,T=m+(_<<10&4294967295|_>>>22),_=b+(m^(T|~v))+E[10]+4293915773&4294967295,b=T+(_<<15&4294967295|_>>>17),_=v+(T^(b|~m))+E[1]+2240044497&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~T))+E[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~b))+E[15]+4264355552&4294967295,T=m+(_<<10&4294967295|_>>>22),_=b+(m^(T|~v))+E[6]+2734768916&4294967295,b=T+(_<<15&4294967295|_>>>17),_=v+(T^(b|~m))+E[13]+1309151649&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~T))+E[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~b))+E[11]+3174756917&4294967295,T=m+(_<<10&4294967295|_>>>22),_=b+(m^(T|~v))+E[2]+718787259&4294967295,b=T+(_<<15&4294967295|_>>>17),_=v+(T^(b|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var v=m-this.blockSize,E=this.B,b=this.h,T=0;T<m;){if(b==0)for(;T<=v;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<m;)if(E[b++]=D.charCodeAt(T++),b==this.blockSize){i(this,E),b=0;break}}else for(;T<m;)if(E[b++]=D[T++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var v=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=v&255,v/=256;for(this.u(D),D=Array(16),m=v=0;4>m;++m)for(var E=0;32>E;E+=8)D[v++]=this.g[m]>>>E&255;return D};function s(D,m){var v=c;return Object.prototype.hasOwnProperty.call(v,D)?v[D]:v[D]=m(D)}function o(D,m){this.h=m;for(var v=[],E=!0,b=D.length-1;0<=b;b--){var T=D[b]|0;E&&T==m||(v[b]=T,E=!1)}this.g=v}var c={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var m=[],v=1,E=0;D>=v;E++)m[E]=D/v|0,v*=4294967296;return new o(m,0)}function h(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return R(h(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),E=p,b=0;b<D.length;b+=8){var T=Math.min(8,D.length-b),_=parseInt(D.substring(b,b+T),m);8>T?(T=l(Math.pow(m,T)),E=E.j(T).add(l(_))):(E=E.j(v),E=E.add(l(_)))}return E}var p=u(0),y=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var D=0,m=1,v=0;v<this.g.length;v++){var E=this.i(v);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var m=l(Math.pow(D,6)),v=this,E="";;){var b=oe(v,m).g;v=F(v,b.j(m));var T=((0<v.g.length?v.g[0]:v.h)>>>0).toString(D);if(v=b,S(v))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=F(this,D),M(D)?-1:S(D)?0:1};function R(D){for(var m=D.g.length,v=[],E=0;E<m;E++)v[E]=~D.g[E];return new o(v,~D.h).add(y)}t.abs=function(){return M(this)?R(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0,b=0;b<=m;b++){var T=E+(this.i(b)&65535)+(D.i(b)&65535),_=(T>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);E=_>>>16,T&=65535,_&=65535,v[b]=_<<16|T}return new o(v,v[v.length-1]&-2147483648?-1:0)};function F(D,m){return D.add(R(m))}t.j=function(D){if(S(this)||S(D))return p;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(I)&&0>D.l(I))return l(this.m()*D.m());for(var m=this.g.length+D.g.length,v=[],E=0;E<2*m;E++)v[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<D.g.length;b++){var T=this.i(E)>>>16,_=this.i(E)&65535,mn=D.i(b)>>>16,to=D.i(b)&65535;v[2*E+2*b]+=_*to,B(v,2*E+2*b),v[2*E+2*b+1]+=T*to,B(v,2*E+2*b+1),v[2*E+2*b+1]+=_*mn,B(v,2*E+2*b+1),v[2*E+2*b+2]+=T*mn,B(v,2*E+2*b+2)}for(E=0;E<m;E++)v[E]=v[2*E+1]<<16|v[2*E];for(E=m;E<2*m;E++)v[E]=0;return new o(v,0)};function B(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function z(D,m){this.g=D,this.h=m}function oe(D,m){if(S(m))throw Error("division by zero");if(S(D))return new z(p,p);if(M(D))return m=oe(R(D),m),new z(R(m.g),R(m.h));if(M(m))return m=oe(D,R(m)),new z(R(m.g),m.h);if(30<D.g.length){if(M(D)||M(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,E=m;0>=E.l(D);)v=Re(v),E=Re(E);var b=J(v,1),T=J(E,1);for(E=J(E,2),v=J(v,2);!S(E);){var _=T.add(E);0>=_.l(D)&&(b=b.add(v),T=_),E=J(E,1),v=J(v,1)}return m=F(D,b.j(m)),new z(b,m)}for(b=p;0<=D.l(m);){for(v=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(v)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(v),_=T.j(m);M(_)||0<_.l(D);)v-=E,T=l(v),_=T.j(m);S(T)&&(T=y),b=b.add(T),D=F(D,_)}return new z(b,D)}t.A=function(D){return oe(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)&D.i(E);return new o(v,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)|D.i(E);return new o(v,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)^D.i(E);return new o(v,this.h^D.h)};function Re(D){for(var m=D.g.length+1,v=[],E=0;E<m;E++)v[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(v,D.h)}function J(D,m){var v=m>>5;m%=32;for(var E=D.g.length-v,b=[],T=0;T<E;T++)b[T]=0<m?D.i(T+v)>>>m|D.i(T+v+1)<<32-m:D.i(T+v);return new o(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,km=_T.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,yr=_T.Integer=o}).apply(typeof vT<"u"?vT:typeof self<"u"?self:typeof window<"u"?window:{});var Wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ln={};var Fm,mU,Ss,Lm,Ra,Kl,Vm,Um,jm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wl=="object"&&Wl];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in f))break e;f=f[C]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var f=0,g=!1,C={next:function(){if(!g&&f<a.length){var A=f++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,f){return f})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function y(a,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function I(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,C,A){for(var P=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)P[Ie-2]=arguments[Ie];return d.prototype[C].apply(g,P)}}function M(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function R(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=a.length||0,A=g.length||0;a.length=C+A;for(let P=0;P<A;P++)a[C+P]=g[P]}else a.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function B(a){return/^[\s\xa0]*$/.test(a)}function z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function oe(a){return oe[" "](a),a}oe[" "]=function(){};var Re=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function J(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function D(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function m(a){let d={};for(let f in a)d[f]=a[f];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)a[f]=g[f];for(let A=0;A<v.length;A++)f=v[A],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function b(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function T(a){c.setTimeout(()=>{throw a},0)}function _(){var a=$d;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class mn{constructor(){this.h=this.g=null}add(d,f){let g=to.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var to=new F(()=>new LS,a=>a.reset());class LS{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let no,ro=!1,$d=new mn,e_=()=>{let a=c.Promise.resolve(void 0);no=()=>{a.then(VS)}};var VS=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(f){T(f)}var d=to;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}ro=!1};function $n(){this.s=this.s,this.C=this.C}$n.prototype.s=!1,$n.prototype.ma=function(){this.s||(this.s=!0,this.N())},$n.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Qe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var US=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function io(a,d){if(Qe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Re){e:{try{oe(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:jS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&io.aa.h.call(this)}}S(io,Qe);var jS={2:"touch",3:"pen",4:"mouse"};io.prototype.h=function(){io.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var so="closure_listenable_"+(1e6*Math.random()|0),BS=0;function $S(a,d,f,g,C){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++BS,this.da=this.fa=!1}function oc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ac(a){this.src=a,this.g={},this.h=0}ac.prototype.add=function(a,d,f,g,C){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var P=qd(a,d,g,C);return-1<P?(d=a[P],f||(d.fa=!1)):(d=new $S(d,this.src,A,!!g,C),d.fa=f,a.push(d)),d};function Hd(a,d){var f=d.type;if(f in a.g){var g=a.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(oc(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function qd(a,d,f,g){for(var C=0;C<a.length;++C){var A=a[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var zd="closure_lm_"+(1e6*Math.random()|0),Gd={};function t_(a,d,f,g,C){if(g&&g.once)return r_(a,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)t_(a,d[A],f,g,C);return null}return f=Yd(f),a&&a[so]?a.K(d,f,l(g)?!!g.capture:!!g,C):n_(a,d,f,!1,g,C)}function n_(a,d,f,g,C,A){if(!d)throw Error("Invalid event type");var P=l(C)?!!C.capture:!!C,Ie=Kd(a);if(Ie||(a[zd]=Ie=new ac(a)),f=Ie.add(d,f,g,P,A),f.proxy)return f;if(g=HS(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)US||(C=P),C===void 0&&(C=!1),a.addEventListener(d.toString(),g,C);else if(a.attachEvent)a.attachEvent(s_(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function HS(){function a(f){return d.call(a.src,a.listener,f)}let d=qS;return a}function r_(a,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)r_(a,d[A],f,g,C);return null}return f=Yd(f),a&&a[so]?a.L(d,f,l(g)?!!g.capture:!!g,C):n_(a,d,f,!0,g,C)}function i_(a,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)i_(a,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=Yd(f),a&&a[so]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],f=qd(A,f,g,C),-1<f&&(oc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=Kd(a))&&(d=a.g[d.toString()],a=-1,d&&(a=qd(d,f,g,C)),(f=-1<a?d[a]:null)&&Wd(f))}function Wd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[so])Hd(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(s_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Kd(d))?(Hd(f,a),f.h==0&&(f.src=null,d[zd]=null)):oc(a)}}}function s_(a){return a in Gd?Gd[a]:Gd[a]="on"+a}function qS(a,d){if(a.da)a=!0;else{d=new io(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&Wd(a),a=f.call(g,d)}return a}function Kd(a){return a=a[zd],a instanceof ac?a:null}var Qd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yd(a){return typeof a=="function"?a:(a[Qd]||(a[Qd]=function(d){return a.handleEvent(d)}),a[Qd])}function Ye(){$n.call(this),this.i=new ac(this),this.M=this,this.F=null}S(Ye,$n),Ye.prototype[so]=!0,Ye.prototype.removeEventListener=function(a,d,f,g){i_(this,a,d,f,g)};function ot(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Qe(d,a);else if(d instanceof Qe)d.target=d.target||a;else{var C=d;d=new Qe(g,a),E(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var P=d.g=f[A];C=cc(P,g,!0,d)&&C}if(P=d.g=a,C=cc(P,g,!0,d)&&C,C=cc(P,g,!1,d)&&C,f)for(A=0;A<f.length;A++)P=d.g=f[A],C=cc(P,g,!1,d)&&C}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)oc(f[g]);delete a.g[d],a.h--}}this.F=null},Ye.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},Ye.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function cc(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==f){var Ie=P.listener,ze=P.ha||P.src;P.fa&&Hd(a.i,P),C=Ie.call(ze,g)!==!1&&C}}return C&&!g.defaultPrevented}function o_(a,d,f){if(typeof a=="function")f&&(a=y(a,f));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function a_(a){a.g=o_(()=>{a.g=null,a.i&&(a.i=!1,a_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class zS extends $n{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:a_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oo(a){$n.call(this),this.h=a,this.g={}}S(oo,$n);var c_=[];function u_(a){J(a.g,function(d,f){this.g.hasOwnProperty(f)&&Wd(d)},a),a.g={}}oo.prototype.N=function(){oo.aa.N.call(this),u_(this)},oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zd=c.JSON.stringify,GS=c.JSON.parse,WS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Jd(){}Jd.prototype.h=null;function l_(a){return a.h||(a.h=a.i())}function d_(){}var ao={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xd(){Qe.call(this,"d")}S(Xd,Qe);function eh(){Qe.call(this,"c")}S(eh,Qe);var Er={},h_=null;function uc(){return h_=h_||new Ye}Er.La="serverreachability";function f_(a){Qe.call(this,Er.La,a)}S(f_,Qe);function co(a){let d=uc();ot(d,new f_(d))}Er.STAT_EVENT="statevent";function p_(a,d){Qe.call(this,Er.STAT_EVENT,a),this.stat=d}S(p_,Qe);function at(a){let d=uc();ot(d,new p_(d,a))}Er.Ma="timingevent";function g_(a,d){Qe.call(this,Er.Ma,a),this.size=d}S(g_,Qe);function uo(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function lo(){this.g=!0}lo.prototype.xa=function(){this.g=!1};function KS(a,d,f,g,C,A){a.info(function(){if(a.g)if(A)for(var P="",Ie=A.split("&"),ze=0;ze<Ie.length;ze++){var pe=Ie[ze].split("=");if(1<pe.length){var Ze=pe[0];pe=pe[1];var Je=Ze.split("_");P=2<=Je.length&&Je[1]=="type"?P+(Ze+"="+pe+"&"):P+(Ze+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+P})}function QS(a,d,f,g,C,A,P){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+P})}function Ei(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+ZS(a,f)+(g?" "+g:"")})}function YS(a,d){a.info(function(){return"TIMEOUT: "+d})}lo.prototype.info=function(){};function ZS(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return Zd(f)}catch{return d}}var lc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},m_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},th;function dc(){}S(dc,Jd),dc.prototype.g=function(){return new XMLHttpRequest},dc.prototype.i=function(){return{}},th=new dc;function Hn(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new oo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new y_}function y_(){this.i=null,this.g="",this.h=!1}var v_={},nh={};function rh(a,d,f){a.L=1,a.v=gc(yn(d)),a.m=f,a.P=!0,__(a,null)}function __(a,d){a.F=Date.now(),hc(a),a.A=yn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),P_(f.i,"t",g),a.C=0,f=a.j.J,a.h=new y_,a.g=Z_(a.j,f?d:null,!a.m),0<a.O&&(a.M=new zS(y(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(c_[0]=C.toString()),C=c_);for(var A=0;A<C.length;A++){var P=t_(f,C[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),co(),KS(a.i,a.u,a.A,a.l,a.R,a.m)}Hn.prototype.ca=function(a){a=a.target;let d=this.M;d&&vn(a)==3?d.j():this.Y(a)},Hn.prototype.Y=function(a){try{if(a==this.g)e:{let Je=vn(this.g);var d=this.g.Ba();let Ci=this.g.Z();if(!(3>Je)&&(Je!=3||this.g&&(this.h.h||this.g.oa()||j_(this.g)))){this.J||Je!=4||d==7||(d==8||0>=Ci?co(3):co(2)),ih(this);var f=this.g.Z();this.X=f;t:if(I_(this)){var g=j_(this.g);a="";var C=g.length,A=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dr(this),ho(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,QS(this.i,this.u,this.A,this.l,this.R,Je,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,ze=this.g;if((Ie=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Ie)){var pe=Ie;break t}}pe=null}if(f=pe)Ei(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sh(this,f);else{this.o=!1,this.s=3,at(12),Dr(this),ho(this);break e}}if(this.P){f=!0;let Lt;for(;!this.J&&this.C<P.length;)if(Lt=JS(this,P),Lt==nh){Je==4&&(this.s=4,at(14),f=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==v_){this.s=4,at(15),Ei(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else Ei(this.i,this.l,Lt,null),sh(this,Lt);if(I_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||P.length!=0||this.h.h||(this.s=1,at(16),f=!1),this.o=this.o&&f,!f)Ei(this.i,this.l,P,"[Invalid Chunked Response]"),Dr(this),ho(this);else if(0<P.length&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.ba&&!Ze.M&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),dh(Ze),Ze.M=!0,at(11))}}else Ei(this.i,this.l,P,null),sh(this,P);Je==4&&Dr(this),this.o&&!this.J&&(Je==4?W_(this.j,this):(this.o=!1,hc(this)))}else gA(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Dr(this),ho(this)}}}catch{}finally{}};function I_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function JS(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?nh:(f=Number(d.substring(f,g)),isNaN(f)?v_:(g+=1,g+f>d.length?nh:(d=d.slice(g,g+f),a.C=g+f,d)))}Hn.prototype.cancel=function(){this.J=!0,Dr(this)};function hc(a){a.S=Date.now()+a.I,w_(a,a.I)}function w_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=uo(y(a.ba,a),d)}function ih(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Hn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(YS(this.i,this.A),this.L!=2&&(co(),at(17)),Dr(this),this.s=2,ho(this)):w_(this,this.S-a)};function ho(a){a.j.G==0||a.J||W_(a.j,a)}function Dr(a){ih(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,u_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function sh(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||oh(f.h,a))){if(!a.K&&oh(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Ic(f),vc(f);else break e;lh(f),at(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=uo(y(f.Za,f),6e3));if(1>=b_(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Cr(f,11)}else if((a.K||f.g==a)&&Ic(f),!B(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let pe=C[d];if(f.T=pe[0],pe=pe[1],f.G==2)if(pe[0]=="c"){f.K=pe[1],f.ia=pe[2];let Ze=pe[3];Ze!=null&&(f.la=Ze,f.j.info("VER="+f.la));let Je=pe[4];Je!=null&&(f.Aa=Je,f.j.info("SVER="+f.Aa));let Ci=pe[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(g=1.5*Ci,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Lt=a.g;if(Lt){let Ec=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ec){var A=g.h;A.g||Ec.indexOf("spdy")==-1&&Ec.indexOf("quic")==-1&&Ec.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(ah(A,A.h),A.h=null))}if(g.D){let hh=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;hh&&(g.ya=hh,Ee(g.I,g.D,hh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var P=a;if(g.qa=Y_(g,g.J?g.ia:null,g.W),P.K){C_(g.h,P);var Ie=P,ze=g.L;ze&&(Ie.I=ze),Ie.B&&(ih(Ie),hc(Ie)),g.g=P}else z_(g);0<f.i.length&&_c(f)}else pe[0]!="stop"&&pe[0]!="close"||Cr(f,7);else f.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Cr(f,7):uh(f):pe[0]!="noop"&&f.l&&f.l.ta(pe),f.v=0)}}co(4)}catch{}}var XS=class{constructor(a,d){this.g=a,this.map=d}};function E_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function D_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function b_(a){return a.h?1:a.g?a.g.size:0}function oh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ah(a,d){a.g?a.g.add(d):a.h=d}function C_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}E_.prototype.cancel=function(){if(this.i=T_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function T_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return M(a.i)}function eA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function tA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function S_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=tA(a),g=eA(a),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],a)}var A_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nA(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),C=null;if(0<=g){var A=a[f].substring(0,g);C=a[f].substring(g+1)}else A=a[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function br(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof br){this.h=a.h,fc(this,a.j),this.o=a.o,this.g=a.g,pc(this,a.s),this.l=a.l;var d=a.i,f=new go;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),R_(this,f),this.m=a.m}else a&&(d=String(a).match(A_))?(this.h=!1,fc(this,d[1]||"",!0),this.o=fo(d[2]||""),this.g=fo(d[3]||"",!0),pc(this,d[4]),this.l=fo(d[5]||"",!0),R_(this,d[6]||"",!0),this.m=fo(d[7]||"")):(this.h=!1,this.i=new go(null,this.h))}br.prototype.toString=function(){var a=[],d=this.j;d&&a.push(po(d,M_,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(po(d,M_,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(po(f,f.charAt(0)=="/"?sA:iA,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",po(f,aA)),a.join("")};function yn(a){return new br(a)}function fc(a,d,f){a.j=f?fo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function pc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function R_(a,d,f){d instanceof go?(a.i=d,cA(a.i,a.h)):(f||(d=po(d,oA)),a.i=new go(d,a.h))}function Ee(a,d,f){a.i.set(d,f)}function gc(a){return Ee(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function fo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function po(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,rA),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function rA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var M_=/[#\/\?@]/g,iA=/[#\?:]/g,sA=/[#\?]/g,oA=/[#\?@]/g,aA=/#/g;function go(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function qn(a){a.g||(a.g=new Map,a.h=0,a.i&&nA(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=go.prototype,t.add=function(a,d){qn(this),this.i=null,a=Di(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function N_(a,d){qn(a),d=Di(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function x_(a,d){return qn(a),d=Di(a,d),a.g.has(d)}t.forEach=function(a,d){qn(this),this.g.forEach(function(f,g){f.forEach(function(C){a.call(d,C,g,this)},this)},this)},t.na=function(){qn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=a[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(a){qn(this);let d=[];if(typeof a=="string")x_(this,a)&&(d=d.concat(this.g.get(Di(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return qn(this),this.i=null,a=Di(this,a),x_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function P_(a,d,f){N_(a,d),0<f.length&&(a.i=null,a.g.set(Di(a,d),M(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var C=A;P[g]!==""&&(C+="="+encodeURIComponent(String(P[g]))),a.push(C)}}return this.i=a.join("&")};function Di(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function cA(a,d){d&&!a.j&&(qn(a),a.i=null,a.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(N_(this,g),P_(this,C,f))},a)),a.j=d}function uA(a,d){let f=new lo;if(c.Image){let g=new Image;g.onload=I(zn,f,"TestLoadImage: loaded",!0,d,g),g.onerror=I(zn,f,"TestLoadImage: error",!1,d,g),g.onabort=I(zn,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(zn,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function lA(a,d){let f=new lo,g=new AbortController,C=setTimeout(()=>{g.abort(),zn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?zn(f,"TestPingServer: ok",!0,d):zn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),zn(f,"TestPingServer: error",!1,d)})}function zn(a,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function dA(){this.g=new WS}function hA(a,d,f){let g=f||"";try{S_(a,function(C,A){let P=C;l(C)&&(P=Zd(C)),d.push(g+A+"="+encodeURIComponent(P))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function mo(a){this.l=a.Ub||null,this.j=a.eb||!1}S(mo,Jd),mo.prototype.g=function(){return new mc(this.l,this.j)},mo.prototype.i=function(a){return function(){return a}}({});function mc(a,d){Ye.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(mc,Ye),t=mc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,vo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,vo(this)),this.g&&(this.readyState=3,vo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;O_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function O_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?yo(this):vo(this),this.readyState==3&&O_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,yo(this))},t.Qa=function(a){this.g&&(this.response=a,yo(this))},t.ga=function(){this.g&&yo(this)};function yo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,vo(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function vo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function k_(a){let d="";return J(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function ch(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=k_(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Ee(a,d,f))}function Me(a){Ye.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Me,Ye);var fA=/^https?$/i,pA=["POST","PUT"];t=Me.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():th.g(),this.v=this.o?l_(this.o):l_(th),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){F_(this,A);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(pA,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of f)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{U_(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){F_(this,A)}};function F_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,L_(a),yc(a)}function L_(a){a.A||(a.A=!0,ot(a,"complete"),ot(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ot(this,"complete"),ot(this,"abort"),yc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yc(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?V_(this):this.bb())},t.bb=function(){V_(this)};function V_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||vn(a)!=4||a.Z()!=2)){if(a.u&&vn(a)==4)o_(a.Ea,0,a);else if(ot(a,"readystatechange"),vn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=P===0){var C=String(a.D).match(A_)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),g=!fA.test(C?C.toLowerCase():"")}f=g}if(f)ot(a,"complete"),ot(a,"success");else{a.m=6;try{var A=2<vn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",L_(a)}}finally{yc(a)}}}}function yc(a,d){if(a.g){U_(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ot(a,"ready");try{f.onreadystatechange=g}catch{}}}function U_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function vn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),GS(d)}};function j_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function gA(a){let d={};a=(a.g&&2<=vn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(B(a[g]))continue;var f=b(a[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _o(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function B_(a){this.Aa=0,this.i=[],this.j=new lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_o("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_o("baseRetryDelayMs",5e3,a),this.cb=_o("retryDelaySeedMs",1e4,a),this.Wa=_o("forwardChannelMaxRetries",2,a),this.wa=_o("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new E_(a&&a.concurrentRequestLimit),this.Da=new dA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=B_.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,g){at(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Y_(this,null,this.W),_c(this)};function uh(a){if($_(a),a.G==3){var d=a.U++,f=yn(a.I);if(Ee(f,"SID",a.K),Ee(f,"RID",d),Ee(f,"TYPE","terminate"),Io(a,f),d=new Hn(a,a.j,d),d.L=2,d.v=gc(yn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=Z_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),hc(d)}Q_(a)}function vc(a){a.g&&(dh(a),a.g.cancel(),a.g=null)}function $_(a){vc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ic(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function _c(a){if(!D_(a.h)&&!a.s){a.s=!0;var d=a.Ga;no||e_(),ro||(no(),ro=!0),$d.add(d,a),a.B=0}}function mA(a,d){return b_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=uo(y(a.Ga,a,d),K_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new Hn(this,this.j,a),A=this.o;if(this.S&&(A?(A=m(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=q_(this,C,d),f=yn(this.I),Ee(f,"RID",a),Ee(f,"CVER",22),this.D&&Ee(f,"X-HTTP-Session-Id",this.D),Io(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(k_(A)))+"&"+d:this.m&&ch(f,this.m,A)),ah(this.h,C),this.Ua&&Ee(f,"TYPE","init"),this.P?(Ee(f,"$req",d),Ee(f,"SID","null"),C.T=!0,rh(C,f,null)):rh(C,f,d),this.G=2}}else this.G==3&&(a?H_(this,a):this.i.length==0||D_(this.h)||H_(this))};function H_(a,d){var f;d?f=d.l:f=a.U++;let g=yn(a.I);Ee(g,"SID",a.K),Ee(g,"RID",f),Ee(g,"AID",a.T),Io(a,g),a.m&&a.o&&ch(g,a.m,a.o),f=new Hn(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=q_(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ah(a.h,f),rh(f,g,d)}function Io(a,d){a.H&&J(a.H,function(f,g){Ee(d,g,f)}),a.l&&S_({},function(f,g){Ee(d,g,f)})}function q_(a,d,f){f=Math.min(a.i.length,f);var g=a.l?y(a.l.Na,a.l,a):null;e:{var C=a.i;let A=-1;for(;;){let P=["count="+f];A==-1?0<f?(A=C[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let Ie=!0;for(let ze=0;ze<f;ze++){let pe=C[ze].g,Ze=C[ze].map;if(pe-=A,0>pe)A=Math.max(0,C[ze].g-100),Ie=!1;else try{hA(Ze,P,"req"+pe+"_")}catch{g&&g(Ze)}}if(Ie){g=P.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function z_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;no||e_(),ro||(no(),ro=!0),$d.add(d,a),a.v=0}}function lh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=uo(y(a.Fa,a),K_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,G_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=uo(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),vc(this),G_(this))};function dh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function G_(a){a.g=new Hn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=yn(a.qa);Ee(d,"RID","rpc"),Ee(d,"SID",a.K),Ee(d,"AID",a.T),Ee(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ee(d,"TO",a.ja),Ee(d,"TYPE","xmlhttp"),Io(a,d),a.m&&a.o&&ch(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=gc(yn(d)),f.m=null,f.P=!0,__(f,a)}t.Za=function(){this.C!=null&&(this.C=null,vc(this),lh(this),at(19))};function Ic(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function W_(a,d){var f=null;if(a.g==d){Ic(a),dh(a),a.g=null;var g=2}else if(oh(a.h,d))f=d.D,C_(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;g=uc(),ot(g,new g_(g,f)),_c(a)}else z_(a);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&mA(a,d)||g==2&&lh(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),C){case 1:Cr(a,5);break;case 4:Cr(a,10);break;case 3:Cr(a,6);break;default:Cr(a,2)}}}function K_(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function Cr(a,d){if(a.j.info("Error code "+d),d==2){var f=y(a.fb,a),g=a.Xa;let C=!g;g=new br(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||fc(g,"https"),gc(g),C?uA(g.toString(),f):lA(g.toString(),f)}else at(2);a.G=0,a.l&&a.l.sa(d),Q_(a),$_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Q_(a){if(a.G=0,a.ka=[],a.l){let d=T_(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function Y_(a,d,f){var g=f instanceof br?yn(f):new br(f);if(g.g!="")d&&(g.g=d+"."+g.g),pc(g,g.s);else{var C=c.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new br(null);g&&fc(A,g),d&&(A.g=d),C&&pc(A,C),f&&(A.l=f),g=A}return f=a.D,d=a.ya,f&&d&&Ee(g,f,d),Ee(g,"VER",a.la),Io(a,g),g}function Z_(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Me(new mo({eb:f})):new Me(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function J_(){}t=J_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wc(){}wc.prototype.g=function(a,d){return new mt(a,d)};function mt(a,d){Ye.call(this),this.g=new B_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!B(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!B(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new bi(this)}S(mt,Ye),mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mt.prototype.close=function(){uh(this.g)},mt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Zd(a),a=f);d.i.push(new XS(d.Ya++,a)),d.G==3&&_c(d)},mt.prototype.N=function(){this.g.l=null,delete this.j,uh(this.g),delete this.g,mt.aa.N.call(this)};function X_(a){Xd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(X_,Xd);function eI(){eh.call(this),this.status=1}S(eI,eh);function bi(a){this.g=a}S(bi,J_),bi.prototype.ua=function(){ot(this.g,"a")},bi.prototype.ta=function(a){ot(this.g,new X_(a))},bi.prototype.sa=function(a){ot(this.g,new eI)},bi.prototype.ra=function(){ot(this.g,"b")},wc.prototype.createWebChannel=wc.prototype.g,mt.prototype.send=mt.prototype.o,mt.prototype.open=mt.prototype.m,mt.prototype.close=mt.prototype.close,jm=Ln.createWebChannelTransport=function(){return new wc},Um=Ln.getStatEventTarget=function(){return uc()},Vm=Ln.Event=Er,Kl=Ln.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lc.NO_ERROR=0,lc.TIMEOUT=8,lc.HTTP_ERROR=6,Ra=Ln.ErrorCode=lc,m_.COMPLETE="complete",Lm=Ln.EventType=m_,d_.EventType=ao,ao.OPEN="a",ao.CLOSE="b",ao.ERROR="c",ao.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,Ss=Ln.WebChannel=d_,mU=Ln.FetchXmlHttpFactory=mo,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,Fm=Ln.XhrIo=Me}).apply(typeof Wl<"u"?Wl:typeof self<"u"?self:typeof window<"u"?window:{});var IT="@firebase/firestore";var qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");var Qs="10.14.0";var hi=new lr("@firebase/firestore");function Ma(){return hi.logLevel}function L(t,...e){if(hi.logLevel<=le.DEBUG){let n=e.map(bv);hi.debug(`Firestore (${Qs}): ${t}`,...n)}}function Un(t,...e){if(hi.logLevel<=le.ERROR){let n=e.map(bv);hi.error(`Firestore (${Qs}): ${t}`,...n)}}function ks(t,...e){if(hi.logLevel<=le.WARN){let n=e.map(bv);hi.warn(`Firestore (${Qs}): ${t}`,...n)}}function bv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function G(t="Unexpected state"){let e=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: `+t;throw Un(e),new Error(e)}function ve(t,e){t||G()}function Z(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends wt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var un=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Xl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},zm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qe.UNAUTHENTICATED))}shutdown(){}},Gm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Wm=class{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new un;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new un,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new un)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new Xl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new qe(e)}},Km=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Qm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Km(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ym=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Zm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ve(this.o===void 0);let r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new Ym(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function yU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ed=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=yU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ge(t,e){return t<e?-1:t>e?1:0}function Fs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ke=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ke(0,0))}static max(){return new t(new Ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var td=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},xe=class t extends td{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},vU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dt=class t extends td{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return vU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new V(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new V(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new V(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(xe.fromString(e))}static fromName(e){return new t(xe.fromString(e).popFirst(5))}static empty(){return new t(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new xe(e.slice()))}};var Jm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Jm.UNKNOWN_ID=-1;function _U(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new fi(i,q.empty(),e)}function IU(t){return new fi(t.readTime,t.key,-1)}var fi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ee.min(),q.empty(),-1)}static max(){return new t(ee.max(),q.empty(),-1)}};function wU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}var EU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ka(t){return w(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==EU)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++c,c===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function DU(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qa(t){return t.name==="IndexedDbTransactionError"}var ZT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Ad(t){return t==null}function Fa(t){return t===0&&1/t==-1/0}function bU(t){return typeof t=="number"&&Number.isInteger(t)&&!Fa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var CU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],i8=[...CU,"documentOverlays"],TU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],SU=TU,AU=[...SU,"indexConfiguration","indexState","indexEntries"];var s8=[...AU,"globals"];function wT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ii(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pe=class t{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ns(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ns(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ns(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ns(this.root,e,this.comparator,!0)}},Ns=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ln=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();let e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}};ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var it=class t{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nd(this.data.getIterator())}getIteratorFrom(e){return new nd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},nd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var kt=class t{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new t([])}unionWith(e){let n=new it(Dt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var rd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var st=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};st.EMPTY_BYTE_STRING=new st("");var RU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jn(t){if(ve(!!t),typeof t=="string"){let e=0,n=RU.exec(t);if(ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _r(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}function Cv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Tv(t){let e=t.mapValue.fields.__previous_value__;return Cv(e)?Tv(e):e}function La(t){let e=jn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ke(e.seconds,e.nanos)}var ey=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},id=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ql={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cv(t)?4:e0(t)?9007199254740991:XT(t)?10:11:G()}function fn(t,e){if(t===e)return!0;let n=pi(t);if(n!==pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return La(t).isEqual(La(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=jn(i.timestampValue),c=jn(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return _r(i.bytesValue).isEqual(_r(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ce(i.geoPointValue.latitude)===Ce(s.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ce(i.integerValue)===Ce(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ce(i.doubleValue),c=Ce(s.doubleValue);return o===c?Fa(o)===Fa(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Fs(t.arrayValue.values||[],e.arrayValue.values||[],fn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(wT(o)!==wT(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!fn(o[u],c[u])))return!1;return!0}(t,e);default:return G()}}function Va(t,e){return(t.values||[]).find(n=>fn(n,e))!==void 0}function Ls(t,e){if(t===e)return 0;let n=pi(t),r=pi(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Ce(s.integerValue||s.doubleValue),u=Ce(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return ET(t.timestampValue,e.timestampValue);case 4:return ET(La(t),La(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,o){let c=_r(s),u=_r(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=ge(c[l],u[l]);if(h!==0)return h}return ge(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=ge(Ce(s.latitude),Ce(o.latitude));return c!==0?c:ge(Ce(s.longitude),Ce(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return DT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,h;let p=s.fields||{},y=o.fields||{},I=(c=p.value)===null||c===void 0?void 0:c.arrayValue,S=(u=y.value)===null||u===void 0?void 0:u.arrayValue,M=ge(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:DT(I,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ql.mapValue&&o===Ql.mapValue)return 0;if(s===Ql.mapValue)return 1;if(o===Ql.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let y=ge(u[p],h[p]);if(y!==0)return y;let I=Ls(c[u[p]],l[h[p]]);if(I!==0)return I}return ge(u.length,h.length)}(t.mapValue,e.mapValue);default:throw G()}}function ET(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);let n=jn(t),r=jn(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function DT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Ls(n[i],r[i]);if(s)return s}return ge(n.length,r.length)}function Vs(t){return ty(t)}function ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=jn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _r(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=ty(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${ty(n.fields[o])}`;return i+"}"}(t.mapValue):G()}function ny(t){return!!t&&"integerValue"in t}function Sv(t){return!!t&&"arrayValue"in t}function bT(t){return!!t&&"nullValue"in t}function CT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zl(t){return!!t&&"mapValue"in t}function XT(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function xa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ii(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function e0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Et=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xa(n)}setAll(e){let n=Dt.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=xa(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ii(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(xa(this.value))}};function t0(t){let e=[];return Ii(t.fields,(n,r)=>{let i=new Dt([n]);if(Zl(r)){let s=t0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new kt(e)}var Wt=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ee.min(),ee.min(),ee.min(),Et.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ee.min(),ee.min(),Et.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ee.min(),ee.min(),Et.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Et.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Et.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Us=class{constructor(e,n){this.position=e,this.inclusive=n}};function TT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=Ls(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ST(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fn(t.position[n],e.position[n]))return!1;return!0}var js=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function MU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var sd=class{},Be=class t extends sd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iy(e,n,r):n==="array-contains"?new ay(e,r):n==="in"?new cy(e,r):n==="not-in"?new uy(e,r):n==="array-contains-any"?new ly(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sy(e,r):new oy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ls(n,this.value)):n!==null&&pi(this.value)===pi(n)&&this.matchesComparison(Ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},pn=class t extends sd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return n0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function n0(t){return t.op==="and"}function r0(t){return NU(t)&&n0(t)}function NU(t){for(let e of t.filters)if(e instanceof pn)return!1;return!0}function ry(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+Vs(t.value);if(r0(t))return t.filters.map(e=>ry(e)).join(",");{let e=t.filters.map(n=>ry(n)).join(",");return`${t.op}(${e})`}}function i0(t,e){return t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&fn(r.value,i.value)}(t,e):t instanceof pn?function(r,i){return i instanceof pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&i0(o,i.filters[c]),!0):!1}(t,e):void G()}function s0(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${Vs(n.value)}`}(t):t instanceof pn?function(n){return n.op.toString()+" {"+n.getFilters().map(s0).join(" ,")+"}"}(t):"Filter"}var iy=class extends Be{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},sy=class extends Be{constructor(e,n){super(e,"in",n),this.keys=o0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},oy=class extends Be{constructor(e,n){super(e,"not-in",n),this.keys=o0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function o0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var ay=class extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Sv(n)&&Va(n.arrayValue,this.value)}},cy=class extends Be{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Va(this.value.arrayValue,n)}},uy=class extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Va(this.value.arrayValue,n)}},ly=class extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Sv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Va(this.value.arrayValue,r))}};var dy=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function AT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new dy(t,e,n,r,i,s,o)}function Av(t){let e=Z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ry(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vs(r)).join(",")),e.ue=n}return e.ue}function Rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!i0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ST(t.startAt,e.startAt)&&ST(t.endAt,e.endAt)}function hy(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Bs=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function xU(t,e,n,r,i,s,o,c){return new Bs(t,e,n,r,i,s,o,c)}function a0(t){return new Bs(t)}function RT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PU(t){return t.collectionGroup!==null}function Pa(t){let e=Z(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new it(Dt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new js(s,r))}),n.has(Dt.keyField().canonicalString())||e.ce.push(new js(Dt.keyField(),r))}return e.ce}function dn(t){let e=Z(t);return e.le||(e.le=OU(e,Pa(t))),e.le}function OU(t,e){if(t.limitType==="F")return AT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new js(i.field,s)});let n=t.endAt?new Us(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Us(t.startAt.position,t.startAt.inclusive):null;return AT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fy(t,e,n){return new Bs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rd(t,e){return Rv(dn(t),dn(e))&&t.limitType===e.limitType}function c0(t){return`${Av(dn(t))}|lt:${t.limitType}`}function As(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>s0(i)).join(", ")}]`),Ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vs(i)).join(",")),`Target(${r})`}(dn(t))}; limitType=${t.limitType})`}function Md(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Pa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=TT(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,Pa(r),i)||r.endAt&&!function(o,c,u){let l=TT(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,Pa(r),i))}(t,e)}function kU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function u0(t){return(e,n)=>{let r=!1;for(let i of Pa(t)){let s=FU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function FU(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?Ls(u,l):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}var Ir=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ii(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return JT(this.inner)}size(){return this.innerSize}};var LU=new Pe(q.comparator);function Bn(){return LU}var l0=new Pe(q.comparator);function Na(...t){let e=l0;for(let n of t)e=e.insert(n.key,n);return e}function d0(t){let e=l0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function li(){return Oa()}function h0(){return Oa()}function Oa(){return new Ir(t=>t.toString(),(t,e)=>t.isEqual(e))}var VU=new Pe(q.comparator),UU=new it(q.comparator);function de(...t){let e=UU;for(let n of t)e=e.add(n);return e}var jU=new it(ge);function BU(){return jU}function Mv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fa(e)?"-0":e}}function f0(t){return{integerValue:""+t}}function $U(t,e){return bU(e)?f0(e):Mv(t,e)}var $s=class{constructor(){this._=void 0}};function HU(t,e,n){return t instanceof Hs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Cv(s)&&(s=Tv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof gi?g0(t,e):t instanceof mi?m0(t,e):function(i,s){let o=p0(i,s),c=MT(o)+MT(i.Pe);return ny(o)&&ny(i.Pe)?f0(c):Mv(i.serializer,c)}(t,e)}function qU(t,e,n){return t instanceof gi?g0(t,e):t instanceof mi?m0(t,e):n}function p0(t,e){return t instanceof qs?function(r){return ny(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Hs=class extends $s{},gi=class extends $s{constructor(e){super(),this.elements=e}};function g0(t,e){let n=y0(e);for(let r of t.elements)n.some(i=>fn(i,r))||n.push(r);return{arrayValue:{values:n}}}var mi=class extends $s{constructor(e){super(),this.elements=e}};function m0(t,e){let n=y0(e);for(let r of t.elements)n=n.filter(i=>!fn(i,r));return{arrayValue:{values:n}}}var qs=class extends $s{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function MT(t){return Ce(t.integerValue||t.doubleValue)}function y0(t){return Sv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gi&&i instanceof gi||r instanceof mi&&i instanceof mi?Fs(r.elements,i.elements,fn):r instanceof qs&&i instanceof qs?fn(r.Pe,i.Pe):r instanceof Hs&&i instanceof Hs}(t.transform,e.transform)}var py=class{constructor(e,n){this.version=e,this.transformResults=n}},Vn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Jl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var zs=class{};function v0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ua(t.key,Vn.none()):new yi(t.key,t.data,Vn.none());{let n=t.data,r=Et.empty(),i=new it(Dt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new gn(t.key,r,new kt(i.toArray()),Vn.none())}}function GU(t,e,n){t instanceof yi?function(i,s,o){let c=i.value.clone(),u=xT(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof gn?function(i,s,o){if(!Jl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=xT(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(_0(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ka(t,e,n,r){return t instanceof yi?function(s,o,c,u){if(!Jl(s.precondition,o))return c;let l=s.value.clone(),h=PT(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof gn?function(s,o,c,u){if(!Jl(s.precondition,o))return c;let l=PT(s.fieldTransforms,u,o),h=o.data;return h.setAll(_0(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,c){return Jl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function WU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=p0(r.transform,i||null);s!=null&&(n===null&&(n=Et.empty()),n.set(r.field,s))}return n||null}function NT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fs(r,i,(s,o)=>zU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var yi=class extends zs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},gn=class extends zs{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function _0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function xT(t,e,n){let r=new Map;ve(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,qU(o,c,n[i]))}return r}function PT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,HU(s,o,e))}return r}var Ua=class extends zs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},gy=class extends zs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var my=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&GU(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ka(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ka(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=h0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=v0(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,(n,r)=>NT(n,r))&&Fs(this.baseMutations,e.baseMutations,(n,r)=>NT(n,r))}},yy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length);let i=function(){return VU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var vy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var _y=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Fe,he;function KU(t){switch(t){default:return G();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function I0(t){if(t===void 0)return Un("GRPC error has no .code"),N.UNKNOWN;switch(t){case Fe.OK:return N.OK;case Fe.CANCELLED:return N.CANCELLED;case Fe.UNKNOWN:return N.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return N.INTERNAL;case Fe.UNAVAILABLE:return N.UNAVAILABLE;case Fe.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Fe.NOT_FOUND:return N.NOT_FOUND;case Fe.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Fe.ABORTED:return N.ABORTED;case Fe.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Fe.DATA_LOSS:return N.DATA_LOSS;default:return G()}}(he=Fe||(Fe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var OT=null;function QU(){return new TextEncoder}var YU=new yr([4294967295,4294967295],0);function kT(t){let e=QU().encode(t),n=new km;return n.update(e),new Uint8Array(n.digest())}function FT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yr([n,r],0),new yr([i,s],0)]}var Iy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new di(`Invalid padding: ${n}`);if(r<0)throw new di(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new di(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new di(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=yr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(yr.fromNumber(r)));return i.compare(YU)===1&&(i=new yr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=kT(e),[r,i]=FT(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let n=kT(e),[r,i]=FT(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},di=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var od=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ja.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ee.min(),i,new Pe(ge),Bn(),de())}},ja=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,de(),de(),de())}};var Ps=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},ad=class{constructor(e,n){this.targetId=e,this.me=n}},cd=class{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},ud=class{constructor(){this.fe=0,this.ge=VT(),this.pe=st.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),n=de(),r=de();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new ja(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=VT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},wy=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Bn(),this.qe=LT(),this.Qe=new Pe(ge)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(hy(s))if(r===0){let o=new q(s.path);this.Ue(n,o,Wt.newNoDocument(o,ee.min()))}else ve(r===1);else{let o=this.Ye(n);if(o!==r){let c=this.Ze(e),u=c?this.Xe(c,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}OT?.et(function(h,p,y,I,S){var M,R,F,B,z,oe;let Re={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},J=p.unchangedNames;return J&&(Re.bloomFilter={applied:S===0,hashCount:(M=J?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(B=(F=(R=J?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&B!==void 0?B:0,padding:(oe=(z=J?.bits)===null||z===void 0?void 0:z.padding)!==null&&oe!==void 0?oe:0,mightContain:D=>{var m;return(m=I?.mightContain(D))!==null&&m!==void 0&&m}}),Re}(o,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,c;try{o=_r(r).toUint8Array()}catch(u){if(u instanceof rd)return ks("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Iy(o,i,s)}catch(u){return ks(u instanceof di?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&hy(c.target)){let u=new q(c.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Wt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=de();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new od(e,n,this.Qe,this.ke,r);return this.ke=Bn(),this.qe=LT(),this.Qe=new Pe(ge),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ud,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new it(ge),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ud),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function LT(){return new Pe(q.comparator)}function VT(){return new Pe(q.comparator)}var ZU={asc:"ASCENDING",desc:"DESCENDING"},JU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XU={and:"AND",or:"OR"},Ey=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Dy(t,e){return t.useProto3Json||Ad(e)?e:{value:e}}function ld(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ej(t,e){return ld(t,e.toTimestamp())}function hn(t){return ve(!!t),ee.fromTimestamp(function(n){let r=jn(n);return new Ke(r.seconds,r.nanos)}(t))}function Nv(t,e){return by(t,e).canonicalString()}function by(t,e){let n=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function E0(t){let e=xe.fromString(t);return ve(S0(e)),e}function Cy(t,e){return Nv(t.databaseId,e.path)}function Bm(t,e){let n=E0(e);if(n.get(1)!==t.databaseId.projectId)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(b0(n))}function D0(t,e){return Nv(t.databaseId,e)}function tj(t){let e=E0(t);return e.length===4?xe.emptyPath():b0(e)}function Ty(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function b0(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function UT(t,e,n){return{name:Cy(t,e),fields:n.value.mapValue.fields}}function nj(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(ve(h===void 0||typeof h=="string"),st.fromBase64String(h||"")):(ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array),st.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(l){let h=l.code===void 0?N.UNKNOWN:I0(l.code);return new V(h,l.message||"")}(o);n=new cd(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Bm(t,r.document.name),s=hn(r.document.updateTime),o=r.document.createTime?hn(r.document.createTime):ee.min(),c=new Et({mapValue:{fields:r.document.fields}}),u=Wt.newFoundDocument(i,s,o,c),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Ps(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Bm(t,r.document),s=r.readTime?hn(r.readTime):ee.min(),o=Wt.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Ps([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Bm(t,r.document),s=r.removedTargetIds||[];n=new Ps([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new _y(i,s),c=r.targetId;n=new ad(c,o)}}return n}function rj(t,e){let n;if(e instanceof yi)n={update:UT(t,e.key,e.value)};else if(e instanceof Ua)n={delete:Cy(t,e.key)};else if(e instanceof gn)n={update:UT(t,e.key,e.data),updateMask:hj(e.fieldMask)};else{if(!(e instanceof gy))return G();n={verify:Cy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Hs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof gi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof mi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof qs)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ej(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G()}(t,e.precondition)),n}function ij(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?hn(i.updateTime):hn(s);return o.isEqual(ee.min())&&(o=hn(s)),new py(o,i.transformResults||[])}(n,e))):[]}function sj(t,e){return{documents:[D0(t,e.path)]}}function oj(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=D0(t,i);let s=function(l){if(l.length!==0)return T0(pn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:Rs(y.field),direction:uj(y.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let c=Dy(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function aj(t){let e=tj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ve(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let y=C0(p);return y instanceof pn&&r0(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(S){return new js(Ms(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,Ad(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){let y=!!p.before,I=p.values||[];return new Us(I,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,I=p.values||[];return new Us(I,y)}(n.endAt)),xU(e,i,o,s,c,"F",u,l)}function cj(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function C0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ms(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ms(n.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ms(n.unaryFilter.field);return Be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ms(n.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return Be.create(Ms(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pn.create(n.compositeFilter.filters.map(r=>C0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function uj(t){return ZU[t]}function lj(t){return JU[t]}function dj(t){return XU[t]}function Rs(t){return{fieldPath:t.canonicalString()}}function Ms(t){return Dt.fromServerFormat(t.fieldPath)}function T0(t){return t instanceof Be?function(n){if(n.op==="=="){if(CT(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NAN"}};if(bT(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CT(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NAN"}};if(bT(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(n.field),op:lj(n.op),value:n.value}}}(t):t instanceof pn?function(n){let r=n.getFilters().map(i=>T0(i));return r.length===1?r[0]:{compositeFilter:{op:dj(n.op),filters:r}}}(t):G()}function hj(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function S0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ba=class t{constructor(e,n,r,i,s=ee.min(),o=ee.min(),c=st.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Sy=class{constructor(e){this.ct=e}};function fj(t){let e=aj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fy(e,e.limit,"L"):e}var dd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Fa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=jn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(_r(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?e0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):XT(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):G()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ce(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};dd.vt=new dd;var Ay=class{constructor(){this.un=new Ry}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(fi.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},Ry=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(xe.comparator)).toArray()}};var a8=new Uint8Array(0);var cn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);var $a=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var My=class{constructor(){this.changes=new Ir(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ny=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var xy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ka(r.mutation,i,kt.empty(),Ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){let i=li();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Na();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=li();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=Bn(),o=Oa(),c=function(){return Oa()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof gn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),ka(h.mutation,l,h.mutation.getFieldMask(),Ke.now())):o.set(l.key,kt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return c.set(l,new Ny(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Oa(),i=new Pe((o,c)=>o-c),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||kt.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||de()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=h0();h.forEach(y=>{if(!s.has(y)){let I=v0(n.get(y),r.get(y));I!==null&&p.set(y,I),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(li()),c=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,de())).next(h=>({batchId:c,changes:d0(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=Na();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Na();return this.indexManager.getCollectionParents(e,s).next(c=>x.forEach(c,u=>{let l=function(p,y){return new Bs(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,Wt.newInvalidDocument(h)))});let c=Na();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&ka(h.mutation,l,kt.empty(),Ke.now()),Md(n,l)&&(c=c.insert(u,l))}),c})}};var Py=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:fj(i.bundledQuery),readTime:hn(i.readTime)}}(n)),x.resolve()}};var Oy=class{constructor(){this.overlays=new Pe(q.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=li();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=li(),s=n.length+1,o=new q(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=li(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=li(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return x.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new vy(n,r));let s=this.Ir.get(n);s===void 0&&(s=de(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var ky=class{constructor(){this.sessionToken=st.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var Ha=class{constructor(){this.Tr=new it(Le.Er),this.dr=new it(Le.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Le(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Le(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new q(new xe([])),r=new Le(n,e),i=new Le(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new q(new xe([])),r=new Le(n,e),i=new Le(n,e+1),s=de();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Le(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return q.comparator(e.key,n.key)||ge(e.wr,n.wr)}static Ar(e,n){return ge(e.wr,n.wr)||q.comparator(e.key,n.key)}};var Fy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new it(Le.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new my(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Le(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Le(n,0),i=new Le(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(ge);return n.forEach(i=>{let s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new Le(new q(s),0),c=new it(ge);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),x.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new Le(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Le(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ly=class{constructor(e){this.Mr=e,this.docs=function(){return new Pe(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=Bn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Bn(),o=n.path,c=new q(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||wU(IU(h),r)<=0||(i.has(h.key)||Md(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Vy(this)}getSize(e){return x.resolve(this.size)}},Vy=class extends My{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Uy=class{constructor(e){this.persistence=e,this.Nr=new Ir(n=>Av(n),Rv),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ha,this.targetCount=0,this.kr=$a.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new $a(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var jy=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ZT(0),this.Kr=!1,this.Kr=!0,this.$r=new ky,this.referenceDelegate=e(this),this.Ur=new Uy(this),this.indexManager=new Ay,this.remoteDocumentCache=function(i){return new Ly(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Sy(n),this.Gr=new Py(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Oy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Fy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new By(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},By=class extends Xm{constructor(e){super(),this.currentSequenceNumber=e}},$y=class t{constructor(e){this.persistence=e,this.Jr=new Ha,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw G()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Hy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=de(),i=de();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var qy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var zy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return oC()?8:DU(He())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new qy;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ma()<=le.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",As(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(Ma()<=le.DEBUG&&L("QueryEngine","Query:",As(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ma()<=le.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",As(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dn(n))):x.resolve())}Yi(e,n){if(RT(n))return x.resolve(null);let r=dn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fy(n,null,"F"),r=dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=de(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,o,u.readTime)?this.Yi(e,fy(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return RT(n)||i.isEqual(ee.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(Ma()<=le.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),As(n)),this.rs(e,o,n,_U(i,-1)).next(c=>c))})}ts(e,n){let r=new it(u0(e));return n.forEach((i,s)=>{Md(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ma()<=le.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",As(n)),this.Ji.getDocumentsMatchingQuery(e,n,fi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Gy=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Pe(ge),this._s=new Ir(s=>Av(s),Rv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function pj(t,e,n,r){return new Gy(t,e,n,r)}function A0(t,e){return w(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=de();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function gj(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,h){let p=l.batch,y=p.keys(),I=x.resolve();return y.forEach(S=>{I=I.next(()=>h.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);ve(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=de();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function R0(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function mj(t,e){let n=Z(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;c.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let I=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(st.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(h.resumeToken,r)),i=i.insert(p,I),function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(y,I,h)&&c.push(n.Ur.updateTargetData(s,I))});let u=Bn(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),c.push(yj(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ee.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(h)}return x.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function yj(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Bn();return n.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):L("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function vj(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _j(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ba(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Wy(t,e,n){return w(this,null,function*(){let r=Z(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Qa(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function jT(t,e,n){let r=Z(t),i=ee.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=Z(u),y=p._s.get(h);return y!==void 0?x.resolve(p.os.get(y)):p.Ur.getTargetData(l,h)}(r,o,dn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:de())).next(c=>(Ij(r,kU(e),c),{documents:c,Ts:s})))}function Ij(t,e,n){let r=t.us.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var hd=class{constructor(){this.activeTargetIds=BU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ky=class{constructor(){this.so=new hd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new hd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Qy=class{_o(e){}shutdown(){}};var fd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Yl=null;function $m(){return Yl===null?Yl=function(){return 268435456+Math.round(2147483648*Math.random())}():Yl++,"0x"+Yl.toString(16)}var wj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Yy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var rt="WebChannelConnection",Zy=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=$m(),u=this.xo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(L("RestConnection",`Received RPC '${n}' ${c}: `,h),h),h=>{throw ks("RestConnection",`RPC '${n}' ${c} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=wj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=$m();return new Promise((o,c)=>{let u=new Fm;u.setWithCredentials(!0),u.listenOnce(Lm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ra.NO_ERROR:let h=u.getResponseJson();L(rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Ra.TIMEOUT:L(rt,`RPC '${e}' ${s} timed out`),c(new V(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ra.HTTP_ERROR:let p=u.getStatus();if(L(rt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let S=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(F)>=0?F:N.UNKNOWN}(I.status);c(new V(S,I.message))}else c(new V(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new V(N.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{L(rt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);L(rt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=$m(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jm(),c=Um(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");L(rt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),y=!1,I=!1,S=new Yy({Io:R=>{I?L(rt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(L(rt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),L(rt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,F,B)=>{R.listen(F,z=>{try{B(z)}catch(oe){setTimeout(()=>{throw oe},0)}})};return M(p,Ss.EventType.OPEN,()=>{I||(L(rt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),M(p,Ss.EventType.CLOSE,()=>{I||(I=!0,L(rt,`RPC '${e}' stream ${i} transport closed`),S.So())}),M(p,Ss.EventType.ERROR,R=>{I||(I=!0,ks(rt,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new V(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,Ss.EventType.MESSAGE,R=>{var F;if(!I){let B=R.data[0];ve(!!B);let z=B,oe=z.error||((F=z[0])===null||F===void 0?void 0:F.error);if(oe){L(rt,`RPC '${e}' stream ${i} received error:`,oe);let Re=oe.status,J=function(v){let E=Fe[v];if(E!==void 0)return I0(E)}(Re),D=oe.message;J===void 0&&(J=N.INTERNAL,D="Unknown error status: "+Re+" with message "+oe.message),I=!0,S.So(new V(J,D)),p.close()}else L(rt,`RPC '${e}' stream ${i} received:`,B),S.bo(B)}}),M(c,Vm.STAT_EVENT,R=>{R.stat===Kl.PROXY?L(rt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Kl.NOPROXY&&L(rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function Hm(){return typeof document<"u"?document:null}function Nd(t){return new Ey(t,!0)}var pd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var gd=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Un(n.toString()),Un("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new V(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Jy=class extends gd{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=nj(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?hn(o.readTime):ee.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Ty(this.serializer),n.addTarget=function(s,o){let c,u=o.target;if(c=hy(u)?{documents:sj(s,u)}:{query:oj(s,u)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=w0(s,o.resumeToken);let l=Dy(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(ee.min())>0){c.readTime=ld(s,o.snapshotVersion.toTimestamp());let l=Dy(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=cj(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Ty(this.serializer),n.removeTarget=e,this.a_(n)}},Xy=class extends gd{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ve(!!e.streamToken),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=ij(e.writeResults,e.commitTime),r=hn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Ty(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>rj(this.serializer,r))};this.a_(n)}};var ev=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,by(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,by(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},tv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Un(n),this.D_=!1):L("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var nv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){wi(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Z(u);l.L_.add(4),yield Ya(l),l.q_.set("Unknown"),l.L_.delete(4),yield xd(l)})}(this))}))}),this.q_=new tv(r,i)}};function xd(t){return w(this,null,function*(){if(wi(t))for(let e of t.B_)yield e(!0)})}function Ya(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function M0(t,e){let n=Z(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),kv(n)?Ov(n):Ys(n).r_()&&Pv(n,e))}function xv(t,e){let n=Z(t),r=Ys(n);n.N_.delete(e),r.r_()&&N0(n,e),n.N_.size===0&&(r.r_()?r.o_():wi(n)&&n.q_.set("Unknown"))}function Pv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ys(t).A_(e)}function N0(t,e){t.Q_.xe(e),Ys(t).R_(e)}function Ov(t){t.Q_=new wy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ys(t).start(),t.q_.v_()}function kv(t){return wi(t)&&!Ys(t).n_()&&t.N_.size>0}function wi(t){return Z(t).L_.size===0}function x0(t){t.Q_=void 0}function Ej(t){return w(this,null,function*(){t.q_.set("Online")})}function Dj(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{Pv(t,e)})})}function bj(t,e){return w(this,null,function*(){x0(t),kv(t)?(t.q_.M_(e),Ov(t)):t.q_.set("Unknown")})}function Cj(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof cd&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield md(t,r)}else if(e instanceof Ps?t.Q_.Ke(e):e instanceof ad?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ee.min()))try{let r=yield R0(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(st.EMPTY_BYTE_STRING,h.snapshotVersion)),N0(s,u);let p=new Ba(h.target,u,l,h.sequenceNumber);Pv(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield md(t,r)}})}function md(t,e,n){return w(this,null,function*(){if(!Qa(e))throw e;t.L_.add(1),yield Ya(t),t.q_.set("Offline"),n||(n=()=>R0(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield xd(t)}))})}function P0(t,e){return e().catch(n=>md(t,n,e))}function Pd(t){return w(this,null,function*(){let e=Z(t),n=wr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Tj(e);)try{let i=yield vj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Sj(e,i)}catch(i){yield md(e,i)}O0(e)&&k0(e)})}function Tj(t){return wi(t)&&t.O_.length<10}function Sj(t,e){t.O_.push(e);let n=wr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function O0(t){return wi(t)&&!wr(t).n_()&&t.O_.length>0}function k0(t){wr(t).start()}function Aj(t){return w(this,null,function*(){wr(t).p_()})}function Rj(t){return w(this,null,function*(){let e=wr(t);for(let n of t.O_)e.m_(n.mutations)})}function Mj(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=yy.from(r,e,n);yield P0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Pd(t)})}function Nj(t,e){return w(this,null,function*(){e&&wr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return KU(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();wr(r).s_(),yield P0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Pd(r)}})}(t,e)),O0(t)&&k0(t)})}function BT(t,e){return w(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=wi(n);n.L_.add(3),yield Ya(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield xd(n)})}function xj(t,e){return w(this,null,function*(){let n=Z(t);e?(n.L_.delete(2),yield xd(n)):e||(n.L_.add(2),yield Ya(n),n.q_.set("Unknown"))})}function Ys(t){return t.K_||(t.K_=function(n,r,i){let s=Z(n);return s.w_(),new Jy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Ej.bind(null,t),Ro:Dj.bind(null,t),mo:bj.bind(null,t),d_:Cj.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),kv(t)?Ov(t):t.q_.set("Unknown")):(yield t.K_.stop(),x0(t))}))),t.K_}function wr(t){return t.U_||(t.U_=function(n,r,i){let s=Z(n);return s.w_(),new Xy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Aj.bind(null,t),mo:Nj.bind(null,t),f_:Rj.bind(null,t),g_:Mj.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Pd(t)):(yield t.U_.stop(),t.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var rv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Fv(t,e){if(Un("AsyncQueue",`${e}: ${t}`),Qa(t))return new V(N.UNAVAILABLE,`${e}: ${t}`);throw t}var yd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=Na(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var vd=class{constructor(){this.W_=new Pe(q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):G():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Gs=class t{constructor(e,n,r,i,s,o,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new t(e,n,yd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var iv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},sv=class{constructor(){this.queries=$T(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Z(n),s=i.queries;i.queries=$T(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new V(N.ABORTED,"Firestore shutting down"))}};function $T(){return new Ir(t=>c0(t),Rd)}function Pj(t,e){return w(this,null,function*(){let n=Z(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new iv,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let c=Fv(o,`Initialization of query '${As(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Lv(n)})}function Oj(t,e){return w(this,null,function*(){let n=Z(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function kj(t,e){let n=Z(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&Lv(n)}function Fj(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function Lv(t){t.Y_.forEach(e=>{e.next()})}var ov,HT;(HT=ov||(ov={})).ea="default",HT.Cache="cache";var av=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Gs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ov.Cache}};var _d=class{constructor(e){this.key=e}},Id=class{constructor(e){this.key=e}},cv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=de(),this.mutatedKeys=de(),this.Aa=u0(e),this.Ra=new yd(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new vd,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),I=Md(this.query,p)?p:null,S=!!y&&this.mutatedKeys.has(y.key),M=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),R=!1;y&&I?y.data.isEqual(I.data)?S!==M&&(r.track({type:3,doc:I}),R=!0):this.ga(y,I)||(r.track({type:2,doc:I}),R=!0,(u&&this.Aa(I,u)>0||l&&this.Aa(I,l)<0)&&(c=!0)):!y&&I?(r.track({type:0,doc:I}),R=!0):y&&!I&&(r.track({type:1,doc:y}),R=!0,(u||l)&&(c=!0)),R&&(I?(o=o.add(I),s=M?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(I,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return M(I)-M(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Gs(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=de(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Id(r))}),this.da.forEach(r=>{e.has(r)||n.push(new _d(r))}),n}ba(e){this.Ta=e.Ts,this.da=de();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Gs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},uv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},lv=class{constructor(e){this.key=e,this.va=!1}},dv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ir(c=>c0(c),Rd),this.Ma=new Map,this.xa=new Set,this.Oa=new Pe(q.comparator),this.Na=new Map,this.La=new Ha,this.Ba={},this.ka=new Map,this.qa=$a.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Lj(t,e,n=!0){return w(this,null,function*(){let r=B0(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield F0(r,e,n,!0),i})}function Vj(t,e){return w(this,null,function*(){let n=B0(t);yield F0(n,e,!0,!1)})}function F0(t,e,n,r){return w(this,null,function*(){let i=yield _j(t.localStore,dn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),c;return r&&(c=yield Uj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&M0(t.remoteStore,i),c})}function Uj(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,y,I)=>function(M,R,F,B){return w(this,null,function*(){let z=R.view.ma(F);z.ns&&(z=yield jT(M.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,z)));let oe=B&&B.targetChanges.get(R.targetId),Re=B&&B.targetMismatches.get(R.targetId)!=null,J=R.view.applyChanges(z,M.isPrimaryClient,oe,Re);return zT(M,R.targetId,J.wa),J.snapshot})}(t,p,y,I);let s=yield jT(t.localStore,e,!0),o=new cv(e,s.Ts),c=o.ma(s.documents),u=ja.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(c,t.isPrimaryClient,u);zT(t,n,l.wa);let h=new uv(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function jj(t,e,n){return w(this,null,function*(){let r=Z(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Rd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Wy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&xv(r.remoteStore,i.targetId),hv(r,i.targetId)}).catch(Ka))):(hv(r,i.targetId),yield Wy(r.localStore,i.targetId,!0))})}function Bj(t,e){return w(this,null,function*(){let n=Z(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xv(n.remoteStore,r.targetId))})}function $j(t,e,n){return w(this,null,function*(){let r=Qj(t);try{let i=yield function(o,c){let u=Z(o),l=Ke.now(),h=c.reduce((I,S)=>I.add(S.key),de()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=Bn(),M=de();return u.cs.getEntries(I,h).next(R=>{S=R,S.forEach((F,B)=>{B.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,S)).next(R=>{p=R;let F=[];for(let B of c){let z=WU(B,p.get(B.key).overlayedDocument);z!=null&&F.push(new gn(B.key,z,t0(z.value.mapValue),Vn.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,F,c)}).next(R=>{y=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(I,R.batchId,F)})}).then(()=>({batchId:y.batchId,changes:d0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Pe(ge)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Za(r,i.changes),yield Pd(r.remoteStore)}catch(i){let s=Fv(i,"Failed to persist write");n.reject(s)}})}function L0(t,e){return w(this,null,function*(){let n=Z(t);try{let r=yield mj(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ve(o.va):i.removedDocuments.size>0&&(ve(o.va),o.va=!1))}),yield Za(n,r,e)}catch(r){yield Ka(r)}})}function qT(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=Z(o);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let y of p.j_)y.Z_(c)&&(l=!0)}),l&&Lv(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Hj(t,e,n){return w(this,null,function*(){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Pe(q.comparator);o=o.insert(s,Wt.newNoDocument(s,ee.min()));let c=de().add(s),u=new od(ee.min(),new Map,new Pe(ge),o,c);yield L0(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Vv(r)}else yield Wy(r.localStore,e,!1).then(()=>hv(r,e,n)).catch(Ka)})}function qj(t,e){return w(this,null,function*(){let n=Z(t),r=e.batch.batchId;try{let i=yield gj(n.localStore,e);U0(n,r,null),V0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Za(n,i)}catch(i){yield Ka(i)}})}function zj(t,e,n){return w(this,null,function*(){let r=Z(t);try{let i=yield function(o,c){let u=Z(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(ve(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);U0(r,e,n),V0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Za(r,i)}catch(i){yield Ka(i)}})}function V0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function U0(t,e,n){let r=Z(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function hv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||j0(t,r)})}function j0(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(xv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Vv(t))}function zT(t,e,n){for(let r of n)r instanceof _d?(t.La.addReference(r.key,e),Gj(t,r)):r instanceof Id?(L("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||j0(t,r.key)):G()}function Gj(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(L("SyncEngine","New document in limbo: "+n),t.xa.add(r),Vv(t))}function Vv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new q(xe.fromString(e)),r=t.qa.next();t.Na.set(r,new lv(n)),t.Oa=t.Oa.insert(n,r),M0(t.remoteStore,new Ba(dn(a0(n.path)),r,"TargetPurposeLimboResolution",ZT.oe))}}function Za(t,e,n){return w(this,null,function*(){let r=Z(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Hy.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=Z(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,y=>x.forEach(y.$i,I=>h.persistence.referenceDelegate.addReference(p,y.targetId,I)).next(()=>x.forEach(y.Ui,I=>h.persistence.referenceDelegate.removeReference(p,y.targetId,I)))))}catch(p){if(!Qa(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let I=h.os.get(y),S=I.snapshotVersion,M=I.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(y,M)}}})}(r.localStore,s))})}function Wj(t,e){return w(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield A0(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new V(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Za(n,r.hs)}})}function Kj(t,e){let n=Z(t),r=n.Na.get(e);if(r&&r.va)return de().add(r.key);{let i=de(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let c=n.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function B0(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=L0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hj.bind(null,e),e.Ca.d_=kj.bind(null,e.eventManager),e.Ca.$a=Fj.bind(null,e.eventManager),e}function Qj(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zj.bind(null,e),e}var GT=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return w(this,null,function*(){this.serializer=Nd(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return pj(this.persistence,new zy,n.initialUser,this.serializer)}Ga(n){return new jy($y.Zr,this.serializer)}Wa(n){return new Ky}terminate(){return w(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var Yj=(()=>{class t{initialize(n,r){return w(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>qT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wj.bind(null,this.syncEngine),yield xj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new sv}()}createDatastore(n){let r=Nd(n.databaseInfo.databaseId),i=function(o){return new Zy(o)}(n.databaseInfo);return function(o,c,u,l){return new ev(o,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,u){return new nv(i,s,o,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>qT(this.syncEngine,r,0),function(){return fd.D()?new fd:new Qy}())}createSyncEngine(n,r){return function(s,o,c,u,l,h,p){let y=new dv(s,o,c,u,l,h);return p&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var n,r;yield function(s){return w(this,null,function*(){let o=Z(s);L("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Ya(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var fv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Un("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var pv=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=ed.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>w(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Fv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function qm(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield A0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function WT(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Zj(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>BT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>BT(e.remoteStore,i)),t._onlineComponents=e})}function Zj(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ks("Error using user provided cache. Falling back to memory cache: "+n),yield qm(t,new GT)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield qm(t,new GT);return t._offlineComponents})}function $0(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield WT(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield WT(t,new Yj))),t._onlineComponents})}function Jj(t){return $0(t).then(e=>e.syncEngine)}function Xj(t){return w(this,null,function*(){let e=yield $0(t),n=e.eventManager;return n.onListen=Lj.bind(null,e.syncEngine),n.onUnlisten=jj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Vj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Bj.bind(null,e.syncEngine),n})}function e2(t,e,n={}){let r=new un;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(s,o,c,u,l){let h=new fv({next:y=>{h.Za(),o.enqueueAndForget(()=>Oj(s,p)),y.fromCache&&u.source==="server"?l.reject(new V(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new av(c,h,{includeMetadataChanges:!0,_a:!0});return Pj(s,p)}(yield Xj(t),t.asyncQueue,e,n,r)})),r.promise}function H0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var KT=new Map;function q0(t,e,n){if(!n)throw new V(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function t2(t,e,n,r){if(e===!0&&r===!0)throw new V(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QT(t){if(!q.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YT(t){if(q.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Uv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Uv(t);throw new V(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var wd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ws=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zm;switch(r.type){case"firstParty":return new Qm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=KT.get(n);r&&(L("ComponentProvider","Removing Datastore"),KT.delete(n),r.terminate())}(this),Promise.resolve()}};function z0(t,e,n,r={}){var i;let s=(t=vi(t,Ws))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=qe.MOCK_USER;else{c=eC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new qe(l)}t._authCredentials=new Gm(new Xl(c,u))}}var Ed=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ft=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},vr=class t extends Ed{constructor(e,n,r){super(e,n,a0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function G0(t,e,...n){if(t=nt(t),q0("collection","path",e),t instanceof Ws){let r=xe.fromString(e,...n);return YT(r),new vr(t,null,r)}{if(!(t instanceof Ft||t instanceof vr))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return YT(r),new vr(t.firestore,null,r)}}function jv(t,e,...n){if(t=nt(t),arguments.length===1&&(e=ed.newId()),q0("doc","path",e),t instanceof Ws){let r=xe.fromString(e,...n);return QT(r),new Ft(t,null,new q(r))}{if(!(t instanceof Ft||t instanceof vr))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return QT(r),new Ft(t.firestore,t instanceof vr?t.converter:null,new q(r))}}var Dd=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pd(this,"async_queue_retry"),this.Vu=()=>{let r=Hm();r&&L("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new un;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Qa(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Un("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=rv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&G()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var _i=class extends Ws{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Dd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Dd(e),this._firestoreClient=void 0,yield e}})}};function W0(t,e){let n=typeof t=="object"?t:ni(),r=typeof t=="string"?t:e||"(default)",i=_a(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Xb("firestore");s&&z0(i,...s)}return i}function K0(t){if(t._terminated)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n2(t),t._firestoreClient}function n2(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,h){return new ey(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,H0(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new pv(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var qa=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(st.fromBase64String(e))}catch(n){throw new V(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ks=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var za=class{constructor(e){this._methodName=e}};var Ga=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}};var Wa=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var r2=/^__.*__$/,gv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gn(e,this.data,this.fieldMask,n,this.fieldTransforms):new yi(e,this.data,n,this.fieldTransforms)}},bd=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function Q0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}var mv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Td(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Q0(this.Cu)&&r2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},yv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nd(e)}Qu(e,n,r,i=!1){return new mv({Cu:e,methodName:n,qu:r,path:Dt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Y0(t){let e=t._freezeSettings(),n=Nd(t._databaseId);return new yv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function i2(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Bv("Data must be an object, but it was:",o,r);let c=Z0(r,o),u,l;if(s.merge)u=new kt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let y=vv(e,p,n);if(!o.contains(y))throw new V(N.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);X0(h,y)||h.push(y)}u=new kt(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new gv(new Et(c),u,l)}var Cd=class t extends za{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function s2(t,e,n,r){let i=t.Qu(1,e,n);Bv("Data must be an object, but it was:",i,r);let s=[],o=Et.empty();Ii(r,(u,l)=>{let h=$v(e,u,n);l=nt(l);let p=i.Nu(h);if(l instanceof Cd)s.push(h);else{let y=Od(l,p);y!=null&&(s.push(h),o.set(h,y))}});let c=new kt(s);return new bd(o,c,i.fieldTransforms)}function o2(t,e,n,r,i,s){let o=t.Qu(1,e,n),c=[vv(e,r,n)],u=[i];if(s.length%2!=0)throw new V(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)c.push(vv(e,s[y])),u.push(s[y+1]);let l=[],h=Et.empty();for(let y=c.length-1;y>=0;--y)if(!X0(l,c[y])){let I=c[y],S=u[y];S=nt(S);let M=o.Nu(I);if(S instanceof Cd)l.push(I);else{let R=Od(S,M);R!=null&&(l.push(I),h.set(I,R))}}let p=new kt(l);return new bd(h,p,o.fieldTransforms)}function Od(t,e){if(J0(t=nt(t)))return Bv("Unsupported field value:",e,t),Z0(t,e);if(t instanceof za)return function(r,i){if(!Q0(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=Od(c,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $U(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ke.fromDate(r);return{timestampValue:ld(i.serializer,s)}}if(r instanceof Ke){let s=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ld(i.serializer,s)}}if(r instanceof Ga)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qa)return{bytesValue:w0(i.serializer,r._byteString)};if(r instanceof Ft){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Nv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Wa)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Mv(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Uv(r)}`)}(t,e)}function Z0(t,e){let n={};return JT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ii(t,(r,i)=>{let s=Od(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function J0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof Ga||t instanceof qa||t instanceof Ft||t instanceof za||t instanceof Wa)}function Bv(t,e,n){if(!J0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Uv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function vv(t,e,n){if((e=nt(e))instanceof Ks)return e._internalPath;if(typeof e=="string")return $v(t,e);throw Td("Field path arguments must be of type string or ",t,!1,void 0,n)}var a2=new RegExp("[~\\*/\\[\\]]");function $v(t,e,n){if(e.search(a2)>=0)throw Td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ks(...e.split("."))._internalPath}catch{throw Td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Td(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new V(N.INVALID_ARGUMENT,c+t+u)}function X0(t,e){return t.some(n=>n.isEqual(e))}var Sd=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new _v(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(eS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},_v=class extends Sd{data(){return super.data()}};function eS(t,e){return typeof e=="string"?$v(t,e):e instanceof Ks?e._internalPath:e._delegate._internalPath}function c2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Iv=class{convertValue(e,n="none"){switch(pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ii(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ce(o.doubleValue));return new Wa(s)}convertGeoPoint(e){return new Ga(Ce(e.latitude),Ce(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Tv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(La(e));default:return null}}convertTimestamp(e){let n=jn(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=xe.fromString(e);ve(S0(r));let i=new id(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||Un(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function u2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var xs=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},wv=class extends Sd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Os(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(eS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Os=class extends wv{data(e={}){return super.data(e)}},Ev=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Os(this._firestore,this._userDataWriter,r.key,r,new xs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new Os(i._firestore,i._userDataWriter,c.doc.key,c.doc,new xs(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new Os(i._firestore,i._userDataWriter,c.doc.key,c.doc,new xs(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:l2(c.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function l2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}var Dv=class extends Iv{constructor(e){super(),this.firestore=e}convertBytes(e){return new qa(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}};function tS(t){t=vi(t,Ed);let e=vi(t.firestore,_i),n=K0(e),r=new Dv(e);return c2(t._query),e2(n,t._query).then(i=>new Ev(e,r,t,i))}function nS(t,e,n,...r){t=vi(t,Ft);let i=vi(t.firestore,_i),s=Y0(i),o;return o=typeof(e=nt(e))=="string"||e instanceof Ks?o2(s,"updateDoc",t._key,e,n,r):s2(s,"updateDoc",t._key,e),Hv(i,[o.toMutation(t._key,Vn.exists(!0))])}function rS(t){return Hv(vi(t.firestore,_i),[new Ua(t._key,Vn.none())])}function iS(t,e){let n=vi(t.firestore,_i),r=jv(t),i=u2(t.converter,e);return Hv(n,[i2(Y0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Vn.exists(!1))]).then(()=>r)}function Hv(t,e){return function(r,i){let s=new un;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return $j(yield Jj(r),i,s)})),s.promise}(K0(t),e)}(function(e,n=!0){(function(i){Qs=i})(fr),hr(new Pt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new _i(new Wm(r.getProvider("auth-internal")),new Zm(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new id(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ke(IT,"4.7.3",e),ke(IT,"4.7.3","esm2017")})();var Ja=class{constructor(t){return t}},sS="firestore",h2=class{constructor(){return wa(sS)}};var qv=new j("angularfire2.firestore-instances");function f2(t,e){let n=Sl(sS,t,e);return n&&new Ja(n)}function p2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ja(r)}}var g2={provide:h2,deps:[[new ht,qv]]},m2={provide:Ja,useFactory:f2,deps:[[new ht,qv],si]};function oS(t,...e){return ke("angularfire",ii.full,"fst"),Rt([m2,g2,{provide:qv,useFactory:p2(t),multi:!0,deps:[me,tt,bs,Ea,[new ht,Pm],[new ht,Al],...e]}])}var aS=Ot(iS,!0);var zv=Ot(G0,!0);var cS=Ot(rS,!0);var Gv=Ot(jv,!0);var uS=Ot(tS,!0);var lS=Ot(W0,!0);var dS=Ot(nS,!0);var ec="Service workers are disabled or not supported by this browser";function v2(t){return Mr(()=>Yn(new Error(t)))}var Zs=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=v2(ec);else{let r=Vi(e,"controllerchange").pipe(Y(()=>e.controller)),i=Mr(()=>W(e.controller)),s=Qt(i,r);this.worker=s.pipe(Xe(h=>!!h)),this.registration=this.worker.pipe(et(()=>e.getRegistration()));let l=Vi(e,"message").pipe(Y(h=>h.data)).pipe(Xe(h=>h&&h.type)).pipe(Uh());l.connect(),this.events=l}}postMessage(e,n){return this.worker.pipe(Ue(1),Oe(r=>{r.postMessage(O({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),s=this.postMessage(e,n);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(Xe(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ue(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Xe(n=>n.nonce===e),Ue(1),Y(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},_2=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new Te,!n.isEnabled){this.messages=Nr,this.notificationClicks=Nr,this.subscription=Nr;return}this.messages=this.sw.eventsOfType("PUSH").pipe(Y(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Y(i=>i.data)),this.pushManager=this.sw.registration.pipe(Y(i=>i.pushManager));let r=this.pushManager.pipe(et(i=>i.getSubscription()));this.subscription=Zc(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(ec));let r={userVisibleOnly:!0},i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(et(o=>o.subscribe(r)),Ue(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(ec));let n=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Ue(1),et(n)).toPromise()}decodeBase64(n){return atob(n)}static{this.\u0275fac=function(r){return new(r||t)(ne(Zs))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),I2=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=Nr,this.unrecoverable=Nr;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ec));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ec));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static{this.\u0275fac=function(r){return new(r||t)(ne(Zs))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();var hS=new j("");function w2(t,e,n,r){return()=>{if(!(kp(r)&&"serviceWorker"in navigator&&n.enabled!==!1))return;let i=t.get(me),s=t.get(rn);i.runOutsideAngular(()=>{let c=navigator.serviceWorker,u=()=>c.controller?.postMessage({action:"INITIALIZE"});c.addEventListener("controllerchange",u),s.onDestroy(()=>{c.removeEventListener("controllerchange",u)})});let o;if(typeof n.registrationStrategy=="function")o=n.registrationStrategy();else{let[c,...u]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":o=W(null);break;case"registerWithDelay":o=fS(+u[0]||0);break;case"registerWhenStable":let l=De(t.get(rn).whenStable());o=u[0]?Zc(l,fS(+u[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}i.runOutsideAngular(()=>o.pipe(Ue(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function fS(t){return W(null).pipe(Lh(t))}function E2(t,e){return new Zs(kp(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var Xa=class{};function pS(t,e={}){return Rt([_2,I2,{provide:hS,useValue:t},{provide:Xa,useValue:e},{provide:Zs,useFactory:E2,deps:[Xa,zt]},{provide:Ju,useFactory:w2,deps:[tt,hS,Xa,zt],multi:!0}])}var Wv={production:!1,firebase:{apiKey:"AIzaSyBWSYH6aGDBPAiGkNCoX91H5PO1XbSRAWc",authDomain:"shopping-list-e7a70.firebaseapp.com",projectId:"shopping-list-e7a70",storageBucket:"shopping-list-e7a70.firebasestorage.app",messagingSenderId:"229419963479",appId:"1:229419963479:web:17c3787637807ce2cc7f12",measurementId:"G-VWGKH1E9NR"}};var gS=[];var mS={providers:[HD({eventCoalescing:!0}),Qb(gS),CC(()=>TC(Wv.firebase)),oS(()=>lS()),mT(()=>yT()),pS("ngsw-worker.js",{enabled:Wv.production,registrationStrategy:"registerWhenStable:30000"})]};var bS=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(be(us),be(Hr))}}static{this.\u0275dir=$t({type:t})}}return t})(),D2=(()=>{class t extends bS{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ho(t)))(i||t)}})()}static{this.\u0275dir=$t({type:t,features:[ds]})}}return t})(),CS=new j("");var b2={provide:CS,useExisting:Vo(()=>Ud),multi:!0};function C2(){let t=Rn()?Rn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var T2=new j(""),Ud=(()=>{class t extends bS{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!C2())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(be(us),be(Hr),be(T2,8))}}static{this.\u0275dir=$t({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&nn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Sp([b2]),ds]})}}return t})();var S2=new j(""),A2=new j("");function TS(t){return t!=null}function SS(t){return Gr(t)?De(t):t}function AS(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function RS(t,e){return e.map(n=>n(t))}function R2(t){return!t.validate}function MS(t){return t.map(e=>R2(e)?e:n=>e.validate(n))}function M2(t){if(!t)return null;let e=t.filter(TS);return e.length==0?null:function(n){return AS(RS(n,e))}}function NS(t){return t!=null?M2(MS(t)):null}function N2(t){if(!t)return null;let e=t.filter(TS);return e.length==0?null:function(n){let r=RS(n,e).map(SS);return kh(r).pipe(Y(AS))}}function xS(t){return t!=null?N2(MS(t)):null}function yS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function x2(t){return t._rawValidators}function P2(t){return t._rawAsyncValidators}function Kv(t){return t?Array.isArray(t)?t:[t]:[]}function Fd(t,e){return Array.isArray(t)?t.includes(e):t===e}function vS(t,e){let n=Kv(e);return Kv(t).forEach(i=>{Fd(n,i)||n.push(i)}),n}function _S(t,e){return Kv(e).filter(n=>!Fd(t,n))}var Ld=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=NS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Qv=class extends Ld{get formDirective(){return null}get path(){return null}},sc=class extends Ld{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Yv=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},O2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},hK=ae(O({},O2),{"[class.ng-submitted]":"isSubmitted"}),PS=(()=>{class t extends Yv{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(be(sc,2))}}static{this.\u0275dir=$t({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&zo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ds]})}}return t})();var tc="VALID",kd="INVALID",Js="PENDING",nc="DISABLED",eo=class{},Vd=class extends eo{constructor(e,n){super(),this.value=e,this.source=n}},rc=class extends eo{constructor(e,n){super(),this.pristine=e,this.source=n}},ic=class extends eo{constructor(e,n){super(),this.touched=e,this.source=n}},Xs=class extends eo{constructor(e,n){super(),this.status=e,this.source=n}};function k2(t){return(jd(t)?t.validators:t)||null}function F2(t){return Array.isArray(t)?NS(t):t||null}function L2(t,e){return(jd(e)?e.asyncValidators:t)||null}function V2(t){return Array.isArray(t)?xS(t):t||null}function jd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Zv=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=el(()=>this.statusReactive()),this.statusReactive=Wu(void 0),this._pristine=el(()=>this.pristineReactive()),this.pristineReactive=Wu(!0),this._touched=el(()=>this.touchedReactive()),this.touchedReactive=Wu(!1),this._events=new Te,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return cr(this.statusReactive)}set status(e){cr(()=>this.statusReactive.set(e))}get valid(){return this.status===tc}get invalid(){return this.status===kd}get pending(){return this.status==Js}get disabled(){return this.status===nc}get enabled(){return this.status!==nc}get pristine(){return cr(this.pristineReactive)}set pristine(e){cr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return cr(this.touchedReactive)}set touched(e){cr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_S(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_S(e,this._rawAsyncValidators))}hasValidator(e){return Fd(this._rawValidators,e)}hasAsyncValidator(e){return Fd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ae(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ic(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ic(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ae(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new rc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new rc(!0,r))}markAsPending(e={}){this.status=Js;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ae(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=nc,this.errors=null,this._forEachChild(i=>{i.disable(ae(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vd(this.value,r)),this._events.next(new Xs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=tc,this._forEachChild(r=>{r.enable(ae(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tc||this.status===Js)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vd(this.value,n)),this._events.next(new Xs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ae(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nc:tc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Js,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=SS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Xs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?nc:this.errors?kd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Js)?Js:this._anyControlsHaveStatus(kd)?kd:tc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new rc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ic(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=F2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=V2(this._rawAsyncValidators)}};var OS=new j("CallSetDisabledState",{providedIn:"root",factory:()=>Jv}),Jv="always";function U2(t,e){return[...e.path,t]}function j2(t,e,n=Jv){$2(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),H2(t,e),z2(t,e),q2(t,e),B2(t,e)}function IS(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function B2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function $2(t,e){let n=x2(t);e.validator!==null?t.setValidators(yS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=P2(t);e.asyncValidator!==null?t.setAsyncValidators(yS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();IS(e._rawValidators,i),IS(e._rawAsyncValidators,i)}function H2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&kS(t,e)})}function q2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&kS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function kS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function z2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function G2(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function W2(t){return Object.getPrototypeOf(t.constructor)===D2}function K2(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Ud?n=s:W2(s)?r=s:i=s}),i||r||n||null}function wS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ES(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Q2=class extends Zv{constructor(e=null,n,r){super(k2(n),L2(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ES(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ES(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Y2={provide:sc,useExisting:Vo(()=>Xv)},DS=Promise.resolve(),Xv=(()=>{class t extends sc{constructor(n,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new Q2,this._registered=!1,this.name="",this.update=new je,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=K2(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),G2(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){j2(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){DS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Xu(r);DS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?U2(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(be(Qv,9),be(S2,10),be(A2,10),be(CS,10),be(Wr,8),be(OS,8))}}static{this.\u0275dir=$t({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Sp([Y2]),ds,ss]})}}return t})();var Z2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=$r({type:t})}static{this.\u0275inj=Br({})}}return t})();var FS=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:OS,useValue:n.callSetDisabledState??Jv}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=$r({type:t})}static{this.\u0275inj=Br({imports:[Z2]})}}return t})();function X2(t,e){t&1&&(gt(0,"div",7),hs(1,"div",8),gt(2,"p"),zr(3,"Items laden..."),vt()())}function eB(t,e){t&1&&(gt(0,"div",9),zr(1," Je boodschappenlijst is leeg. Voeg items toe! "),vt())}function tB(t,e){if(t&1){let n=PD();gt(0,"div",10),nn("click",function(){let i=jo(n).$implicit,s=Qu();return Bo(s.toggleAfgestreept(i))}),gt(1,"div",11)(2,"input",12),nn("change",function(){let i=jo(n).$implicit,s=Qu();return Bo(s.toggleAfgestreept(i))})("click",function(i){return jo(n),Bo(i.stopPropagation())}),vt(),hs(3,"label",13),vt(),gt(4,"span",14),zr(5),vt(),gt(6,"button",15),nn("click",function(i){let s=jo(n).$implicit,o=Qu();return i.stopPropagation(),Bo(o.verwijderItem(s.id))}),zr(7,"\xD7"),vt()()}if(t&2){let n=e.$implicit;zo("afgestreept",n.afgestreept)("verwijderen-animatie",n.wordtVerwijderd),ar(2),qr("id","item-"+n.id)("checked",n.afgestreept),ar(),qr("for","item-"+n.id),ar(2),bp(n.naam)}}var Bd=class t{constructor(e){this.firestore=e}items=[];nieuwItem="";isLoading=!0;ngOnInit(){return w(this,null,function*(){yield this.haalItemsOp(),this.haalAfgestreepteStatusOp(),this.isLoading=!1})}haalAfgestreepteStatusOp(){let e=localStorage.getItem("afgestreepteItems");if(e){let n=JSON.parse(e);this.items.forEach(r=>{n[r.id]&&(r.afgestreept=!0)})}}slaAfgestreepteStatusOp(){let e={};this.items.forEach(n=>{e[n.id]=n.afgestreept}),localStorage.setItem("afgestreepteItems",JSON.stringify(e))}haalItemsOp(){return w(this,null,function*(){let e=zv(this.firestore,"shopping-list"),n=yield uS(e);this.items=n.docs.map(r=>({id:r.id,naam:r.data().itemName,afgestreept:!1,wordtVerwijderd:!1}))})}voegItemToe(e){return w(this,null,function*(){if(e.trim()==="")return;let n=zv(this.firestore,"shopping-list"),r=yield aS(n,{itemName:e});this.items.push({id:r.id,naam:e,afgestreept:!1,wordtVerwijderd:!1}),this.nieuwItem="",this.slaAfgestreepteStatusOp()})}verwerkNieuwItem(){this.voegItemToe(this.nieuwItem)}toggleAfgestreept(e){return w(this,null,function*(){e.afgestreept=!e.afgestreept;let n=Gv(this.firestore,"shopping-list",e.id);yield dS(n,{afgestreept:e.afgestreept}),this.slaAfgestreepteStatusOp()})}verwijderItem(e){return w(this,null,function*(){let n=Gv(this.firestore,"shopping-list",e);yield cS(n),this.items=this.items.filter(r=>r.id!==e),this.slaAfgestreepteStatusOp()})}onKeyPress(e){e.key==="Enter"&&this.verwerkNieuwItem()}static \u0275fac=function(n){return new(n||t)(be(Ja))};static \u0275cmp=Ou({type:t,selectors:[["app-root"]],standalone:!0,features:[Yu],decls:11,vars:4,consts:[[1,"input-container"],["type","text","id","nieuw-item","placeholder","Voeg een item toe...",3,"ngModelChange","keyup","ngModel"],["id","toevoegen-btn",3,"click"],[1,"boodschappen-container"],["class","loader-container",4,"ngIf"],["class","leeg-bericht",4,"ngIf"],["class","boodschap-item",3,"afgestreept","verwijderen-animatie","click",4,"ngFor","ngForOf"],[1,"loader-container"],[1,"loader"],[1,"leeg-bericht"],[1,"boodschap-item",3,"click"],[1,"checkbox-container"],["type","checkbox",1,"checkbox",3,"change","click","id","checked"],[1,"checkbox-custom",3,"for"],[1,"boodschap-tekst"],["aria-label","Verwijder item",1,"verwijder-btn",3,"click"]],template:function(n,r){n&1&&(gt(0,"header")(1,"h1"),zr(2,"Boodschappenlijst"),vt()(),gt(3,"div",0)(4,"input",1),Tp("ngModelChange",function(s){return FD(r.nieuwItem,s)||(r.nieuwItem=s),s}),nn("keyup",function(s){return r.onKeyPress(s)}),vt(),gt(5,"button",2),nn("click",function(){return r.verwerkNieuwItem()}),zr(6,"Toevoegen"),vt()(),gt(7,"div",3),Dp(8,X2,4,0,"div",4)(9,eB,2,0,"div",5)(10,tB,8,8,"div",6),vt()),n&2&&(ar(4),Cp("ngModel",r.nieuwItem),ar(4),qr("ngIf",r.isLoading),ar(),qr("ngIf",!r.isLoading&&r.items.length===0),ar(),qr("ngForOf",r.items))},dependencies:[nb,rb,FS,Ud,PS,Xv],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}[_nghost-%COMP%]{display:block;background-color:#f5f5f5;color:#333;min-height:100vh;padding:20px}header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;padding:20px 0;background:linear-gradient(135deg,#ff7eb3,#7c4dff);color:#fff;border-radius:8px;box-shadow:0 4px 12px #0000001a}h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:10px}.input-container[_ngcontent-%COMP%]{display:flex;margin-bottom:30px;max-width:800px;margin-left:auto;margin-right:auto;flex-direction:column;gap:10px}#nieuw-item[_ngcontent-%COMP%]{flex:1;padding:15px;font-size:1.1rem;border:2px solid #ddd;border-radius:8px;outline:none;transition:border-color .3s;width:100%}#nieuw-item[_ngcontent-%COMP%]:focus{border-color:#7c4dff}#toevoegen-btn[_ngcontent-%COMP%]{background-color:#7c4dff;color:#fff;border:none;padding:15px 25px;font-size:1.1rem;border-radius:8px;cursor:pointer;transition:background-color .3s;width:100%}#toevoegen-btn[_ngcontent-%COMP%]:hover{background-color:#6a3de8}.boodschappen-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;max-width:1200px;margin:0 auto}.boodschap-item[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 10px #0000000d;display:flex;align-items:center;position:relative;overflow:hidden;transition:transform .3s,box-shadow .3s;cursor:pointer}.boodschap-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px #0000001a}.checkbox-container[_ngcontent-%COMP%]{margin-right:15px}.checkbox[_ngcontent-%COMP%]{display:none}.checkbox-custom[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;border:2px solid #7c4dff;border-radius:5px;position:relative;cursor:pointer;transition:background-color .3s}.checkbox[_ngcontent-%COMP%]:checked + .checkbox-custom[_ngcontent-%COMP%]{background-color:#7c4dff}.checkbox[_ngcontent-%COMP%]:checked + .checkbox-custom[_ngcontent-%COMP%]:after{content:"";position:absolute;top:45%;left:50%;transform:translate(-50%,-50%) rotate(45deg);width:6px;height:12px;border-right:3px solid white;border-bottom:3px solid white}.boodschap-tekst[_ngcontent-%COMP%]{font-size:1.1rem;flex:1;position:relative;transition:color .3s;display:inline-block;word-break:break-word;padding-right:10px}.afgestreept[_ngcontent-%COMP%]   .boodschap-tekst[_ngcontent-%COMP%]{color:#aaa}.afgestreept[_ngcontent-%COMP%]   .boodschap-tekst[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:0;width:0;height:3px;background-color:#ff7eb3;animation:_ngcontent-%COMP%_strikethrough .5s forwards}@keyframes _ngcontent-%COMP%_strikethrough{0%{width:0}to{width:100%}}.verwijder-btn[_ngcontent-%COMP%]{background:none;border:none;color:#ff5252;font-size:2rem;cursor:pointer;opacity:.7;transition:opacity .3s,transform .3s;padding:8px 12px;margin-left:10px;z-index:10;flex-shrink:0;min-width:44px;min-height:44px;display:flex;align-items:center;justify-content:center}.verwijder-btn[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.1)}.leeg-bericht[_ngcontent-%COMP%]{text-align:center;grid-column:1/-1;padding:30px;color:#888;font-size:1.2rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #0000000d}.verwijderen-animatie[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_verwijderen .5s forwards}@keyframes _ngcontent-%COMP%_verwijderen{0%{transform:scale(1);opacity:1}to{transform:scale(.8);opacity:0}}.loader-container[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;gap:20px}.loader[_ngcontent-%COMP%]{width:48px;height:48px;border:5px solid #7c4dff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:_ngcontent-%COMP%_rotation 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loader-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1.1rem}@media (max-width: 600px){[_nghost-%COMP%]{padding:10px}header[_ngcontent-%COMP%]{margin-bottom:20px;padding:15px 0}h1[_ngcontent-%COMP%]{font-size:1.8rem}.input-container[_ngcontent-%COMP%]{margin-bottom:20px}#nieuw-item[_ngcontent-%COMP%], #toevoegen-btn[_ngcontent-%COMP%]{padding:12px;font-size:1rem}.boodschappen-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.boodschap-item[_ngcontent-%COMP%]{padding:15px}.boodschap-tekst[_ngcontent-%COMP%]{font-size:1rem}.checkbox-custom[_ngcontent-%COMP%]{width:20px;height:20px}.verwijder-btn[_ngcontent-%COMP%]{font-size:1.8rem;padding:6px 10px;min-width:40px;min-height:40px}.loader-container[_ngcontent-%COMP%]{padding:30px}.loader[_ngcontent-%COMP%]{width:40px;height:40px;border-width:4px}.loader-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}']})};db(Bd,mS).catch(t=>console.error(t));
